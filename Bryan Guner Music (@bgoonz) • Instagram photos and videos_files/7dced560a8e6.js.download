__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136512,[19136513]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){return t||r(d[7])(0),t}const{getInternalDefaultConfig:s}=r(d[0]),{OzDrmManager:l}=r(d[1]),{OzDevConsolePerfLoggerProvider:n}=r(d[2]),{executeOperationAndLog:o,monitorPromiseAndLogOperation:y}=r(d[3]),{OzMultiDestinationPerfLoggerProvider:h}=r(d[4]),{applyVideoPlaybackRestrictions:P}=r(d[5]),{pumpString:$}=r(d[6]);m.exports=class extends(r(d[43])){constructor(t){super(),this.$Player1=new Map,this.$Player2=new Map,this.$Player3=void 0,this.$Player4=new(r(d[8])),this.$Player5=new(r(d[9])),this.$Player6=[],this.$Player7=null,this.$Player8=null,this.$Player9=!1,this.$Player10=null;const{audioOnly:l=!1,videoNodeOrQuickStarter:n,config:o,rawMpdXml:y,dimensions:P,mpdUrl:$=null,loggerConfig:u={perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1},prefetchCache:c=null,overrideOzRequestImplementation:p=null,networkRequestStreamHandlers:f,getShouldIncludeCredentials:v=null,initialRepresentationIDs:b=[],debugCreateInitiator:_=null,customParsers:S=new Map,entityKey:w="",videoPlaybackRestrictions:R=[],customSegmentTimelineParser:E=null,customRepresentationParsers:A={},videoAbrManagerFactory:M=null,seekHandler:B=null,initialPlaybackPositionForDynamicMpd:C=-20,liveheadFallBehindBlockThreshold:L=30,liveheadFallBehindBlockMargin:D=5.9,startTimeStamp:I=0,drmProviders:T=[],getVideoDimensions:V=null}=t;this.$Player11=_;const{perfLoggerProviders:k,observedOperationLoggers:O}=u,{isOzDevConsoleEnabled:x}=u;this.$Player12=x||!1,this.$Player13=new h(this.$Player14().concat(k)),this.$Player15=l,this.$Player16=s(o),this.$Player17(),this.$Player18=new(r(d[10])),this.$Player18.observe(O,this.$Player13),this.$Player19=c,this.$Player10=p;const Q=c&&c.getCachedRepresentations(w);this.$Player6=Q||b,this.$Player20=S,this.$Player21=R,this.$Player22=A,this.$Player23=E,this.$Player24=M,this.$Player25=B,this.$Player26=I,this.$Player27=C,this.$Player28=L,this.$Player29=D,this.$Player30=T,n instanceof HTMLVideoElement?(this.$Player31=n,this.$Player32=new(r(d[11]))(this.$Player31,this.$Player16,this.$Player13)):(this.$Player31=n.getVideoNode(),this.$Player32=n.getMediaSourceManager(),this.$Player33=n),this.$Player34=f,this.$Player35=v,this.$Player36=new(r(d[12]))(this.$Player16,this.$Player19,this.$Player34,this.$Player10,this.$Player35),this.$Player37=$,this.$Player38=y,this.$Player39=new(r(d[13]))(this.$Player31,this.$Player13),this.$Player40=new(r(d[14]))(P),this.$Player41=V,this.$Player42=new(r(d[15]))(this.$Player32,this.$Player16),this.$Player4.addSubscriptions(this.$Player42.addListener('streamEnd',()=>{this.$Player9=!0,this.emit('streamEnd')})),this.$Player43=new(r(d[16]))(this.$Player32,this.$Player16),this.$Player44=this.$Player45(),null==this.$Player33&&(this.$Player46=this.$Player47())}setupPlayer(){this.$Player48(),this.$Player33&&this.$Player4.addSubscriptions(this.$Player33.onError(this.$Player5.emitError));try{const t=o(this.$Player13.cloneContext().setInitiator(this.$Player11),'parse_manifest',this.$Player49.bind(this,this.$Player38));this.$Player16.getBool('async_parse_manifest_xml')?r(d[17]).resolve(t).then(this.$Player50.bind(this)).catch(this.$Player5.emitError.bind(this)):this.$Player50(t)}catch(t){if(!(t instanceof r(d[18])))throw t;this.$Player5.emitError(t)}}load(t){try{if(null!=this.$Player38)this.setupPlayer();else if(t){this.$Player37=t;const s=this.$Player36.requestRawUrl(t,{credentials:'same-origin'},null,this.$Player13).getStream().getReader();$(s).then(t=>{this.$Player38=t,this.setupPlayer()}).catch(t=>{this.$Player5.emitError(t)})}}catch(t){this.$Player5.emitError(t)}}$Player50(s){if(this.$Player3=t(s),null!==this.$Player37&&void 0!==this.$Player37){const t=new(r(d[19]))(this.$Player16,s,this.$Player36,this.$Player39,this.$Player13,{customParsers:this.$Player20,customRepresentationParsers:this.$Player22,customSegmentTimelineParser:this.$Player23},this.$Player51);this.$Player52(t),this.$Player4.addSubscriptions(t.onError(this.$Player5.emitError),t.addListener('streamTransitionToStatic',this.$Player53.bind(this))),t.setupUpdateLoop(),this.$Player54=t}this.$Player26=s.isStaticMpd()?this.$Player26:this.$Player27,this.$Player55=new(r(d[20]))({video:this.$Player31,mpd:s,playheadCatchup:this.$Player56,playbackState:this.$Player39,config:this.$Player16,perfLoggerProvider:this.$Player13,seekHandler:this.$Player25,initialPlaybackPosition:this.$Player26}),this.$Player57=new(r(d[21]))(this.$Player16,this.$Player31),this.$Player58=new(r(d[22]))(this.$Player31,s,this.$Player28,this.$Player29),this.$Player59(),this.emit('mpd_ready',s)}updatePlayerRunTimeConfig(t){const{videoStreamDataHandler:s}=t;if(void 0!==s){const t=this.$Player1.get('video');t&&t.updateRunTimeConfigs({videoStreamDataHandler:s})}}$Player60(t,s){const l=t.getMimeCodecs();let n,o=0,h=null;const P=this.$Player33;return P&&(n=P.getSourceBufferManagerPromise(l),o=P.getPrependedSegmentsCount(l),this.$Player16.getBool('fix_quick_starter_overhead')&&(h=P.getRepresentationId(l))),n||(n=this.$Player32.createSourceBufferManager(l,this.$Player16.getBool('set_source_buffer_append_window_end'))),this.$Player61(n,s,h,t,o),y(n,this.$Player13,'source_attach',t=>{t.setType(s)}).then(t=>this.$Player55.observeSourceBufferState(t.getSourceBufferState(),s))}isDrm(){const t=this.$Player51;if(null!==t&&void 0!==t){const s=t.hasContentProtections();return null!=s&&s}return!1}$Player48(){if(this.$Player30.length>0){const t=this.$Player51=new l(this.$Player13,this.$Player31);t.onError(this.$Player5.emitError),this.$Player30&&this.$Player30.forEach(t.addProvider,t),this.$Player22.drmProtections&&this.$Player5.emitError(new(r(d[18]))({type:'OZ_DRM_MANAGER',description:'"drmProtections" is a reserved parser name for "customRepresentationParsers". Please rename your parser.'})),this.$Player22.drmProtections=t.parseContentProtectionForRepresentation.bind(this.$Player51)}}$Player62(s){const l=t(this.$Player3),n=[this.$Player16,s,l.getVideoRepresentations(),this.$Player21,this.$Player39,this.$Player40,window.devicePixelRatio||1,this.$Player63.bind(this)];return this.$Player24?this.$Player24(...n):new(r(d[23]))(...n)}$Player61(s,l,n,o,y){const h=t(this.$Player3),$=this.$Player2.get(l),u=new(r(d[24]))(this.$Player16,s,y,this.$Player36,this.$Player39,this.$Player42,this.$Player44,this.$Player64(),this.$Player65($),$,n,o,this.$Player13.cloneContext().setType(l));0===this.$Player26?u.start():this.$Player4.addSubscriptions(this.$Player55.addListener('initialPlaybackPositionSet',()=>{this.$Player39.forceUpdateCurrentTime(),u.start()})),this.$Player4.addSubscriptions(u.onError(this.$Player5.emitError),this.$Player43.listenToMediaStreamInitAppended(u)),'video'===l&&(this.$Player8=new(r(d[25]))(this.$Player16,this.$Player39,P(this.$Player21,this.$Player63(),h.getVideoRepresentations()),u,s)),this.$Player1.set(l,u),this.$Player4.addSubscriptions(u.addListener('switchRepresentation',()=>{'video'===l&&this.emit('switchVideoRepresentation')}),u.addListener('SegmentAppended',t=>{this.$Player66('SegmentAppended',t)}))}$Player45(){return new(r(d[26]))([new(r(d[27]))(this.$Player39,this.$Player16),new(r(d[28]))(this.$Player16)])}$Player52(t){if(this.$Player16.getNumber('stream_interrupt_check_mpd_stale_count_threshold')>0){const s=new(r(d[29]))(this.$Player31);this.$Player4.addSubscriptions(s.addListener('playheadAtInterruption',t=>this.emit('streamInterruptAt',t)),t.addListener('streamInterruptAt',t=>s.notifyStreamInterrupted(t)),t.addListener('streamResumedAt',t=>{s.notifyStreamResumed(),this.emit('streamResumedAt',t)})),this.$Player7=s}}$Player64(){const t=[new(r(d[30]))(this.$Player39),new(r(d[31]))(this.$Player39)];return new(r(d[32]))(t)}$Player65(t){const s=[new(r(d[33]))(this.$Player16),new(r(d[34]))(this.$Player44,this.$Player16)];if(0!==this.$Player16.getNumber('paused_stream_segments_count')&&s.push(new(r(d[35]))(this.$Player39,this.$Player16)),t){const l=t.getStreamSegmentsCountStrategy();l&&s.push(l)}return new(r(d[36]))(s)}onError(t){return this.$Player5.onError(t)}getCurrentQuality(){const t=this.$Player3;if(!t)return'';const s=this.$Player1.get('video'),l=s&&s.getCurrentRepresentation();if(l instanceof r(d[37]))return l.getQualityLabel();const n=t.getVideoRepresentations()[0];return n?n.getQualityLabel():(n||r(d[7])(0),'')}switchToVideoQuality(s){const l=t(this.$Player3).getVideoRepresentations().find(t=>t.getQualityLabel()===s);if(l){const t=this.$Player1.get('video');t&&(t.switchRepresentation(l),t.disableAdaptation())}}getIsVideoQualityAdaptationEnabled(){const t=this.$Player1.get('video');return!!t&&t.getIsAdaptationEnabled()}enableVideoQualityAdaptation(){const t=this.$Player1.get('video');t&&t.enableAdaptation()}getVideoQualities(){const t=this.$Player3;return t?t.getVideoRepresentations().map(t=>t.getQualityLabel()):[]}setEnableLiveheadCatchup(t){this.$Player58&&(t?this.$Player13.getOperationLogger('live_catchup_enabled').log():this.$Player13.getOperationLogger('live_catchup_disabled').log(),this.$Player58.setTimelineBlockingEnabled(t))}$Player59(){const t=this.$Player15?[this.$Player67({liveConfigsFromAudioStream:!0})]:[this.$Player68(),this.$Player67({})],s=[];return Promise.all(t).then(()=>{const t=this.$Player1.get('video'),l=this.$Player1.get('audio');t&&s.push(t.getCurrentRepresentation()),l&&s.push(l.getCurrentRepresentation()),s.forEach(t=>{this.$Player4.addSubscriptions(t.addUpdateListener(()=>{this.$Player66('SegmentIndexesUpdated',s)}))}),this.$Player66('InitialSegmentIndexes',s),this.$Player31&&this.$Player31.style&&(this.$Player31.style.display=this.$Player15?'none':'block')})}$Player69(t){if(t.getTimeRanges().length){const s=t.getTimeRanges()[t.getTimeRanges().length-1].endTime;this.$Player32.updateDuration(s)}}$Player70(t){this.$Player69(t),this.$Player43.setTimeRangeProvider(t),this.$Player55.setTimeRangeProvider(t),null!=this.$Player58&&this.$Player58.setTimeRangeProvider(t)}$Player68(){const s=t(this.$Player3),l=P(this.$Player21,this.$Player63(),s.getVideoRepresentations());if(!l.length)return r(d[17]).reject(new Error('no representation available.'));this.$Player70(l[0]);let n=this.$Player71(l);if(this.$Player16.getBool('enable_adaptation')){const t=this.$Player62(n||l[0]);this.$Player2.set('video',t),this.$Player16.getBool('use_abr_for_missing_default_representation')&&!n&&(n=t.getBestRepresentation())}return this.$Player60(n||l[0],'video')}$Player67({liveConfigsFromAudioStream:s=!1}){const l=t(this.$Player3).getAudioRepresentations();return s&&this.$Player70(l[0]),l.length?this.$Player60(this.$Player72(l)||l[0],'audio'):r(d[17]).resolve()}getMpd(){return this.$Player3}destroy(t){const s=this.$Player13.getOperationLogger('unload').setInitiator(t).start();this.$Player1.forEach(t=>{t.cleanup()}),this.$Player8&&this.$Player8.cleanup(),this.$Player1=new Map,this.$Player4.release(),this.$Player4.engage(),this.$Player39.destroy(),this.$Player55&&this.$Player55.destroy(),this.$Player57&&(this.$Player57.destroy(),this.$Player57=null),this.$Player58&&(this.$Player58.destroy(),this.$Player58=null),this.$Player51&&this.$Player51.destroy(),this.$Player36&&this.$Player36.destroy(),this.$Player41&&(this.$Player41=null),this.$Player16.getBool('detach_media_source_manager')&&this.$Player32&&this.$Player32.detach();var l=Promise.resolve();this.$Player16.getBool('cleanup_video_node_on_destroy')&&(this.$Player31.pause(),this.$Player16.getBool('remove_src_attr_on_unload')?this.$Player31.removeAttribute('src'):this.$Player31.src='',this.$Player31.setMediaKeys&&'function'==typeof this.$Player31.setMediaKeys&&(l=this.$Player31.setMediaKeys(null))),this.$Player54&&this.$Player54.destroy(),this.$Player7&&this.$Player7.destroy(),this.$Player18.destroy(),this.$Player43.destroy(),this.$Player46&&this.$Player46.destroy(),s.log(),this.emit('destroyed');var n=[l];return Promise.all(n)}$Player71(t){let s;if(!(s=t.find(t=>-1!==this.$Player6.indexOf(t.getID())))&&this.$Player33&&this.$Player16.getBool('fix_quick_starter_overhead')){const l=this.$Player33.getRepresentationId('video');null!==l&&void 0!==l&&(s=t.find(t=>t.getID()===l))}return s||(s=r(d[38])(t,this.$Player19)),s||null}$Player72(s){const l=t(this.$Player3);let n;if(!(n=s.find(t=>-1!==this.$Player6.indexOf(t.getID())))&&this.$Player33&&this.$Player16.getBool('fix_quick_starter_overhead')){const t=this.$Player33.getRepresentationId('audio');null!==t&&void 0!==t&&(n=s.find(s=>s.getID()===t))}return n||(n=r(d[38])(s,this.$Player19)),!n&&!l.isStaticMpd()&&s.length>1&&this.$Player16.getBool('live_audio_ibr')&&(n=new(r(d[39]))(this.$Player16,this.$Player13).getInitialAudioRepresentation(s)),n||null}$Player49(t){const s=new(r(d[40]))(this.$Player16,{mpdUrl:this.$Player37,customParsers:this.$Player20,customRepresentationParsers:this.$Player22,customSegmentTimelineParser:this.$Player23},this.$Player36,this.$Player13,this.$Player51);return this.$Player4.addSubscriptions(s.onError(this.$Player5.emitError)),s.parse(t)}$Player14(){const t=[];return this.$Player12&&t.push(new n),t}setDimensions(t){this.$Player40.setDimensions(t)}$Player73(t,s){const l=this.$Player1.get(s);return l?l.getRepresentationIDAtTime(t):null}getAudioRepresentationIDAtTime(t){return this.$Player73(t,'audio')}getVideoRepresentationIDAtTime(t){return this.$Player73(t,'video')}getCurrentVideoRepresentation(){const t=this.$Player1.get('video');return null!=t?t.getCurrentRepresentation():null}getCurrentAudioRepresentation(){const t=this.$Player1.get('audio');return null!=t?t.getCurrentRepresentation():null}$Player53(){this.$Player1.forEach(t=>t.endStreamIfBufferedToEndTime())}getDebug(){const s=this.$Player1.get('video'),l=this.$Player1.get('audio');let n,o,y,h,P;return s&&(n=s.getDebug().MediaStreamAbrManager,(o=s.getDebug().SourceBufferManager)&&(y=o.getDebug().SourceBuffer)),l&&(h=l.getDebug().SourceBufferManager)&&(P=h.getDebug().SourceBuffer),{getManifest:()=>t(this.$Player3),indentifiersIntact:!0,VideoSourceStream:s,VideoAbrManager:n,VideoBufferManager:o,VideoSourceBuffer:y,AudioSourceStream:l,AudioBufferManager:h,AudioSourceBuffer:P}}$Player66(t,s){this.emit('debug/dashPlayerEvent',{detail:{type:t,event:s}})}$Player17(){this.$Player16.getBool('live_playhead_catch_up')&&(this.$Player56=new(r(d[41]))(this.$Player16))}$Player47(){const t=new(r(d[42]))(this.$Player31,this.$Player16.getLegacyConfig(),()=>this.$Player9?this.$Player31.duration:1/0);return this.$Player4.addSubscriptions(t.addListener('enter_buffering',()=>{this.emit('enter_buffering')}),t.addListener('leave_buffering',()=>{this.emit('leave_buffering')})),t}$Player63(){return this.$Player16.getBool('use_get_dimensions_callback')?this.$Player41?this.$Player41():{width:this.$Player31.offsetWidth,height:this.$Player31.offsetHeight}:this.$Player40.getDimensions()}}},19136513,[19136514,19136515,19136516,19136517,19136518,19136519,19136520,19136521,19136522,19136523,19136524,19136525,19136526,19136527,19136528,19136529,19136530,19136531,19136532,19136533,19136534,19136535,19136536,19136537,19136538,19136539,19136540,19136541,19136542,19136543,19136544,19136545,19136546,19136547,19136548,19136549,19136550,19136551,19136552,19136553,19136554,19136555,19136556,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=new(r(d[0]));m.exports={getInternalDefaultConfig:n=>({getBool:o=>n.getBool(o,t.getBool(o)),getNumber:o=>n.getNumber(o,t.getNumber(o)),getString:o=>n.getString(o,t.getString(o)),getLegacyConfig:()=>n})}},19136514,[19136558]);
__d(function(g,r,i,a,m,e,d){'use strict';const{defaultBools:t,defaultNumbers:u,defaultStrings:n}=r(d[0]);m.exports=class{getBool(u){return t[u]}getNumber(t){return u[t]}getString(t){return n[t]}getLegacyConfig(){return{getBool:(u,n)=>{var l;return null!==(l=t[u])&&void 0!==l?l:n},getNumber:(t,n)=>{var l;return null!==(l=u[t])&&void 0!==l?l:n},getString:(t,u)=>{var l;return null!==(l=n[t])&&void 0!==l?l:u}}}}},19136558,[19136559]);
__d(function(g,r,i,a,m,e,d){m.exports={defaultBools:{abr_use_download_time:!1,allow_queueing_end_of_stream_when_update:!1,async_parse_manifest_xml:!1,back_off_pdash_504_retry:!0,bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,buffer_when_waiting:!1,call_end_of_stream_in_quick_starter:!0,check_buffer_range_once_for_playhead_update:!1,cleanup_video_node_on_destroy:!0,clear_buffer_when_switch_representation_initiator_is_user:!0,clear_prepended_segments_count_on_append:!0,compute_buffer_ahead_with_timeline_gaps:!1,copy_new_manifest:!1,detach_media_source_manager:!0,disable_audio_scheduler:!1,enable_abr_for_first_request:!1,enable_adaptation:!0,enable_appends_on_wait_update_end_failure:!1,enable_network_manager_error:!1,enable_quickdashv2:!0,estimate_video_bandwidth_only:!0,exclude_prefetch_bandwidth_samples:!0,exclude_sidx_from_bandwidth_estimates:!0,fallback_on_append_error:!1,fix_abr_default_representation:!0,fix_quick_starter_overhead:!0,fix_seek_performance:!1,fix_templated_manifest_r_field_check:!0,fix_template_duration_artifact_in_manifest:!0,generate_mos_segment_appended_secs:!0,ignore_time_to_response_start:!1,lazy_parse_sidx:!1,live_audio_ibr:!0,live_catch_up_only_when_paused:!1,live_disable_mpd_updates_when_paused:!0,live_gracefully_handle_mpd_errors:!0,live_gracefully_handle_no_network:!0,live_no_segment_when_playhead_is_before_first_segment:!0,live_playhead_catch_up:!1,live_query_time_in_range:!0,log_appended_secs:!1,maybe_end_stream_if_prepended_segments:!0,no_new_loop_body_promise_when_stream_ongoing:!0,pausable_stream_throws_error_when_aborted:!0,pdash_continue_interrupt_from_error:!0,queue_data_with_error_handling:!1,reach_end_only_when_video_ended:!1,remove_src_attr_on_unload:!0,retry_fetch_on_prefetch_error:!1,sbm_recursively_waits_for_update_end:!1,sbm_waits_for_update_end:!0,seek_ahead_use_native_current_time:!0,seek_to_start_quick_starter:!0,set_source_buffer_append_window_end:!1,skip_videobuffer_gaps:!1,stop_manifest_update_when_static:!0,suppress_playing_event_while_buffering:!1,throw_network_error_during_stream:!1,throw_on_non_zero_r_d_mismatch:!0,touch_cb_key:!1,update_bandwidth_cache_on_sample:!1,update_duration_when_init_appended:!0,update_media_source_duration:!0,use_abr_for_missing_default_representation:!0,use_deferred_streaming_task:!0,use_get_dimensions_callback:!1,use_internal_buffering_detector:!0,use_loose_manifest_updates:!1,use_performance_entry_on_stream_close:!1,use_scf_timebased_segments:!1,use_scheduler:!0,use_sc_timebased_segments:!1,use_segment_request_cache:!1,use_stream_end_time_in_segment_locator:!1},defaultNumbers:{abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:1e5,appends_per_segment:3,auto_seek_playhead_slack:.5,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_estimator_variance_penalty_down_factor:0,bandwidth_estimator_variance_penalty_half_life:0,bandwidth_estimator_variance_penalty_up_factor:0,bandwidth_penalty_additional_video_start:0,bandwidth_penalty_per_additional_video:0,bandwidth_response_time_handicap:0,buffer_ahead_target:22,byte_count_per_sample:6e4,default_bandwidth_estimate:1e6,download_time_buffer_delta_penalty_factor:0,initial_switch_interval:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,live_audio_ibr_bandwidth_percentage:.05,live_catch_up_fall_behind_threshold:20,live_catch_up_live_head_delta:6,live_max_try_attempts_on_404:2,live_numerical_error_epsilon:1e-4,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:2e6,min_eval_interval:1e3,minimum_bandwidth_sample_duration:30,minimum_bytes_to_sample_on_close:25e3,minimum_download_additional_buffer_ms:0,min_switch_interval:5e3,network_seg_timeout_ms:0,num_predictive_segments:1,paused_stream_segments_count:2,per_stream_duration_target:0,playhead_nudge_slack:.1,pre_start_buffer_ahead_target:16.924449682236,resolution_constraint_factor:2,seconds_to_stream:10,seconds_to_stream_near_bandwidth_boundary:10,seek_ahead_epsilon:.05,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,start_buffer_underflow_target:.1,stream_interrupt_check_mpd_stale_count_threshold:3,timeline_offset_threshold:10,time_to_first_byte_estimate_half_life_ms:500},defaultStrings:{bandwidth_cache_key:'bandwidthEstimate',network_end_broadcasts_json:'[]',network_reload_mpd_json:'[]',network_retry_intervals_json:'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}',network_skip_json:'[]'}}},19136559,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const{monitorPromiseAndLogOperation:t}=r(d[0]),{listenDOMEvent:s}=r(d[1]),{base64ToUint8Array:n}=r(d[2]);m.exports={OzDrmManager:class{constructor(t,s){this.$OzDrmManager1=new Map,this.$OzDrmManager2=!1,this.$OzDrmManager3=new(r(d[3])),this.$OzDrmManager4=new(r(d[4])),this.$OzDrmManager5=!1,this.$OzDrmManager6=null,this.$OzDrmManager9=(t=>{let s=t;t instanceof r(d[5])||(s=new(r(d[5]))({type:'OZ_DRM_MANAGER',description:t.message,extra:{originalError:t}})),this.$OzDrmManager4.emitError(s)}),this.$OzDrmManager7=s,this.$OzDrmManager8=t.cloneContext().setType('drm_manager')}hasContentProtections(){return this.$OzDrmManager6}onError(t){return this.$OzDrmManager4.onError(t)}addProvider(t){this.$OzDrmManager1.set(t.getSchemeId(),t)}getProviderForSchemeId(t){return this.$OzDrmManager1.get(t)}parseContentProtectionForRepresentation(t){if(!t.ContentProtection)return null;const s=[];for(let o=0;o<t.ContentProtection.length;o++){const c=t.ContentProtection[o],h=c.$.schemeIdUri,D=this.getProviderForSchemeId(h);if(D){let t=D.getInitDatas();if(0==t.length&&c['cenc:pssh']&&1===c['cenc:pssh'].length){const s=c['cenc:pssh'][0]._;t=[{data:n(s.replace(/-/g,'+').replace(/_/g,'/')),type:'cenc'}],D.setInitDatas(t)}s.push({provider:D,initDatas:t})}}return s}startEME(t,s,n,o){if(this.$OzDrmManager5)return;this.$OzDrmManager5=!0;const c=new Map;this.$OzDrmManager10(n,o,c,'audio'),this.$OzDrmManager10(t,s,c,'video');let h;if(c.forEach((t,s)=>{h=h?h.catch(()=>this.$OzDrmManager11(s,t)):this.$OzDrmManager11(s,t)}),!h)return void(this.$OzDrmManager6=!1);this.$OzDrmManager6=!0;const D=this.$OzDrmManager8.getOperationLogger('drm_setup').start();h.then(this.$OzDrmManager12.bind(this)).then(this.$OzDrmManager13.bind(this)).then(this.$OzDrmManager14.bind(this)).then(()=>D.log(),t=>{this.$OzDrmManager9(t),D.setResult('failed').setError(t).log()})}$OzDrmManager15(t){t instanceof r(d[6])&&t.getError()&&t.setResult('failed')}$OzDrmManager10(t,s,n,o){s.forEach(s=>{let c;c=t&&t.ContentProtection?this.parseContentProtectionForRepresentation(t):s.getCustomField('drmProtections');const h=s.getMimeCodecs();void 0!==c&&null!==c&&c.forEach(t=>{const s=t.provider;n.has(s.getKeySystem())||n.set(s.getKeySystem(),{audioCapabilities:new Map,videoCapabilities:new Map,distinctiveIdentifier:s.getRequireDistinctiveIdentifier(),persistentState:s.getRequirePersistentState(),sessionTypes:s.getDrmSessionTypes(),initDataTypes:s.getInitDataTypes()});const c=n.get(s.getKeySystem());'audio'!==o||c.audioCapabilities.has(h)||c.audioCapabilities.set(h,{contentType:h,robustness:s.getAudioRobustness()}),'video'!==o||c.videoCapabilities.has(h)||c.videoCapabilities.set(h,{contentType:h,robustness:s.getVideoRobustness()})})})}destroy(){this.$OzDrmManager3.release(),this.$OzDrmManager2=!0}$OzDrmManager11(s,n){const o={audioCapabilities:Array.from(n.audioCapabilities.values()),videoCapabilities:Array.from(n.videoCapabilities.values()),distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes,initDataTypes:n.initDataTypes};return t(window.navigator.requestMediaKeySystemAccess(s,[o]),this.$OzDrmManager8,'drm_request_media_key_system_access',()=>{},this.$OzDrmManager15)}$OzDrmManager12(s){if(this.$OzDrmManager2)return r(d[7]).reject();const n=null!=this.$OzDrmManager7.mediaKeys?r(d[7]).resolve(this.$OzDrmManager7.mediaKeys):s.createMediaKeys();return t(n.then(t=>({mediaKeySystemAccess:s,mediaKeys:t})),this.$OzDrmManager8,'drm_create_media_keys',()=>{},this.$OzDrmManager15)}$OzDrmManager13(s){if(this.$OzDrmManager2)return r(d[7]).reject();const{mediaKeySystemAccess:n,mediaKeys:o}=s;if(!o)throw new(r(d[5]))({type:'OZ_DRM_MANAGER',description:'No mediaKeys for mediaKeySystemAccess'});const c=this.$OzDrmManager7.setMediaKeys(o).then(()=>{if(this.$OzDrmManager2)return r(d[7]).reject();const t=Array.from(this.$OzDrmManager1.values()).find(t=>t.getKeySystem()===n.keySystem);if(!t)throw new(r(d[5]))({type:'OZ_DRM_MANAGER',description:`Can't find OzDrmProvider for keySystem ${n.keySystem}`});const s=t.getServerCertificate();return s?o.setServerCertificate(s).then(()=>({mediaKeySystemAccess:n,mediaKeys:o,provider:t})):{mediaKeys:o,provider:t}});return t(c,this.$OzDrmManager8,'drm_set_media_keys',()=>{},this.$OzDrmManager15)}$OzDrmManager14(n){const{mediaKeys:o,provider:c}=n,h=c.getInitDatas();if(0===h.length)return this.$OzDrmManager3.addSubscriptions(s(this.$OzDrmManager7,'encrypted',t=>{this.$OzDrmManager16(o,c,t).catch(this.$OzDrmManager9)})),r(d[7]).resolve([]);const D=h.map(t=>this.$OzDrmManager16(o,c,{initData:t.data,initDataType:t.type}));return t(r(d[7]).all(D),this.$OzDrmManager8,'drm_request_license',()=>{},this.$OzDrmManager15)}$OzDrmManager16(t,n,o){const c=t.createSession();return this.$OzDrmManager3.addSubscriptions(s(c,'message',t=>{this.$OzDrmManager17(c,n,t).catch(this.$OzDrmManager9)}),s(c,'keystatuseschange',t=>{this.$OzDrmManager18(c).catch(this.$OzDrmManager9)})),c.generateRequest(o.initDataType,o.initData)}$OzDrmManager17(t,s,n){const o=s.getLicenseRequestInfo(n.message.slice(0));return window.fetch(o.url,o).then(t=>t.arrayBuffer()).then(n=>{const o=new Uint8Array(n),c=s.parseLicenseResponse(o);null===c||void 0===c||0===c.byteLength?this.$OzDrmManager9(new Error('No license for '+s.getKeySystem())):t.update(c)})}$OzDrmManager18(t){return t.expiration<Date.now()?t.close():r(d[7]).resolve()}}}},19136515,[19136517,19136560,19136561,19136522,19136523,19136532,19136562,19136531]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={executeOperationAndLog:function(t,o,n){const c=t.getOperationLogger(o).start();try{return n(c)}catch(t){throw c.setError(t),t}finally{c.log()}},monitorPromiseAndLogOperation:function(t,o,n,c=(()=>{}),s=(()=>{})){const u=o.getOperationLogger(n).start();return c(u),t.then(t=>(s(u),u.log(),t)).catch(t=>{throw s(u),u.setError(t),u.log(),t})}}},19136517,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136560,[19136563]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n,o,s){if(null==t.addEventListener)throw new Error(`Attempted to listen to eventType "${n}" on a target that does not have addEventListener.`);return t.addEventListener(n,o,s),{remove(){t.removeEventListener(n,o,s)}}}m.exports={captureDOMEvent:(n,o,s)=>t(n,o,s,!0),listenDOMEvent:(n,o,s)=>t(n,o,s,!1),suppressDOMEvent:t=>{t.preventDefault(),t.stopPropagation()}}},19136563,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={base64ToUint8Array:o=>Uint8Array.from(window.atob(o),o=>o.charCodeAt(0)),arrayBufferToBase64:o=>window.btoa(String.fromCharCode.apply(null,new Uint8Array(o)))}},19136561,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136522,[19136564]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(){this.$OzSubscriptionsHandler1=[]}addSubscriptions(...s){if(null==this.$OzSubscriptionsHandler1)throw new Error('Subscriptions cannot be added after SubscriptionsHandler is released without calling engage()');this.$OzSubscriptionsHandler1=this.$OzSubscriptionsHandler1.concat(s)}release(){null!=this.$OzSubscriptionsHandler1&&(this.$OzSubscriptionsHandler1.forEach(s=>s.remove()),this.$OzSubscriptionsHandler1=null)}engage(){null==this.$OzSubscriptionsHandler1&&(this.$OzSubscriptionsHandler1=[])}}},19136564,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends(r(d[1])){constructor(t=!1){super(),this.$OzErrorEmitter1=!1,this.$OzErrorEmitter2=!1,this.$OzErrorEmitter3=[],this.emitError=(t=>{this.$OzErrorEmitter1?this.emit('error',t):this.$OzErrorEmitter2?this.$OzErrorEmitter3.push(t):this.$OzErrorEmitter1||r(d[0])(0)}),this.$OzErrorEmitter2=t}onError(t){this.$OzErrorEmitter1=!0;const E=this.addListener('error',t);return this.$OzErrorEmitter2&&this.$OzErrorEmitter3.length>0&&this.$OzErrorEmitter3.forEach(this.emitError),E}}},19136523,[19136521,19136557]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])},19136521,[19136565]);
__d(function(g,r,i,a,m,e,d){m.exports=((o,n)=>{if(!o)throw new Error(n)})},19136565,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136557,[19136566]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(){this.$OzEventEmitter1=new Map}addListener(t,n){var s;return this.$OzEventEmitter1.set(t,(null!==(s=this.$OzEventEmitter1.get(t))&&void 0!==s?s:[]).concat(n)),{remove:()=>{var s;const v=null!==(s=this.$OzEventEmitter1.get(t))&&void 0!==s?s:[];this.$OzEventEmitter1.set(t,v.filter(t=>t!==n))}}}emit(t,...n){var s;(null!==(s=this.$OzEventEmitter1.get(t))&&void 0!==s?s:[]).forEach(t=>t.apply(this,n))}}},19136566,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t){this.$OzOperationLoggerBase1=t}start(){return this.getClientTimeBegin()||this.setClientTimeBegin(Date.now()),this}log(){this.getClientTimeEnd()||this.setClientTimeEnd(Date.now())}setError(t){return this.$OzOperationLoggerBase2=t,this}setResult(t){return this.$OzOperationLoggerBase3=t,this}setType(t){return this.$OzOperationLoggerBase4=t,this}setClientTimeBegin(t){return this.$OzOperationLoggerBase5=t,this}setClientTimeEnd(t){return this.$OzOperationLoggerBase6=t,this}setSegmentCount(t){return this.$OzOperationLoggerBase7=t,this}setTimeToFirstByte(t){return this.$OzOperationLoggerBase8=t,this}setTimeToLastByte(t){return this.$OzOperationLoggerBase9=t,this}setTimeToRequestStart(t){return this.$OzOperationLoggerBase10=t,this}setTimeToRequestSent(t){return this.$OzOperationLoggerBase11=t,this}setReason(t){return this.$OzOperationLoggerBase12=t,this}setResource(t){return this.$OzOperationLoggerBase13=t,this}setSegmentStartTime(t){return this.$OzOperationLoggerBase14=t,this}setSegmentEndTime(t){return this.$OzOperationLoggerBase15=t,this}setLength(t){return this.$OzOperationLoggerBase16=t,this}setLiveheadPosition(t){return this.$OzOperationLoggerBase17=t,this}setLiveheadSeqNum(t){return this.$OzOperationLoggerBase18=t,this}setManifestType(t){return this.$OzOperationLoggerBase19=t,this}setPriorityFloat(t){return this.$OzOperationLoggerBase20=t,this}setAppendedBufferMs(t){return this.$OzOperationLoggerBase21=t,this}setInitiator(t){return this.$OzOperationLoggerBase22=t,this}setPreloadTime(t){return this.$OzOperationLoggerBase23=t,this}setConcluder(t){return this.$OzOperationLoggerBase24=t,this}setPreviousRepresentationID(t){return this.$OzOperationLoggerBase25=t,this}setRepresentationID(t){return this.$OzOperationLoggerBase26=t,this}setStreamSwitchReason(t){return this.$OzOperationLoggerBase27=t,this}setState(t){return this.$OzOperationLoggerBase28=t,this}setContentLengthHeader(t){return this.$OzOperationLoggerBase29=t,this}setOriginHitHeader(t){return this.$OzOperationLoggerBase30=t,this}setEdgeHitHeader(t){return this.$OzOperationLoggerBase31=t,this}setCode(t){return this.$OzOperationLoggerBase32=t,this}getError(){return this.$OzOperationLoggerBase2}getResult(){return this.$OzOperationLoggerBase3}getType(){return this.$OzOperationLoggerBase4}getClientTimeBegin(){return this.$OzOperationLoggerBase5}getClientTimeEnd(){return this.$OzOperationLoggerBase6}getTimeToRequestStart(){return this.$OzOperationLoggerBase10}getTimeToRequestSent(){return this.$OzOperationLoggerBase11}getReason(){return this.$OzOperationLoggerBase12}getResource(){return this.$OzOperationLoggerBase13}getOperationName(){return this.$OzOperationLoggerBase1}getSegmentStartTime(){return this.$OzOperationLoggerBase14}getSegmentEndTime(){return this.$OzOperationLoggerBase15}getLength(){return this.$OzOperationLoggerBase16}getLiveheadPosition(){return this.$OzOperationLoggerBase17}getManifestType(){return this.$OzOperationLoggerBase19}getPriorityFloat(){return this.$OzOperationLoggerBase20}getAppendedBufferMs(){return this.$OzOperationLoggerBase21}getInitiator(){return this.$OzOperationLoggerBase22}getPreloadTime(){return this.$OzOperationLoggerBase23}getConcluder(){return this.$OzOperationLoggerBase24}getContentLengthHeader(){return this.$OzOperationLoggerBase29}getOriginHitHeader(){return this.$OzOperationLoggerBase30}getEdgeHitHeader(){return this.$OzOperationLoggerBase31}getCode(){return this.$OzOperationLoggerBase32}}},19136562,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136531,[19136567]);
__d(function(g,r,i,a,m,e,d){'use strict';const o=window.Promise;if(null==o)throw new Error('Promise must be supported or polyfilled');m.exports=o},19136567,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(...t){console.debug('[oz]',...t)}function n(...t){console.error('[oz]',...t)}function o(t,n){return Math.floor(t).toString().padStart(n,'0')}function s(t,n=null){const s=t=>`${o(t.getHours(),2)}:${o(t.getMinutes(),2)}:${o(t.getSeconds(),2)} ${o(t.getMilliseconds(),3)}`,u=n?n-t:0;return`[${s(t)}${n?' - '+s(n):''} (${u} ms)]`}function u(o){return'failed'===o?n:t}function c(t){return t?t.toFixed(2):null}class l extends(r(d[0])){createOperationLogger(t){return new $(t)}createLoggerProvider(){return new l}}class $ extends(r(d[1])){log(){super.log();const t=this.getClientTimeBegin()||0,n=this.getClientTimeEnd(),o=n?new Date(n):null,l=this.getResult()||'success',$=this.getType(),f=this.getInitiator(),h=this.getResource(),p=c(this.getSegmentStartTime()),S=c(this.getSegmentEndTime());u(l)(`[${l}]`,`${this.getOperationName()}: ${s(new Date(t),o)}`,$?`[${$}]`:'',p&&S?`[segment time range: ${p} - ${S}]`:'',f||'',h||'')}}m.exports={OzDevConsolePerfLoggerProvider:l,OzDevConsoleOperationLogger:$}},19136516,[19136568,19136562]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{cloneContext(){const t=this.createLoggerProvider();return this.$OzPerfLoggerProviderBase1(t),t}setType(t){return this.$OzPerfLoggerProviderBase2=t,this}setInitiator(t){return this.$OzPerfLoggerProviderBase3=t,this}setResource(t){return this.$OzPerfLoggerProviderBase4=t,this}setRepresentationID(t){return this.$OzPerfLoggerProviderBase5=t,this}setSegmentStartTime(t){return this.$OzPerfLoggerProviderBase6=t,this}setSegmentEndTime(t){return this.$OzPerfLoggerProviderBase7=t,this}setStreamSwitchReason(t){return this.$OzPerfLoggerProviderBase8=t,this}getType(){return this.$OzPerfLoggerProviderBase2}getInitiator(){return this.$OzPerfLoggerProviderBase3}getRepresentationID(){return this.$OzPerfLoggerProviderBase5}getStreamSwitchReason(){return this.$OzPerfLoggerProviderBase8}getResource(){return this.$OzPerfLoggerProviderBase4}getSegmentStartTime(){return this.$OzPerfLoggerProviderBase6}getSegmentEndTime(){return this.$OzPerfLoggerProviderBase7}getOperationLogger(t){const s=this.createOperationLogger(t);return this.setOperationContext(s)}setOperationContext(t){return this.$OzPerfLoggerProviderBase1(t),t}createOperationLogger(t){throw new Error('Not implemented: createOperationLogger')}createLoggerProvider(){throw new Error('Not implemented: createLoggerProvider')}$OzPerfLoggerProviderBase1(t){this.getType()&&t.setType(this.getType()),this.getInitiator()&&t.setInitiator(this.getInitiator()),this.getResource()&&t.setResource(this.getResource()),this.getRepresentationID()&&t.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&t.setStreamSwitchReason(this.getStreamSwitchReason()),'number'==typeof this.getSegmentStartTime()&&t.setSegmentStartTime(this.getSegmentStartTime()),'number'==typeof this.getSegmentEndTime()&&t.setSegmentEndTime(this.getSegmentEndTime())}}},19136568,[]);
__d(function(g,r,i,a,m,e,d){'use strict';class t extends(r(d[0])){constructor(t){super(),this.$OzMultiDestinationPerfLoggerProvider1=t}createOperationLogger(t){return new class extends(r(d[1])){constructor(t,s){super(t),this.$OzMultiDestinationOperationLogger1=s}start(){return super.start(),this.$OzMultiDestinationOperationLogger1.forEach(t=>t.start()),this}setResult(t){return super.setResult(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setResult(t)),this}setError(t){return super.setError(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setError(t)),this}setType(t){return super.setType(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setType(t)),this}setClientTimeEnd(t){return super.setClientTimeEnd(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setClientTimeEnd(t)),this}setClientTimeBegin(t){return super.setClientTimeBegin(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setClientTimeBegin(t)),this}setSegmentCount(t){return super.setSegmentCount(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setSegmentCount(t)),this}setTimeToFirstByte(t){return super.setTimeToFirstByte(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setTimeToFirstByte(t)),this}setTimeToLastByte(t){return super.setTimeToLastByte(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setTimeToLastByte(t)),this}setTimeToRequestStart(t){return super.setTimeToRequestStart(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setTimeToRequestStart(t)),this}setTimeToRequestSent(t){return super.setTimeToRequestSent(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setTimeToRequestSent(t)),this}setReason(t){return super.setReason(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setReason(t)),this}setResource(t){return super.setResource(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setResource(t)),this}setSegmentStartTime(t){return super.setSegmentStartTime(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setSegmentStartTime(t)),this}setSegmentEndTime(t){return super.setSegmentEndTime(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setSegmentEndTime(t)),this}setAppendedBufferMs(t){return super.setAppendedBufferMs(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setAppendedBufferMs(t)),this}setLength(t){return super.setLength(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setLength(t)),this}setLiveheadPosition(t){return super.setLiveheadPosition(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setLiveheadPosition(t)),this}setLiveheadSeqNum(t){return super.setLiveheadSeqNum(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setLiveheadSeqNum(t)),this}setManifestType(t){return super.setManifestType(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setManifestType(t)),this}setPriorityFloat(t){return super.setPriorityFloat(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setPriorityFloat(t)),this}setInitiator(t){return super.setInitiator(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setInitiator(t)),this}setPreloadTime(t){return super.setPreloadTime(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setPreloadTime(t)),this}setConcluder(t){return super.setConcluder(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setConcluder(t)),this}setPreviousRepresentationID(t){return super.setPreviousRepresentationID(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setPreviousRepresentationID(t)),this}setRepresentationID(t){return super.setRepresentationID(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setRepresentationID(t)),this}setState(t){return super.setState(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setState(t)),this}setContentLengthHeader(t){return super.setContentLengthHeader(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setContentLengthHeader(t)),this}setEdgeHitHeader(t){return super.setEdgeHitHeader(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setEdgeHitHeader(t)),this}setOriginHitHeader(t){return super.setOriginHitHeader(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setOriginHitHeader(t)),this}setCode(t){return super.setCode(t),this.$OzMultiDestinationOperationLogger1.forEach(s=>s.setCode(t)),this}log(){super.log(),this.$OzMultiDestinationOperationLogger1.forEach(t=>t.log())}}(t,this.$OzMultiDestinationPerfLoggerProvider1.map(s=>s.getOperationLogger(t)))}createLoggerProvider(){return new t(this.$OzMultiDestinationPerfLoggerProvider1)}}m.exports={OzMultiDestinationPerfLoggerProvider:t}},19136518,[19136568,19136562]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={applyVideoPlaybackRestrictions:(t,n,s)=>0===s.length?[]:(s.sort((t,n)=>t.getBandwidth()-n.getBandwidth()),t.reduce((t,s)=>s.applyRestriction(t,n),s))}},19136519,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){let t=new ArrayBuffer(0);const u=()=>n.read().then(n=>{const{value:o,done:l}=n;return l?null:o?(t=r(d[0])(t,o),u()):null});return u().then(()=>new Uint8Array(t))}const t='undefined'!=typeof TextDecoder?n=>new TextDecoder('utf-8').decode(new Uint8Array(n)):n=>String.fromCharCode.apply(null,n);m.exports={pumpString:function(u){return n(u).then(n=>t(n))},pumpAllData:n}},19136520,[19136569]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n){var y=new Uint8Array(t.byteLength+n.byteLength);return y.set(new Uint8Array(t),0),y.set(new Uint8Array(n),t.byteLength),y.buffer}},19136569,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(){this.$OzOperationLoggerObserver1=new(r(d[0]))}observe(t,s){const n=t.map(t=>{const n=t.setOperationLoggedListener(t=>{s.getOperationLogger(t.getOperationName()).setClientTimeBegin(t.getClientTimeBegin()||0).setClientTimeEnd(t.getClientTimeEnd()||0).setLength(t.getLength()).setResult(t.getResult()||'success').setInitiator(t.getInitiator()).setType(t.getType()).log()});return t.activate(),n});this.$OzOperationLoggerObserver1.addSubscriptions(...n)}destroy(){this.$OzOperationLoggerObserver1.release()}}},19136524,[19136522]);
__d(function(g,r,i,a,m,e,d){'use strict';const{monitorPromiseAndLogOperation:M}=r(d[0]),{OzMultiDestinationPerfLoggerProvider:t}=r(d[1]),{listenDOMEvent:n}=r(d[2]);m.exports=class{constructor(n,o,u=new t([])){this.$MediaSourceManager1=new(r(d[3])),this.$MediaSourceManager2=[],this.$MediaSourceManager3=[],this.$MediaSourceManager4=!1,this.$MediaSourceManager5=!1,this.$MediaSourceManager12=(()=>{if(this.$MediaSourceManager13()||(this.$MediaSourceManager4=!1),!this.$MediaSourceManager14())return;const M=this.$MediaSourceManager3.shift();M&&(M(this.$MediaSourceManager9),this.$MediaSourceManager4=!0)}),this.$MediaSourceManager6=u,this.$MediaSourceManager7=o,this.$MediaSourceManager8=n,this.$MediaSourceManager9=new MediaSource,this.$MediaSourceManager8.src=window.URL.createObjectURL(this.$MediaSourceManager9),this.$MediaSourceManager10=new(r(d[4]))(this.$MediaSourceManager8),M(this.$MediaSourceManager11(),this.$MediaSourceManager6,'media_source_open')}$MediaSourceManager11(){if('open'===this.$MediaSourceManager9.readyState)return r(d[5]).resolve();const M=new(r(d[6]))(r(d[5]));return this.$MediaSourceManager1.addSubscriptions(n(this.$MediaSourceManager9,'sourceopen',()=>{M.resolve(),this.$MediaSourceManager12()})),M.getPromise()}createSourceBufferManager(M,t=!1){return this.$MediaSourceManager11().then(()=>{const o=this.$MediaSourceManager9.addSourceBuffer(M);return t&&!isNaN(this.$MediaSourceManager9.duration)&&(o.appendWindowEnd=this.$MediaSourceManager9.duration),this.$MediaSourceManager2.push(o),this.$MediaSourceManager1.addSubscriptions(n(o,'updateend',this.$MediaSourceManager12)),new(r(d[7]))(o,this.$MediaSourceManager7,this.$MediaSourceManager10)})}getMediaSource(){return this.$MediaSourceManager9}notifyEndOfStream(){this.$MediaSourceManager3.push(M=>{this.$MediaSourceManager6.getOperationLogger('end_of_stream').log(),M.endOfStream()}),this.$MediaSourceManager12()}updateDuration(M){this.$MediaSourceManager3.push(t=>{t.duration=M}),this.$MediaSourceManager12()}detach(){this.$MediaSourceManager8.removeAttribute('src');for(let M=0;M<this.$MediaSourceManager9.sourceBuffers.length;M++){const t=this.$MediaSourceManager9.sourceBuffers[M];this.$MediaSourceManager9.removeSourceBuffer(t)}this.$MediaSourceManager1.release(),this.$MediaSourceManager1.engage(),this.$MediaSourceManager3=[],this.$MediaSourceManager4=!1,this.$MediaSourceManager5=!0}$MediaSourceManager14(){return!this.$MediaSourceManager13()&&'open'===this.$MediaSourceManager9.readyState&&!this.$MediaSourceManager4&&!this.$MediaSourceManager5}$MediaSourceManager13(){return this.$MediaSourceManager2.some(M=>M.updating)}}},19136525,[19136517,19136518,19136560,19136522,19136570,19136531,19136571,19136572]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(o){this.$OzMediaErrorProvider1=o}getMediaErrorName(){const o=this.$OzMediaErrorProvider1.error;return o&&o.message?this.$OzMediaErrorProvider2(o.message):null}getErrorCode(){const o=this.$OzMediaErrorProvider1.error;return o&&o.code?o.code:null}$OzMediaErrorProvider2(o){return o.split(':')[0]||''}}},19136570,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136571,[19136573]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t){const s=t||Promise;this.$Deferred1=!1,this.$Deferred2=new s((t,s)=>{this.$Deferred3=t,this.$Deferred4=s})}getPromise(){return this.$Deferred2}resolve(t){this.$Deferred1=!0,this.$Deferred3(t)}reject(t){this.$Deferred1=!0,this.$Deferred4(t)}isSettled(){return this.$Deferred1}}},19136573,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const{monitorPromiseAndLogOperation:t}=r(d[0]),{listenDOMEvent:u}=r(d[1]),{getEndBufferedTime:n,getTotalBufferedTime:f}=r(d[2]);m.exports=class{constructor(t,n,f){this.$SourceBufferManager1=null,this.$SourceBufferManager2=new(r(d[3])),this.$SourceBufferManager3=!1,this.$SourceBufferManager4=[],this.$SourceBufferManager7=(()=>{this.$SourceBufferManager1&&this.$SourceBufferManager1.resolve(),this.$SourceBufferManager1=null}),this.$SourceBufferManager8=(()=>{const t=this.$SourceBufferManager1;t&&(r(d[4])(this.$SourceBufferManager19),this.$SourceBufferManager19=r(d[5])(()=>{this.$SourceBufferManager19=null;const u=this.$SourceBufferManager10.getErrorCode(),n=this.$SourceBufferManager10.getMediaErrorName(),f={};f.code=null!==u&&void 0!==u?u.toString():null!=n?n:'OZ_SB-1';const o=new(r(d[6]))({type:'OZ_SOURCE_BUFFER',description:null!==n&&void 0!==n?n:'Unknown SourceBuffer Append Error',extra:f});t.reject(o),this.$SourceBufferManager1=null},0))}),this.$SourceBufferManager5=t,this.$SourceBufferManager6=n,this.$SourceBufferManager2.addSubscriptions(u(this.$SourceBufferManager5,'updateend',this.$SourceBufferManager7),u(this.$SourceBufferManager5,'error',this.$SourceBufferManager8)),this.$SourceBufferManager9=new(r(d[7]))(this.$SourceBufferManager5),this.$SourceBufferManager10=f}queueData(t,u=null,n=0){const f=new(r(d[8]))(r(d[9]));this.$SourceBufferManager4.push({data:t,deferred:f,loggerProvider:u,appendTarget:n});const o=f.getPromise();return this.$SourceBufferManager3||(this.$SourceBufferManager6.getBool('queue_data_with_error_handling')?this.$SourceBufferManager11():this.$SourceBufferManager12()),o}cancelOperationAndCleanQueue(){const t=this.$SourceBufferManager13();this.$SourceBufferManager4.forEach(u=>{const{deferred:n}=u;n.reject(t)}),this.$SourceBufferManager4=[],this.$SourceBufferManager5.abort();let u=r(d[9]).resolve();const n=this.$SourceBufferManager1;return n&&(n.reject(t),u=n.getPromise().catch(()=>{})),this.$SourceBufferManager14&&(this.$SourceBufferManager14.reject(t),this.$SourceBufferManager14=null),u}getSourceBufferState(){return this.$SourceBufferManager9}clearRange(t,u){this.$SourceBufferManager5.remove(t,u)}$SourceBufferManager15(u){const n=(this.$SourceBufferManager1=new(r(d[8]))(r(d[9]))).getPromise();return u&&t(n,u,'wait_for_source_buffer'),n}$SourceBufferManager16(u,n){if(null!==this.$SourceBufferManager1)return r(d[9]).reject(this.$SourceBufferManager17('cannot have concurrent appends'));const o=()=>{if(this.$SourceBufferManager6.getBool('sbm_recursively_waits_for_update_end')&&this.$SourceBufferManager5.updating)return this.$SourceBufferManager15(n).then(o).catch(t=>{if(this.$SourceBufferManager6.getBool('enable_appends_on_wait_update_end_failure'))return o();throw t});const s=this.$SourceBufferManager1=new(r(d[8]))(r(d[9]));try{this.$SourceBufferManager5.appendBuffer(u)}catch(t){const u=this.$SourceBufferManager10.getErrorCode(),n=new(r(d[6]))({type:'OZ_SOURCE_BUFFER',description:t.message,extra:{originalError:t,code:null!==u&&void 0!==u?u.toString():'OZ_SB-0'}});this.$SourceBufferManager1=null,s.reject(n)}const c=s.getPromise();n&&t(c,n,'append',t=>{t.setLength(u.byteLength)});const B=this.$SourceBufferManager6.getBool('log_appended_secs')?f(this.$SourceBufferManager5):0;return c.then(()=>this.$SourceBufferManager6.getBool('log_appended_secs')?f(this.$SourceBufferManager5)-B:0)};return this.$SourceBufferManager6.getBool('sbm_waits_for_update_end')&&!this.$SourceBufferManager6.getBool('sbm_recursively_waits_for_update_end')&&this.$SourceBufferManager5.updating?this.$SourceBufferManager15(n).then(o).catch(t=>{if(this.$SourceBufferManager6.getBool('enable_appends_on_wait_update_end_failure'))return o();throw t}):o()}$SourceBufferManager12(){if(this.$SourceBufferManager3)return r(d[9]).reject(this.$SourceBufferManager17('Another unit of queued data is being appended.'));const t=this.$SourceBufferManager4.shift();if(!t)return this.$SourceBufferManager3=!1,r(d[9]).resolve();const{data:u,deferred:f,loggerProvider:o,appendTarget:s}=t;this.$SourceBufferManager3=!0;const c=u instanceof r(d[10])?this.$SourceBufferManager18(u,o,s):this.$SourceBufferManager16(u,o),B=this.$SourceBufferManager6.getBool('generate_mos_segment_appended_secs')?n(this.$SourceBufferManager5):NaN;return c.catch(t=>(f.reject(t),0)).then(t=>{const u=this.$SourceBufferManager6.getBool('generate_mos_segment_appended_secs')?n(this.$SourceBufferManager5):NaN;f.resolve({startTime_UNSAFE:B,endTime_UNSAFE:u,appendedSec:this.$SourceBufferManager6.getBool('generate_mos_segment_appended_secs')?u-B:t}),this.$SourceBufferManager3=!1,this.$SourceBufferManager12()})}$SourceBufferManager11(){try{if(this.$SourceBufferManager3)throw this.$SourceBufferManager17('Another unit of queued data is being appended.');const t=this.$SourceBufferManager4.shift();if(!t)return void(this.$SourceBufferManager3=!1);const{data:u,deferred:f,loggerProvider:o,appendTarget:s}=t;this.$SourceBufferManager3=!0;const c=u instanceof r(d[10])?this.$SourceBufferManager18(u,o,s):this.$SourceBufferManager16(u,o),B=this.$SourceBufferManager6.getBool('generate_mos_segment_appended_secs')?n(this.$SourceBufferManager5):NaN;c.then(t=>{const u=this.$SourceBufferManager6.getBool('generate_mos_segment_appended_secs')?n(this.$SourceBufferManager5):NaN;f.resolve({startTime_UNSAFE:B,endTime_UNSAFE:u,appendedSec:this.$SourceBufferManager6.getBool('generate_mos_segment_appended_secs')?u-B:t})},t=>{f.reject(t)}).finally(()=>{this.$SourceBufferManager3=!1,this.$SourceBufferManager11()})}catch(t){new(r(d[6]))({type:'OZ_JAVASCRIPT_NATIVE',description:t.message,extra:{originalError:t,code:'0'}})}}$SourceBufferManager18(t,u,n){let f=new ArrayBuffer(0);const o=t.getReader(),s=()=>{const t=new(r(d[8]))(r(d[9]));return this.$SourceBufferManager14=t,o.read().then(u=>{t.resolve(u),this.$SourceBufferManager14=null}).catch(u=>{t.reject(u),this.$SourceBufferManager14=null}),t.getPromise().then(t=>{const{done:o}=t;let{value:c}=t;if(o)return f.byteLength>0?this.$SourceBufferManager16(f,u):r(d[9]).resolve(0);let B=c;return n>0&&(c instanceof Uint8Array&&(c=c.buffer),B=f=r(d[11])(f,c)),B&&B.byteLength>=n?(f=new ArrayBuffer(0),this.$SourceBufferManager16(B,u).then(t=>s().then(u=>u+t))):s()})};return s()}$SourceBufferManager17(t){const u=new Error(t);return u.name='invariant_violation',u}$SourceBufferManager13(){const t=new Error('operation is cancelled');return t.name='cancelled',t}destroy(){r(d[4])(this.$SourceBufferManager19),this.$SourceBufferManager19=null,this.$SourceBufferManager1&&this.$SourceBufferManager1.reject(this.$SourceBufferManager13()),this.$SourceBufferManager1=null,this.$SourceBufferManager2.release(),this.$SourceBufferManager2=new(r(d[3])),this.$SourceBufferManager9.destroy()}getDebug(){return{SourceBuffer:this.$SourceBufferManager5}}}},19136572,[19136517,19136560,19136574,19136522,19136575,19136576,19136532,19136577,19136571,19136531,19136578,19136569]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={getTotalBufferedTime:function(f){let t=0;for(let n=0;n<f.buffered.length;n++)t+=f.buffered.end(n)-f.buffered.start(n);return t},getEndBufferedTime:function(f){return 0==f.buffered.length?0:f.buffered.end(f.buffered.length-1)}}},19136574,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136575,[19136579]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=window.clearTimeout},19136579,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136576,[19136580]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=window.setTimeout},19136580,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const{listenDOMEvent:t}=r(d[0]);m.exports=class{constructor(s){this.$OzObservedSourceBufferState1=new(r(d[1])),this.$OzObservedSourceBufferState2=[],this.$OzObservedSourceBufferState4=(()=>{const t=[];for(let s=0;s<this.$OzObservedSourceBufferState3.buffered.length;s++)t.push({startTime:this.$OzObservedSourceBufferState3.buffered.start(s),endTime:this.$OzObservedSourceBufferState3.buffered.end(s)});this.$OzObservedSourceBufferState2=t}),this.$OzObservedSourceBufferState3=s,this.$OzObservedSourceBufferState1.addSubscriptions(t(this.$OzObservedSourceBufferState3,'updateend',this.$OzObservedSourceBufferState4),t(this.$OzObservedSourceBufferState3,'error',this.$OzObservedSourceBufferState4))}getBufferedRanges(){return this.$OzObservedSourceBufferState2}addEventListener(s,u){return t(this.$OzObservedSourceBufferState3,'updateend',u)}destroy(){this.$OzObservedSourceBufferState1.release(),this.$OzObservedSourceBufferState1.engage()}}},19136577,[19136560,19136522]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])},19136578,[19136581]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]).ReadableStream.isPolyfilled=!0,m.exports=r(d[1])()?r(d[0]).ReadableStream:window.ReadableStream},19136581,[19136582,19136583]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){return new class{constructor(t){if(!n(t))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===$(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(s(t))throw new TypeError('This stream has already been locked for exclusive reading by another reader');j(this,t),this._readIntoRequests=[],Object.defineProperty&&Object.defineProperty(this,'closed',{get:this._isClosed.bind(this)})}_isClosed(){return P(this)?this._closedPromise:r(d[4]).reject(Se('closed'))}cancel(t){return P(this)?void 0===this._ownerReadableStream?r(d[4]).reject(he('cancel')):O(this,t):r(d[4]).reject(Se('cancel'))}read(t){return P(this)?void 0===this._ownerReadableStream?r(d[4]).reject(he('read from')):ArrayBuffer.isView(t)?0===t.byteLength?r(d[4]).reject(new TypeError('view must have non-zero byteLength')):B(this,t):r(d[4]).reject(new TypeError('view must be an array buffer view')):r(d[4]).reject(Se('read'))}releaseLock(){if(!P(this))throw Se('releaseLock');if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');C(this)}}}(t)}function o(t){return new class{constructor(t){if(!1===n(t))throw new TypeError('ReadableStreamDefaultReader can only be constructed with a ReadableStream instance');if(!0===s(t))throw new TypeError('This stream has already been locked for exclusive reading by another reader');j(this,t),this._readRequests=[],Object.defineProperty&&Object.defineProperty(this,'closed',{get:this._isClosed.bind(this)})}_isClosed(){return!1===E(this)?r(d[4]).reject(be('closed')):this._closedPromise}cancel(t){return!1===E(this)?r(d[4]).reject(be('cancel')):void 0===this._ownerReadableStream?r(d[4]).reject(he('cancel')):O(this,t)}read(){return!1===E(this)?r(d[4]).reject(be('read')):void 0===this._ownerReadableStream?r(d[4]).reject(he('read from')):I(this)}releaseLock(){if(!1===E(this))throw be('releaseLock');if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');C(this)}}}(t)}function n(t){return!!Fe(t)&&!!Object.prototype.hasOwnProperty.call(t,'_readableStreamController')}function s(t){return ze(!0===n(t),'IsReadableStreamLocked should only be used on known readable streams'),void 0!==t._reader}function l(t,s){ze(!0===n(t)),ze('boolean'==typeof s);const l=o(t),b={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};b.promise=new(r(d[4]))(t=>{b._resolve=t});const _=c();_._reader=l,_._teeState=b,_._cloneForBranch2=s;const f=u();f._stream=t,f._teeState=b;const y=h();y._stream=t,y._teeState=b;const p=Object.create(Object.prototype);Le(p,'pull',_),Le(p,'cancel',f);const w=new Ke(p),S=Object.create(Object.prototype);Le(S,'pull',_),Le(S,'cancel',y);const R=new Ke(S);return _._branch1=w._readableStreamController,_._branch2=R._readableStreamController,l._closedPromise.catch(t=>{!0!==b.closedOrErrored&&(W(_._branch1,t),W(_._branch2,t),b.closedOrErrored=!0)}),[w,R]}function c(){function t(){const{_reader:o,_branch1:n,_branch2:s,_teeState:l}=t;return I(o).then(t=>{ze(Fe(t));const o=t.value,c=t.done;if(ze('boolean'==typeof c),!0===c&&!1===l.closedOrErrored&&(!1===l.canceled1&&F(n),!1===l.canceled2&&F(s),l.closedOrErrored=!0),!0===l.closedOrErrored)return;const u=o,h=o;!1===l.canceled1&&k(n,u),!1===l.canceled2&&k(s,h)})}return t}function u(){function t(o){const{_stream:n,_teeState:s}=t;if(s.canceled1=!0,s.reason1=o,!0===s.canceled2){const t=f(n,Ae([s.reason1,s.reason2]));s._resolve(t)}return s.promise}return t}function h(){function t(o){const{_stream:n,_teeState:s}=t;if(s.canceled2=!0,s.reason2=o,!0===s.canceled1){const t=f(n,Ae([s.reason1,s.reason2]));s._resolve(t)}return s.promise}return t}function b(t){ze(!0===P(t._reader)),ze('readable'===t._state||'closed'===t._state);return new(r(d[4]))((o,n)=>{const s={_resolve:o,_reject:n};t._reader._readIntoRequests.push(s)})}function _(t){ze(!0===E(t._reader)),ze('readable'===t._state);return new(r(d[4]))((o,n)=>{const s={_resolve:o,_reject:n};t._reader._readRequests.push(s)})}function f(t,o){if(t._disturbed=!0,'closed'===t._state)return r(d[4]).resolve(void 0);if('errored'===t._state)return r(d[4]).reject(t._storedError);y(t);return t._readableStreamController[Ge](o).then(()=>void 0)}function y(t){ze('readable'===t._state),t._state='closed';const o=t._reader;if(void 0!==o){if(!0===E(o)){for(const{_resolve:t}of o._readRequests)t(Pe(void 0,!0));o._readRequests=[]}we(o)}}function p(t,o){ze(!0===n(t),'stream must be ReadableStream'),ze('readable'===t._state,'state must be readable'),t._state='errored',t._storedError=o;const s=t._reader;if(void 0!==s){if(!0===E(s)){for(const t of s._readRequests)t._reject(o);s._readRequests=[]}else{ze(P(s),'reader must be ReadableStreamBYOBReader');for(const t of s._readIntoRequests)t._reject(o);s._readIntoRequests=[]}me(s,o),s._closedPromise.catch(()=>{})}}function w(t,o,n){const s=t._reader;ze(s._readIntoRequests.length>0);s._readIntoRequests.shift()._resolve(Pe(o,n))}function S(t,o,n){const s=t._reader;ze(s._readRequests.length>0);s._readRequests.shift()._resolve(Pe(o,n))}function R(t){return t._reader._readIntoRequests.length}function v(t){return t._reader._readRequests.length}function q(t){const o=t._reader;return void 0!==o&&!1!==P(o)}function T(t){const o=t._reader;return void 0!==o&&!1!==E(o)}function P(t){return!!Fe(t)&&!!Object.prototype.hasOwnProperty.call(t,'_readIntoRequests')}function E(t){return!!Fe(t)&&!!Object.prototype.hasOwnProperty.call(t,'_readRequests')}function j(t,o){t._ownerReadableStream=o,o._reader=t,'readable'===o._state?_e(t):'closed'===o._state?ye(t):(ze('errored'===o._state,'state must be errored'),fe(t,o._storedError),t._closedPromise.catch(()=>{}))}function O(t,o){const n=t._ownerReadableStream;return ze(void 0!==n),f(n,o)}function C(t){ze(void 0!==t._ownerReadableStream),ze(t._ownerReadableStream._reader===t),'readable'===t._ownerReadableStream._state?me(t,new TypeError('Reader was released and can no longer be used to monitor the stream\'s closedness')):pe(t,new TypeError('Reader was released and can no longer be used to monitor the stream\'s closedness')),t._closedPromise.catch(()=>{}),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function B(t,o){const n=t._ownerReadableStream;return ze(void 0!==n),n._disturbed=!0,'errored'===n._state?r(d[4]).reject(n._storedError):Z(n._readableStreamController,o)}function I(t){const o=t._ownerReadableStream;return ze(void 0!==o),o._disturbed=!0,'closed'===o._state?r(d[4]).resolve(Pe(void 0,!0)):'errored'===o._state?r(d[4]).reject(o._storedError):(ze('readable'===o._state),o._readableStreamController[Je]())}function z(t){return!!Fe(t)&&!!Object.prototype.hasOwnProperty.call(t,'_underlyingSource')}function A(t){if(!1===L(t))return;if(!0===t._pulling)return void(t._pullAgain=!0);ze(!1===t._pullAgain),t._pulling=!0;Oe(t._underlyingSource,'pull',[t]).then(()=>{if(t._pulling=!1,!0===t._pullAgain)return t._pullAgain=!1,A(t)},o=>{D(t,o)}).catch(Ye)}function L(t){const o=t._controlledReadableStream;if('closed'===o._state||'errored'===o._state)return!1;if(!0===t._closeRequested)return!1;if(!1===t._started)return!1;if(!0===s(o)&&v(o)>0)return!0;return Y(t)>0}function F(t){const o=t._controlledReadableStream;ze(!1===t._closeRequested),ze('readable'===o._state),t._closeRequested=!0,0===t._queue.length&&y(o)}function k(t,o){const n=t._controlledReadableStream;if(ze(!1===t._closeRequested),ze('readable'===n._state),!0===s(n)&&v(n)>0)S(n,o,!1);else{let n=1;if(void 0!==t._strategySize){const s=t._strategySize;try{n=s(o)}catch(o){throw D(t,o),o}}try{We(t,o,n)}catch(o){throw D(t,o),o}}A(t)}function W(t,o){const n=t._controlledReadableStream;ze('readable'===n._state),De(t),p(n,o)}function D(t,o){'readable'===t._controlledReadableStream._state&&W(t,o)}function Y(t){const o=t._controlledReadableStream._state;return'errored'===o?null:'closed'===o?0:t._strategyHWM-t._queueTotalSize}function $(t){return!!Fe(t)&&!!Object.prototype.hasOwnProperty.call(t,'_underlyingByteSource')}function N(t){return!!Fe(t)&&!!Object.prototype.hasOwnProperty.call(t,'_associatedReadableByteStreamController')}function V(t){if(!1===ne(t))return;if(!0===t._pulling)return void(t._pullAgain=!0);ze(!1===t._pullAgain),t._pulling=!0;Oe(t._underlyingByteSource,'pull',[t]).then(()=>{t._pulling=!1,!0===t._pullAgain&&(t._pullAgain=!1,V(t))},o=>{'readable'===t._controlledReadableStream._state&&ie(t,o)}).catch(Ye)}function M(t){K(t),t._pendingPullIntos=[]}function H(t,o){ze('errored'!==t._state,'state must not be errored');let n=!1;'closed'===t._state&&(ze(0===o.bytesFilled),n=!0);const s=U(o);'default'===o.readerType?S(t,s,n):(ze('byob'===o.readerType),w(t,s,n))}function U(t){const o=t.bytesFilled,n=t.elementSize;return ze(o<=t.byteLength),ze(o%n==0),new t.ctor(t.buffer,t.byteOffset,o/n)}function x(t,o,n,s){t._queue.push({buffer:o,byteOffset:n,byteLength:s}),t._queueTotalSize+=s}function Q(t,o){const n=o.elementSize,s=o.bytesFilled-o.bytesFilled%n,l=Math.min(t._queueTotalSize,o.byteLength-o.bytesFilled),c=o.bytesFilled+l,u=c-c%n;let h=l,b=!1;u>s&&(h=u-o.bytesFilled,b=!0);const _=t._queue;for(;h>0;){const n=_[0],s=Math.min(h,n.byteLength),l=o.byteOffset+o.bytesFilled;Te(o.buffer,l,n.buffer,n.byteOffset,s),n.byteLength===s?_.shift():(n.byteOffset+=s,n.byteLength-=s),t._queueTotalSize-=s,G(t,s,o),h-=s}return!1===b&&(ze(0===t._queueTotalSize,'queue must be empty'),ze(o.bytesFilled>0),ze(o.bytesFilled<o.elementSize)),b}function G(t,o,n){ze(0===t._pendingPullIntos.length||t._pendingPullIntos[0]===n),K(t),n.bytesFilled+=o}function J(t){ze('readable'===t._controlledReadableStream._state),0===t._queueTotalSize&&!0===t._closeRequested?y(t._controlledReadableStream):V(t)}function K(t){void 0!==t._byobRequest&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=void 0,t._byobRequest=void 0)}function X(t){for(ze(!1===t._closeRequested);t._pendingPullIntos.length>0;){if(0===t._queueTotalSize)return;const o=t._pendingPullIntos[0];!0===Q(t,o)&&(oe(t),H(t._controlledReadableStream,o))}}function Z(t,o){const n=t._controlledReadableStream;let s=1;o.constructor!==DataView&&(s=o.constructor.BYTES_PER_ELEMENT);const l=o.constructor,c={buffer:o.buffer,byteOffset:o.byteOffset,byteLength:o.byteLength,bytesFilled:0,elementSize:s,ctor:l,readerType:'byob'};if(t._pendingPullIntos.length>0)return c.buffer=Ce(c.buffer),t._pendingPullIntos.push(c),b(n);if('closed'===n._state){const t=new o.constructor(c.buffer,c.byteOffset,0);return r(d[4]).resolve(Pe(t,!0))}if(t._queueTotalSize>0){if(!0===Q(t,c)){const o=U(c);return J(t),r(d[4]).resolve(Pe(o,!1))}if(!0===t._closeRequested){const o=new TypeError('Insufficient bytes to fill elements in the given buffer');return ie(t,o),r(d[4]).reject(o)}}c.buffer=Ce(c.buffer),t._pendingPullIntos.push(c);const u=b(n);return V(t),u}function ee(t,o){o.buffer=Ce(o.buffer),ze(0===o.bytesFilled,'bytesFilled must be 0');const n=t._controlledReadableStream;if(!0===q(n))for(;R(n)>0;){H(n,oe(t))}}function te(t,o,n){if(n.bytesFilled+o>n.byteLength)throw new RangeError('bytesWritten out of range');if(G(t,o,n),n.bytesFilled<n.elementSize)return;oe(t);const s=n.bytesFilled%n.elementSize;if(s>0){const o=n.byteOffset+n.bytesFilled,l=n.buffer.slice(o-s,o);x(t,l,0,l.byteLength)}n.buffer=Ce(n.buffer),n.bytesFilled-=s,H(t._controlledReadableStream,n),X(t)}function re(t,o){const n=t._pendingPullIntos[0],s=t._controlledReadableStream;if('closed'===s._state){if(0!==o)throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');ee(t,n)}else ze('readable'===s._state),te(t,o,n)}function oe(t){const o=t._pendingPullIntos.shift();return K(t),o}function ne(t){const o=t._controlledReadableStream;return'readable'===o._state&&(!0!==t._closeRequested&&(!1!==t._started&&(!0===T(o)&&v(o)>0||(!0===q(o)&&R(o)>0||le(t)>0))))}function ae(t){const o=t._controlledReadableStream;if(ze(!1===t._closeRequested),ze('readable'===o._state),t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0){if(t._pendingPullIntos[0].bytesFilled>0){const o=new TypeError('Insufficient bytes to fill elements in the given buffer');throw ie(t,o),o}}y(o)}}function se(t,o){const n=t._controlledReadableStream;ze(!1===t._closeRequested),ze('readable'===n._state);const l=o.buffer,c=o.byteOffset,u=o.byteLength,h=Ce(l);if(!0===T(n))if(0===v(n))x(t,h,c,u);else{ze(0===t._queue.length);S(n,new Uint8Array(h,c,u),!1)}else!0===q(n)?(x(t,h,c,u),X(t)):(ze(!1===s(n),'stream must not be locked'),x(t,h,c,u))}function ie(t,o){const n=t._controlledReadableStream;ze('readable'===n._state),M(t),De(t),p(n,o)}function le(t){const o=t._controlledReadableStream._state;return'errored'===o?null:'closed'===o?0:t._strategyHWM-t._queueTotalSize}function de(t,o){if(o=Number(o),!1===je(o))throw new RangeError('bytesWritten must be a finite');ze(t._pendingPullIntos.length>0),re(t,o)}function ce(t,o){ze(t._pendingPullIntos.length>0);const n=t._pendingPullIntos[0];if(n.byteOffset+n.bytesFilled!==o.byteOffset)throw new RangeError('The region specified by view does not match byobRequest');if(n.byteLength!==o.byteLength)throw new RangeError('The buffer of view has different capacity than byobRequest');n.buffer=o.buffer,re(t,o.byteLength)}function ue(t){return new TypeError(`ReadableStream.prototype.${t} can only be used on a ReadableStream`)}function he(t){return new TypeError('Cannot '+t+' a stream using a released reader')}function be(t){return new TypeError(`ReadableStreamDefaultReader.prototype.${t} can only be used on a ReadableStreamDefaultReader`)}function _e(t){t._closedPromise=new(r(d[4]))((o,n)=>{t._closedPromise_resolve=o,t._closedPromise_reject=n})}function fe(t,o){t._closedPromise=r(d[4]).reject(o),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0}function ye(t){t._closedPromise=r(d[4]).resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0}function me(t,o){ze(void 0!==t._closedPromise_resolve),ze(void 0!==t._closedPromise_reject),t._closedPromise_reject(o),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0}function pe(t,o){ze(void 0===t._closedPromise_resolve),ze(void 0===t._closedPromise_reject),t._closedPromise=r(d[4]).reject(o)}function we(t){ze(void 0!==t._closedPromise_resolve),ze(void 0!==t._closedPromise_reject),t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0}function Se(t){return new TypeError(`ReadableStreamBYOBReader.prototype.${t} can only be used on a ReadableStreamBYOBReader`)}function Re(t){return new TypeError(`ReadableStreamDefaultController.prototype.${t} can only be used on a ReadableStreamDefaultController`)}function ge(t){return new TypeError(`ReadableStreamBYOBRequest.prototype.${t} can only be used on a ReadableStreamBYOBRequest`)}function ve(t){return new TypeError(`ReadableByteStreamController.prototype.${t} can only be used on a ReadableByteStreamController`)}function qe(t){try{r(d[4]).prototype.then.call(t,void 0,()=>{})}catch(t){}}const{ArrayBufferCopy:Te,CreateIterResultObject:Pe,InvokeOrNoop:Ee,IsFiniteNonNegativeNumber:je,PromiseInvokeOrNoop:Oe,TransferArrayBuffer:Ce,ValidateAndNormalizeHighWaterMark:Be,ValidateAndNormalizeQueuingStrategy:Ie}=r(d[0]),{assert:ze,createArrayFromList:Ae,createDataProperty:Le,typeIsObject:Fe}=r(d[0]),{DequeueValue:ke,EnqueueValueWithSize:We,ResetQueue:De}=r(d[1]),{rethrowAssertionErrorRejection:Ye}=r(d[2]),{AcquireWritableStreamDefaultWriter:$e,IsWritableStream:Ne,IsWritableStreamLocked:Ve,WritableStreamAbort:Me,WritableStreamCloseQueuedOrInFlight:He,WritableStreamDefaultWriterCloseWithErrorPropagation:Ue,WritableStreamDefaultWriterRelease:xe,WritableStreamDefaultWriterWrite:Qe}=r(d[3]),Ge='[[CancelSteps]]',Je='[[PullSteps]]';class Ke{constructor(t={},{size:o,highWaterMark:s}={}){this._state='readable',this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;const l=t.type;if('bytes'===String(l))void 0===s&&(s=0),this._readableStreamController=new class{constructor(t,o,s){if(!1===n(t))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==t._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=t,this._underlyingByteSource=o,this._pullAgain=!1,this._pulling=!1,M(this),this._queue=this._queueTotalSize=void 0,De(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=Be(s);const l=o.autoAllocateChunkSize;if(void 0!==l&&(!1===Number.isInteger(l)||l<=0))throw new RangeError('autoAllocateChunkSize must be a positive integer');this._autoAllocateChunkSize=l,this._pendingPullIntos=[];const c=this,u=Ee(o,'start',[this]);r(d[4]).resolve(u).then(()=>{c._started=!0,ze(!1===c._pulling),ze(!1===c._pullAgain),V(c)},o=>{'readable'===t._state&&ie(c,o)}).catch(Ye),Object.defineProperty&&(Object.defineProperty(this,'byobRequest',{get:this._getByobRequest.bind(this)}),Object.defineProperty(this,'desiredSize',{get:this._getByobRequest.bind(this)}))}_getByobRequest(){if(!1===$(this))throw ve('byobRequest');if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){const t=this._pendingPullIntos[0],o=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled);this._byobRequest=new Xe(this,o)}return this._byobRequest}_getDesiredSize(){if(!1===$(this))throw ve('desiredSize');return le(this)}close(){if(!1===$(this))throw ve('close');if(!0===this._closeRequested)throw new TypeError('The stream has already been closed; do not close it again!');const t=this._controlledReadableStream._state;if('readable'!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);ae(this)}enqueue(t){if(!1===$(this))throw ve('enqueue');if(!0===this._closeRequested)throw new TypeError('stream is closed or draining');const o=this._controlledReadableStream._state;if('readable'!==o)throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be enqueued to`);if(!ArrayBuffer.isView(t))throw new TypeError('You can only enqueue array buffer views when using a ReadableByteStreamController');se(this,t)}error(t){if(!1===$(this))throw ve('error');const o=this._controlledReadableStream;if('readable'!==o._state)throw new TypeError(`The stream is ${o._state} and so cannot be errored`);ie(this,t)}[Ge](t){if(this._pendingPullIntos.length>0){const t=this._pendingPullIntos[0];t.bytesFilled=0}return De(this),Oe(this._underlyingByteSource,'cancel',[t])}[Je](){const t=this._controlledReadableStream;if(ze(!0===T(t)),this._queueTotalSize>0){ze(0===v(t));const o=this._queue.shift();this._queueTotalSize-=o.byteLength,J(this);let n;try{n=new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}catch(t){return r(d[4]).reject(t)}return r(d[4]).resolve(Pe(n,!1))}const o=this._autoAllocateChunkSize;if(void 0!==o){let t;try{t=new ArrayBuffer(o)}catch(t){return r(d[4]).reject(t)}const n={buffer:t,byteOffset:0,byteLength:o,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:'default'};this._pendingPullIntos.push(n)}const n=_(t);return V(this),n}}(this,t,s);else{if(void 0!==l)throw new RangeError('Invalid type is specified');void 0===s&&(s=1),this._readableStreamController=new class{constructor(t,o,s,l){if(!1===n(t))throw new TypeError('ReadableStreamDefaultController can only be constructed with a ReadableStream instance');if(void 0!==t._readableStreamController)throw new TypeError('ReadableStreamDefaultController instances can only be created by the ReadableStream constructor');this._controlledReadableStream=t,this._underlyingSource=o,this._queue=void 0,this._queueTotalSize=void 0,De(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;const c=Ie(s,l);this._strategySize=c.size,this._strategyHWM=c.highWaterMark;const u=this,h=Ee(o,'start',[this]);r(d[4]).resolve(h).then(()=>{u._started=!0,ze(!1===u._pulling),ze(!1===u._pullAgain),A(u)},t=>{D(u,t)}).catch(Ye),Object.defineProperty&&Object.defineProperty(this,'desiredSize',{get:this._getDesiredSize.bind(this)})}_getDesiredSize(){if(!1===z(this))throw Re('desiredSize');return Y(this)}close(){if(!1===z(this))throw Re('close');if(!0===this._closeRequested)throw new TypeError('The stream has already been closed; do not close it again!');const t=this._controlledReadableStream._state;if('readable'!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);F(this)}enqueue(t){if(!1===z(this))throw Re('enqueue');if(!0===this._closeRequested)throw new TypeError('stream is closed or draining');const o=this._controlledReadableStream._state;if('readable'!==o)throw new TypeError(`The stream (in ${o} state) is not in the readable state and cannot be enqueued to`);return k(this,t)}error(t){if(!1===z(this))throw Re('error');const o=this._controlledReadableStream;if('readable'!==o._state)throw new TypeError(`The stream is ${o._state} and so cannot be errored`);W(this,t)}[Ge](t){return De(this),Oe(this._underlyingSource,'cancel',[t])}[Je](){const t=this._controlledReadableStream;if(this._queue.length>0){const o=ke(this);return!0===this._closeRequested&&0===this._queue.length?y(t):A(this),r(d[4]).resolve(Pe(o,!1))}const o=_(t);return A(this),o}}(this,t,o,s)}Object.defineProperty&&Object.defineProperty(this,'locked',{get:this._isLocked.bind(this)})}_isLocked(){if(!1===n(this))throw ue('locked');return s(this)}cancel(t){return!1===n(this)?r(d[4]).reject(ue('cancel')):!0===s(this)?r(d[4]).reject(new TypeError('Cannot cancel a stream that already has a reader')):f(this,t)}getReader({mode:s}={}){if(!1===n(this))throw ue('getReader');if(void 0===s)return o(this);if('byob'===(s=String(s)))return t(this);throw new RangeError('Invalid mode is specified')}pipeThrough({writable:t,readable:o},n){if(void 0===t||void 0===o)throw new TypeError('readable and writable arguments must be defined');return qe(this.pipeTo(t,n)),o}pipeTo(t,{preventClose:l,preventAbort:c,preventCancel:u}={}){if(!1===n(this))return r(d[4]).reject(ue('pipeTo'));if(!1===Ne(t))return r(d[4]).reject(new TypeError('ReadableStream.prototype.pipeTo\'s first argument must be a WritableStream'));if(l=Boolean(l),c=Boolean(c),u=Boolean(u),!0===s(this))return r(d[4]).reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));if(!0===Ve(t))return r(d[4]).reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));const h=o(this),b=$e(t);let _=!1,y=r(d[4]).resolve();return new(r(d[4]))((o,n)=>{function s(){return y=r(d[4]).resolve(),!0===_?r(d[4]).resolve():b._readyPromise.then(()=>I(h).then(({value:t,done:o})=>{!0!==o&&(y=Qe(b,t).catch(()=>{}))})).then(s)}function p(){const t=y;return y.then(()=>t!==y?p():void 0)}function w(t,o,n){'errored'===t._state?n(t._storedError):o.catch(n).catch(Ye)}function S(o,n,s){function l(){o().then(()=>v(n,s),t=>v(!0,t)).catch(Ye)}!0!==_&&(_=!0,'writable'===t._state&&!1===He(t)?p().then(l):l())}function R(o,n){!0!==_&&(_=!0,'writable'===t._state&&!1===He(t)?p().then(()=>v(o,n)).catch(Ye):v(o,n))}function v(t,s){xe(b),C(h),t?n(s):o(void 0)}if(w(this,h._closedPromise,o=>{!1===c?S(()=>Me(t,o),!0,o):R(!0,o)}),w(t,b._closedPromise,t=>{!1===u?S(()=>f(this,t),!0,t):R(!0,t)}),(function(t,o,n){'closed'===t._state?n():o.then(n).catch(Ye)})(this,h._closedPromise,()=>{!1===l?S(()=>Ue(b)):R()}),!0===He(t)||'closed'===t._state){const t=new TypeError('the destination writable stream closed before all data could be piped to it');!1===u?S(()=>f(this,t),!0,t):R(!0,t)}s().catch(t=>{y=r(d[4]).resolve(),Ye(t)})})}tee(){if(!1===n(this))throw ue('tee');const t=l(this,!1);return Ae(t)}}m.exports={ReadableStream:Ke,IsReadableStreamDisturbed:function(t){return ze(!0===n(t),'IsReadableStreamDisturbed should only be used on known readable streams'),t._disturbed},ReadableStreamDefaultControllerClose:F,ReadableStreamDefaultControllerEnqueue:k,ReadableStreamDefaultControllerError:W,ReadableStreamDefaultControllerGetDesiredSize:Y};class Xe{constructor(t,o){this._associatedReadableByteStreamController=t,this._view=o,Object.defineProperty&&Object.defineProperty(this,'view',{get:this._getView.bind(this)})}_getView(){return this._view}respond(t){if(!1===N(this))throw ge('respond');if(void 0===this._associatedReadableByteStreamController)throw new TypeError('This BYOB request has been invalidated');de(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!1===N(this))throw ge('respond');if(void 0===this._associatedReadableByteStreamController)throw new TypeError('This BYOB request has been invalidated');if(!ArrayBuffer.isView(t))throw new TypeError('You can only respond with array buffer views');ce(this._associatedReadableByteStreamController,t)}}},19136582,[19136584,19136585,19136586,19136587,19136531]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){r(d[0]).prototype.constructor.apply(this,arguments)}function o(o,n){if('boolean'!=typeof o||!o)throw new t(n);return o}function n(t){return'string'==typeof t||'symbol'==typeof t}function u(t,o,n){if('function'!=typeof t)throw new TypeError('Argument is not a function');return Function.prototype.apply.call(t,o,n)}(t.prototype=new(r(d[0]))).constructor=t,e.AssertionError=t,e.assert=o,e.typeIsObject=(t=>'object'==typeof t&&null!==t||'function'==typeof t),e.createDataProperty=((t,n,u)=>{o(e.typeIsObject(t)),Object.defineProperty(t,n,{value:u,writable:!0,enumerable:!0,configurable:!0})}),e.createArrayFromList=(t=>t.slice()),e.ArrayBufferCopy=((t,o,n,u,s)=>{new Uint8Array(t).set(new Uint8Array(n,u,s),o)}),e.CreateIterResultObject=((t,n)=>{o('boolean'==typeof n);const u={};return Object.defineProperty(u,'value',{value:t,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(u,'done',{value:n,enumerable:!0,writable:!0,configurable:!0}),u}),e.IsFiniteNonNegativeNumber=(t=>!Number.isNaN(t)&&(t!==1/0&&!(t<0))),e.InvokeOrNoop=((t,s,y)=>{o(void 0!==t),o(n(s)),o(Array.isArray(y));const c=t[s];if(void 0!==c)return u(c,t,y)}),e.PromiseInvokeOrNoop=((t,u,s)=>{o(void 0!==t),o(n(u)),o(Array.isArray(s));try{return Promise.resolve(e.InvokeOrNoop(t,u,s))}catch(t){return Promise.reject(t)}}),e.PromiseInvokeOrPerformFallback=((t,s,y,c,f)=>{o(void 0!==t),o(n(s)),o(Array.isArray(y)),o(Array.isArray(f));let l;try{l=t[s]}catch(t){return Promise.reject(t)}if(void 0===l)return c(...f);try{return Promise.resolve(u(l,t,y))}catch(t){return Promise.reject(t)}}),e.TransferArrayBuffer=(t=>t.slice()),e.ValidateAndNormalizeHighWaterMark=(t=>{if(t=Number(t),Number.isNaN(t)||t<0)throw new RangeError('highWaterMark property of a queuing strategy must be non-negative and non-NaN');return t}),e.ValidateAndNormalizeQueuingStrategy=((t,o)=>{if(void 0!==t&&'function'!=typeof t)throw new TypeError('size property of a queuing strategy must be a function');return o=e.ValidateAndNormalizeHighWaterMark(o),{size:t,highWaterMark:o}})},19136584,[19136588]);
__d(function(g,r,i,a,m,e,d){m.exports=class extends Error{constructor(s,n){super(null!==s&&void 0!==s?s:''),this.message=null!==s&&void 0!==s?s:'',this.innerError=n}}},19136588,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const{assert:u}=r(d[0]),{IsFiniteNonNegativeNumber:n}=r(d[0]);e.DequeueValue=(n=>{u('_queue'in n&&'_queueTotalSize'in n,'Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]].'),u(n._queue.length>0,'Spec-level failure: should never dequeue from an empty queue.');const l=n._queue.shift();return n._queueTotalSize-=l.size,n._queueTotalSize<0&&(n._queueTotalSize=0),l.value}),e.EnqueueValueWithSize=((l,t,o)=>{if(u('_queue'in l&&'_queueTotalSize'in l,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),o=Number(o),!n(o))throw new RangeError('Size must be a finite, non-NaN, non-negative number.');l._queue.push({value:t,size:o}),l._queueTotalSize+=o}),e.PeekQueueValue=(n=>{u('_queue'in n&&'_queueTotalSize'in n,'Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]].'),u(n._queue.length>0,'Spec-level failure: should never peek at an empty queue.');return n._queue[0].value}),e.ResetQueue=(n=>{u('_queue'in n&&'_queueTotalSize'in n,'Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]].'),n._queue=[],n._queueTotalSize=0})},19136585,[19136584]);
__d(function(g,r,i,a,m,e,d){'use strict';const{AssertionError:t}=r(d[0]);e.rethrowAssertionErrorRejection=(o=>{o&&o.constructor===t&&setTimeout(()=>{throw o},0)})},19136586,[19136584]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){return new class{constructor(t){if(!1===o(t))throw new TypeError('WritableStreamDefaultWriter can only be constructed with a WritableStream instance');if(!0===s(t))throw new TypeError('This stream has already been locked for exclusive writing by another writer');this._ownerWritableStream=t,t._writer=this;const n=t._state;if('writable'===n)!1===f(t)&&!0===t._backpressure?Z(this):re(this),G(this);else if('erroring'===n)ee(this,t._storedError),this._readyPromise.catch(()=>{}),G(this);else if('closed'===n)re(this),K(this);else{le('errored'===n,'state must be errored');const o=t._storedError;ee(this,o),this._readyPromise.catch(()=>{}),J(this,o),this._closedPromise.catch(()=>{})}Object.defineProperty&&(Object.defineProperty(this,'closed',{get:this._isClosed.bind(this)}),Object.defineProperty(this,'desiredSize',{get:this._getDesiredSize.bind(this)}),Object.defineProperty(this,'ready',{get:this._isReady.bind(this)}))}_isClosed(){return!1===W(this)?r(d[3]).reject(x('closed')):this._closedPromise}_getDesiredSize(){if(!1===W(this))throw x('desiredSize');if(void 0===this._ownerWritableStream)throw B('desiredSize');return k(this)}_isReady(){return!1===W(this)?r(d[3]).reject(x('ready')):this._readyPromise}abort(t){return!1===W(this)?r(d[3]).reject(x('abort')):void 0===this._ownerWritableStream?r(d[3]).reject(B('abort')):q(this,t)}close(){if(!1===W(this))return r(d[3]).reject(x('close'));const t=this._ownerWritableStream;return void 0===t?r(d[3]).reject(B('close')):!0===f(t)?r(d[3]).reject(new TypeError('cannot close an already-closing stream')):R(this)}releaseLock(){if(!1===W(this))throw x('releaseLock');const t=this._ownerWritableStream;void 0!==t&&(le(void 0!==t._writer),F(this))}write(t){return!1===W(this)?r(d[3]).reject(x('write')):void 0===this._ownerWritableStream?r(d[3]).reject(B('write to')):A(this,t)}}(t)}function o(t){return!!_e(t)&&!!Object.prototype.hasOwnProperty.call(t,'_writableStreamController')}function s(t){return le(!0===o(t),'IsWritableStreamLocked should only be used on known writable streams'),void 0!==t._writer}function n(t,o){const s=t._state;if('closed'===s)return r(d[3]).resolve(void 0);if('errored'===s)return r(d[3]).reject(t._storedError);const n=new TypeError('Requested to abort');if(void 0!==t._pendingAbortRequest)return r(d[3]).reject(n);le('writable'===s||'erroring'===s,'state must be writable or erroring');let l=!1;'erroring'===s&&(l=!0,o=void 0);const _=new(r(d[3]))((s,n)=>{t._pendingAbortRequest={_resolve:s,_reject:n,_reason:o,_wasAlreadyErroring:l}});return!1===l&&c(t,n),_}function l(t){le(!0===s(t)),le('writable'===t._state);return new(r(d[3]))((o,s)=>{const n={_resolve:o,_reject:s};t._writeRequests.push(n)})}function _(t,o){const s=t._state;'writable'!==s?(le('erroring'===s),u(t)):c(t,o)}function c(t,o){le(void 0===t._storedError,'stream._storedError === undefined'),le('writable'===t._state,'state must be writable');const s=t._writableStreamController;le(void 0!==s,'controller must not be undefined'),t._state='erroring',t._storedError=o;const n=t._writer;void 0!==n&&C(n,o),!1===y(t)&&!0===s._started&&u(t)}function u(t){le('erroring'===t._state,'stream._state === erroring'),le(!1===y(t),'WritableStreamHasOperationMarkedInFlight(stream) === false'),t._state='errored',t._writableStreamController[fe]();const o=t._storedError;for(const s of t._writeRequests)s._reject(o);if(t._writeRequests=[],void 0===t._pendingAbortRequest)return void p(t);const s=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,!0===s._wasAlreadyErroring)return s._reject(o),void p(t);t._writableStreamController[we](s._reason).then(()=>{s._resolve(),p(t)},o=>{s._reject(o),p(t)})}function h(t){le(void 0!==t._inFlightWriteRequest),t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}function v(t,o){le(void 0!==t._inFlightWriteRequest),t._inFlightWriteRequest._reject(o),t._inFlightWriteRequest=void 0,le('writable'===t._state||'erroring'===t._state),_(t,o)}function b(t){le(void 0!==t._inFlightCloseRequest),t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0;const o=t._state;le('writable'===o||'erroring'===o),'erroring'===o&&(t._storedError=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state='closed';const s=t._writer;void 0!==s&&Y(s),le(void 0===t._pendingAbortRequest,'stream._pendingAbortRequest === undefined'),le(void 0===t._storedError,'stream._storedError === undefined')}function w(t,o){le(void 0!==t._inFlightCloseRequest),t._inFlightCloseRequest._reject(o),t._inFlightCloseRequest=void 0,le('writable'===t._state||'erroring'===t._state),void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(o),t._pendingAbortRequest=void 0),_(t,o)}function f(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function y(t){return void 0!==t._inFlightWriteRequest||void 0!==t._inFlightCloseRequest}function P(t){le(void 0===t._inFlightCloseRequest),le(void 0!==t._closeRequest),t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0}function S(t){le(void 0===t._inFlightWriteRequest,'there must be no pending write request'),le(0!==t._writeRequests.length,'writeRequests must not be empty'),t._inFlightWriteRequest=t._writeRequests.shift()}function p(t){le('errored'===t._state,'_stream_.[[state]] is `"errored"`'),void 0!==t._closeRequest&&(le(void 0===t._inFlightCloseRequest),t._closeRequest._reject(t._storedError),t._closeRequest=void 0);const o=t._writer;void 0!==o&&(U(o,t._storedError),o._closedPromise.catch(()=>{}))}function j(t,o){le('writable'===t._state),le(!1===f(t));const s=t._writer;void 0!==s&&o!==t._backpressure&&(!0===o?ie(s):(le(!1===o),se(s))),t._backpressure=o}function W(t){return!!_e(t)&&!!Object.prototype.hasOwnProperty.call(t,'_ownerWritableStream')}function q(t,o){const s=t._ownerWritableStream;return le(void 0!==s),n(s,o)}function R(t){const o=t._ownerWritableStream;le(void 0!==o);const s=o._state;if('closed'===s||'errored'===s)return r(d[3]).reject(new TypeError(`The stream (in ${s} state) is not in the writable state and cannot be closed`));le('writable'===s||'erroring'===s),le(!1===f(o));const n=new(r(d[3]))((t,s)=>{const n={_resolve:t,_reject:s};o._closeRequest=n});return!0===o._backpressure&&'writable'===s&&se(t),T(o._writableStreamController),n}function E(t,o){'pending'===t._closedPromiseState?U(t,o):X(t,o),t._closedPromise.catch(()=>{})}function C(t,o){'pending'===t._readyPromiseState?te(t,o):oe(t,o),t._readyPromise.catch(()=>{})}function k(t){const o=t._ownerWritableStream,s=o._state;return'errored'===s||'erroring'===s?null:'closed'===s?0:D(o._writableStreamController)}function F(t){const o=t._ownerWritableStream;le(void 0!==o),le(o._writer===t);const s=new TypeError('Writer was released and can no longer be used to monitor the stream\'s closedness');C(t,s),E(t,s),o._writer=void 0,t._ownerWritableStream=void 0}function A(t,o){const s=t._ownerWritableStream;le(void 0!==s);const n=s._writableStreamController,_=O(n,o);if(s!==t._ownerWritableStream)return r(d[3]).reject(B('write to'));const c=s._state;if('errored'===c)return r(d[3]).reject(s._storedError);if(!0===f(s)||'closed'===c)return r(d[3]).reject(new TypeError('The stream is closing or closed and cannot be written to'));if('erroring'===c)return r(d[3]).reject(s._storedError);le('writable'===c);const u=l(s);return z(n,o,_),u}function T(t){ue(t,'close',0),L(t)}function O(t,o){const s=t._strategySize;if(void 0===s)return 1;try{return s(o)}catch(o){return M(t,o),1}}function D(t){return t._strategyHWM-t._queueTotalSize}function z(t,o,s){const n={chunk:o};try{ue(t,n,s)}catch(o){return void M(t,o)}const l=t._controlledWritableStream;if(!1===f(l)&&'writable'===l._state){j(l,H(t))}L(t)}function I(t){return!!_e(t)&&!!Object.prototype.hasOwnProperty.call(t,'_underlyingSink')}function L(t){const o=t._controlledWritableStream;if(!1===t._started)return;if(void 0!==o._inFlightWriteRequest)return;const s=o._state;if('closed'===s||'errored'===s)return;if('erroring'===s)return void u(o);if(0===t._queue.length)return;const n=me(t);'close'===n?Q(t):V(t,n.chunk)}function M(t,o){'writable'===t._controlledWritableStream._state&&N(t,o)}function Q(t){const o=t._controlledWritableStream;P(o),ce(t),le(0===t._queue.length,'queue must be empty once the final write record is dequeued');ae(t._underlyingSink,'close',[]).then(()=>{b(o)},t=>{w(o,t)}).catch(ve)}function V(t,o){const s=t._controlledWritableStream;S(s);ae(t._underlyingSink,'write',[o,t]).then(()=>{h(s);const o=s._state;if(le('writable'===o||'erroring'===o),ce(t),!1===f(s)&&'writable'===o){const o=H(t);j(s,o)}L(t)},t=>{v(s,t)}).catch(ve)}function H(t){return D(t)<=0}function N(t,o){const s=t._controlledWritableStream;le('writable'===s._state),c(s,o)}function $(t){return new TypeError(`WritableStream.prototype.${t} can only be used on a WritableStream`)}function x(t){return new TypeError(`WritableStreamDefaultWriter.prototype.${t} can only be used on a WritableStreamDefaultWriter`)}function B(t){return new TypeError('Cannot '+t+' a stream using a released writer')}function G(t){t._closedPromise=new(r(d[3]))((o,s)=>{t._closedPromise_resolve=o,t._closedPromise_reject=s,t._closedPromiseState='pending'})}function J(t,o){t._closedPromise=r(d[3]).reject(o),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState='rejected'}function K(t){t._closedPromise=r(d[3]).resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState='resolved'}function U(t,o){le(void 0!==t._closedPromise_resolve,'writer._closedPromise_resolve !== undefined'),le(void 0!==t._closedPromise_reject,'writer._closedPromise_reject !== undefined'),le('pending'===t._closedPromiseState,'writer._closedPromiseState is pending'),t._closedPromise_reject(o),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState='rejected'}function X(t,o){le(void 0===t._closedPromise_resolve,'writer._closedPromise_resolve === undefined'),le(void 0===t._closedPromise_reject,'writer._closedPromise_reject === undefined'),le('pending'!==t._closedPromiseState,'writer._closedPromiseState is not pending'),t._closedPromise=r(d[3]).reject(o),t._closedPromiseState='rejected'}function Y(t){le(void 0!==t._closedPromise_resolve,'writer._closedPromise_resolve !== undefined'),le(void 0!==t._closedPromise_reject,'writer._closedPromise_reject !== undefined'),le('pending'===t._closedPromiseState,'writer._closedPromiseState is pending'),t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState='resolved'}function Z(t){t._readyPromise=new(r(d[3]))((o,s)=>{t._readyPromise_resolve=o,t._readyPromise_reject=s}),t._readyPromiseState='pending'}function ee(t,o){t._readyPromise=r(d[3]).reject(o),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState='rejected'}function re(t){t._readyPromise=r(d[3]).resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState='fulfilled'}function te(t,o){le(void 0!==t._readyPromise_resolve,'writer._readyPromise_resolve !== undefined'),le(void 0!==t._readyPromise_reject,'writer._readyPromise_reject !== undefined'),t._readyPromise_reject(o),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState='rejected'}function ie(t){le(void 0===t._readyPromise_resolve,'writer._readyPromise_resolve === undefined'),le(void 0===t._readyPromise_reject,'writer._readyPromise_reject === undefined'),t._readyPromise=new(r(d[3]))((o,s)=>{t._readyPromise_resolve=o,t._readyPromise_reject=s}),t._readyPromiseState='pending'}function oe(t,o){le(void 0===t._readyPromise_resolve,'writer._readyPromise_resolve === undefined'),le(void 0===t._readyPromise_reject,'writer._readyPromise_reject === undefined'),t._readyPromise=r(d[3]).reject(o),t._readyPromiseState='rejected'}function se(t){le(void 0!==t._readyPromise_resolve,'writer._readyPromise_resolve !== undefined'),le(void 0!==t._readyPromise_reject,'writer._readyPromise_reject !== undefined'),t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState='fulfilled'}const{InvokeOrNoop:ne,PromiseInvokeOrNoop:ae,ValidateAndNormalizeQueuingStrategy:de,assert:le,typeIsObject:_e}=r(d[0]),{DequeueValue:ce,EnqueueValueWithSize:ue,PeekQueueValue:me,ResetQueue:he}=r(d[1]),{rethrowAssertionErrorRejection:ve}=r(d[2]),be='[[StartSteps]]',we='[[AbortSteps]]',fe='[[ErrorSteps]]';m.exports={AcquireWritableStreamDefaultWriter:t,IsWritableStream:o,IsWritableStreamLocked:s,WritableStream:class{constructor(t={},{size:s,highWaterMark:n=1}={}){if(this._state='writable',this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,void 0!==t.type)throw new RangeError('Invalid type is specified');this._writableStreamController=new class{constructor(t,s,n,l){if(!1===o(t))throw new TypeError('WritableStreamDefaultController can only be constructed with a WritableStream instance');if(void 0!==t._writableStreamController)throw new TypeError('WritableStreamDefaultController instances can only be created by the WritableStream constructor');this._controlledWritableStream=t,this._underlyingSink=s,this._queue=void 0,this._queueTotalSize=void 0,he(this),this._started=!1;const _=de(n,l);this._strategySize=_.size,this._strategyHWM=_.highWaterMark;const c=H(this);j(t,c)}error(t){if(!1===I(this))throw new TypeError('WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController');const o=this._controlledWritableStream._state;'writable'===o&&N(this,t)}[we](t){return ae(this._underlyingSink,'abort',[t])}[fe](){he(this)}[be](){const t=ne(this._underlyingSink,'start',[this]),o=this._controlledWritableStream;r(d[3]).resolve(t).then(()=>{le('writable'===o._state||'erroring'===o._state),this._started=!0,L(this)},t=>{le('writable'===o._state||'erroring'===o._state),this._started=!0,_(o,t)}).catch(ve)}}(this,t,s,n),this._writableStreamController[be](),Object.defineProperty&&Object.defineProperty(this,'locked',{get:this._isLocked.bind(this)})}_isLocked(){if(!1===o(this))throw $('locked');return s(this)}abort(t){return!1===o(this)?r(d[3]).reject($('abort')):!0===s(this)?r(d[3]).reject(new TypeError('Cannot abort a stream that already has a writer')):n(this,t)}getWriter(){if(!1===o(this))throw $('getWriter');return t(this)}},WritableStreamAbort:n,WritableStreamDefaultControllerError:N,WritableStreamDefaultWriterCloseWithErrorPropagation:function(t){const o=t._ownerWritableStream;le(void 0!==o);const s=o._state;return!0===f(o)||'closed'===s?r(d[3]).resolve():'errored'===s?r(d[3]).reject(o._storedError):(le('writable'===s||'erroring'===s),R(t))},WritableStreamDefaultWriterRelease:F,WritableStreamDefaultWriterWrite:A,WritableStreamCloseQueuedOrInFlight:f}},19136587,[19136584,19136585,19136586,19136531]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=(()=>null==window.WritableStream||null==window.ReadableStream||null==window.ReadableStream.prototype.pipeTo)},19136583,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const{monitorPromiseAndLogOperation:t}=r(d[0]),{setFetchStreamLoggingAttributes:n}=r(d[1]);m.exports=class{constructor(t,n=null,s=null,o=null,w){this.$OzNetworkManager1=t,this.$OzNetworkManager2=w,this.$OzNetworkManager3=new(r(d[2]))(this.$OzNetworkManager2),this.$OzNetworkManager4=n,this.$OzNetworkManager5=s,this.$OzNetworkManager6=o,this.$OzNetworkManager7=new Map}destroy(){this.$OzNetworkManager7&&this.$OzNetworkManager7.clear()}request(t,n,s=null,o="DISABLE_CACHE"){t.length>0||r(d[3])(0);const w=r(d[4])(t)||{startByte:0,endByte:null},h=new(r(d[5]))(this.$OzNetworkManager1,t[0].getURI(),null,this.$OzNetworkManager3,this.$OzNetworkManager5,this.$OzNetworkManager6,this.$OzNetworkManager4,this.$OzNetworkManager7,o);return this.$OzNetworkManager8(w,h,n,s,t)}createPausableStream(t,n,s){t.length>0||r(d[3])(0);const o=r(d[4])(t)||{startByte:0,endByte:null};let w=null;const h=this.$OzNetworkManager1.getNumber('network_seg_timeout_ms');h>0&&(w={networkTimeoutMs:h});const l=new(r(d[5]))(this.$OzNetworkManager1,t[0].getURI(),w,this.$OzNetworkManager3,this.$OzNetworkManager5,this.$OzNetworkManager6,this.$OzNetworkManager4,this.$OzNetworkManager7);return{pausableStream:this.$OzNetworkManager9(o,l,n||null,s),loggingPayloads:{getRequestUrl:()=>l.getLastRequestUrl()||null,isPrefetch:()=>l.retrievedFromCache(),segments:t,getResponse:()=>l.getLastResponse()}}}requestRawUrl(t,n,s,o=null){const w=new(r(d[5]))(this.$OzNetworkManager1,new(r(d[6]))(t),s,this.$OzNetworkManager3,this.$OzNetworkManager5,this.$OzNetworkManager6,this.$OzNetworkManager4,this.$OzNetworkManager7);return this.$OzNetworkManager8({startByte:0,endByte:null},w,[],o)}$OzNetworkManager9(t,n,s,o){let w=n;if(null!=s)for(let t=0;t<s.length;t++)w=(0,s[t])(this.$OzNetworkManager1,w,o);return new(r(d[7]))(r(d[8]),r(d[9]),t,w,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,throwErrorWhenAborted:this.$OzNetworkManager1.getBool('pausable_stream_throws_error_when_aborted')})}$OzNetworkManager8(s,o,w,h,l=[]){const k=this.$OzNetworkManager9(s,o,w,h),u=k.startStream(),O=this.$OzNetworkManager10(u);return h&&t(O,h,'fetch_stream',()=>{},t=>{n(t,o.getLastRequestUrl(),o.retrievedFromCache(),l,0,k.getBytesStreamed(),o.getLastResponse())}),{getStream:()=>k.getStream(),cancel:()=>k.pauseStream(),getStatusChangePromise:()=>O}}$OzNetworkManager10(t){return t.then(({statusPromise:t})=>t.then(t=>{if('stream_done'===t||!this.$OzNetworkManager1.getBool('enable_network_manager_error'))return'done';throw new(r(d[10]))({description:t,type:'OZ_NETWORK'})}))}static getStreamableSegmentsRange(t){return t.length?r(d[4])(t)?t.slice(0):[t[0]]:[]}}},19136526,[19136517,19136589,19136590,19136521,19136591,19136592,19136593,19136594,19136578,19136595,19136532]);
__d(function(g,r,i,a,m,e,d){'use strict';const{getLatestResourceTimingEntry:t}=r(d[0]),s=t=>t?parseInt(t.get('content-length'),10):null,n=t=>t?t.get('x-fb-edge-hit'):null,o=t=>t?t.get('x-fb-origin-hit'):null,u=(s,n)=>{const o=t(n);o&&s.setTimeToFirstByte(Math.round(o.responseStart-o.startTime)).setTimeToLastByte(Math.round(o.responseEnd-o.startTime)).setTimeToRequestStart(Math.round(o.requestStart-o.startTime))};m.exports={setFetchStreamLoggingAttributes:(t,l,h,T,c,v,f)=>{T.length&&t.setSegmentCount(T.length),l&&u(t,l),t.setResource(l||null).setInitiator(h?'prefetch':'fetch').setTimeToRequestSent(Math.round(Math.floor(c))).setContentLengthHeader(s(null===f||void 0===f?void 0:f.headers)).setEdgeHitHeader(n(null===f||void 0===f?void 0:f.headers)).setOriginHitHeader(o(null===f||void 0===f?void 0:f.headers)).setCode(null===f||void 0===f?void 0:f.status).setLength(v)},setPerformanceLoggingAttributes:u}},19136589,[19136596]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={getLatestResourceTimingEntry:t=>{if(!performance.getEntriesByName)return null;return performance.getEntriesByName(t,'resource').reduce((t,n)=>null==t?n:'number'==typeof n.responseEnd&&'number'==typeof n.responseStart&&'number'==typeof n.startTime&&'number'==typeof t.responseEnd&&'number'==typeof t.responseStart&&'number'==typeof t.requestStart&&'number'==typeof t.startTime?n.responseEnd<t.responseEnd?t:n:null,null)}}},19136596,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t){this.$RequestParamCreator1=t}createRequestParam(t,s){let n=new(r(d[0]))(t.toString());if(s){const{startByte:t,endByte:u}=s;(0!==t||null!==u&&void 0!==u)&&(n=n.addQueryData({bytestart:s.startByte}),null!==u&&void 0!==u&&(n=n.addQueryData({byteend:u})))}return{uri:n,http:{credentials:this.$RequestParamCreator1&&this.$RequestParamCreator1(n)?'include':'same-origin'}}}}},19136590,[19136593]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136593,[19136597]);
__d(function(g,r,i,a,m,e,d){'use strict';const{parseURI:t}=r(d[0]);m.exports=class{constructor(s){const n=t(s);if(null==n)throw new Error('Invalid URI passed to OzURI');this.$OzURIDefault1=n}addQueryData(t,s){let n={};'string'==typeof t&&null!=s?n[t]=s:n=t;const l=this.getQueryData();return'object'==typeof n&&Object.keys(n).forEach(t=>{let s=null;'string'==typeof t&&'object'==typeof n&&(s=n[t]),'string'!=typeof s&&'number'!=typeof s||(l[t]=s)}),this.$OzURIDefault1.query=this.$OzURIDefault2(l),this}getQueryData(){const t=this.$OzURIDefault1.query;return null==t?{}:t.split('&').reduce((t,s)=>{const n=s.split('=');return t[n[0]]=n[1],t},{})}getDomain(){return this.$OzURIDefault1.host||''}toString(){let t='';const s=this.$OzURIDefault1.scheme;null!=s&&(t+=s+'://');const n=this.getDomain();null!=n&&(t+=n);const l=this.$OzURIDefault1.path;null!=l?t+=l:null!=t&&(t+='/');const u=this.$OzURIDefault1.query;return null!=u&&(t+='?'+u),t}$OzURIDefault2(t){let s='';return Object.keys(t).forEach(n=>{s+=n+'='+t[n]+'&'}),s.substring(0,s.length-1)}}},19136597,[19136598]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=new RegExp("^([^:/?#]+:)?(//([^\\\\/?#@]*@)?(\\[[A-Fa-f0-9:.]+\\]|[^\\/?#:]*)(:[0-9]*)?)?([^?#]*)(\\?[^#]*)?(#.*)?");m.exports={parseURI:function(u){if(''===u.trim())return null;const n=u.match(t);if(null==n)return null;const l={};return l.uri=n[0]?n[0]:null,l.scheme=n[1]?n[1].substr(0,n[1].length-1):null,l.authority=n[2]?n[2].substr(2):null,l.userinfo=n[3]?n[3].substr(0,n[3].length-1):null,l.host=n[2]?n[4]:null,l.port=n[5]&&n[5].substr(1)?parseInt(n[5].substr(1),10):null,l.path=n[6]?n[6]:null,l.query=n[7]?n[7].substr(1):null,l.fragment=n[8]?n[8].substr(1):null,l.isGenericURI=null===l.authority&&!!l.scheme,l}}},19136598,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){if(!t.length)return null;const n=t[0].getURI().toString(),l=t[0].getByteRange();if(!l)return null;let u=l;for(let l=1;l<t.length;l++){const o=t[l];if(o.getURI().toString()!==n)return null;const s=o.getByteRange();if(!u||!s)return null;if(null===u.endByte||s.startByte!==u.endByte+1)return null;u=s}return{startByte:l.startByte,endByte:u.endByte}}},19136591,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,s,o,u,h=null,n=null,w=null,R,k="DISABLE_CACHE"){this.$OzNetworkRequestStream1=!1,this.$OzNetworkRequestStream2=s,this.$OzNetworkRequestStream3=o,this.$OzNetworkRequestStream4=u,this.$OzNetworkRequestStream5=h||[],this.$OzNetworkRequestStream6=n,this.$OzNetworkRequestStream7=w,this.$OzNetworkRequestStream8=t,this.$OzNetworkRequestStream9=R,this.$OzNetworkRequestStream10=k}startStream(t){const{uri:s,http:o}=this.$OzNetworkRequestStream4.createRequestParam(this.$OzNetworkRequestStream2,t),u=s.toString();this.$OzNetworkRequestStream11=u;const{promise:h,retrievedFromCache:n}=r(d[0])(this.$OzNetworkRequestStream8,u,o,this.$OzNetworkRequestStream6,this.$OzNetworkRequestStream3,this.$OzNetworkRequestStream7,this.$OzNetworkRequestStream9,this.$OzNetworkRequestStream10);return this.$OzNetworkRequestStream1=n,h.then(t=>{const s=[];for(let o=0;o<this.$OzNetworkRequestStream5.length;o++)try{const h=this.$OzNetworkRequestStream5[o].onResponse(t,u);h&&s.push(h)}catch(t){return r(d[1])(t)}const{body:o,headers:h,ok:n,status:w}=t;if(!n)return r(d[1])(r(d[2])(new Error('HTTP status not OK'),w,h,u,'HTTP error.'));o.getReader||r(d[3])(0);let R=o;this.$OzNetworkRequestStream12=t;for(let t=0;t<s.length;t++)R=R.pipeThrough(s[t]);if(!this.$OzNetworkRequestStream8.getBool('throw_network_error_during_stream'))return R;const k=new(r(d[4]))({errorTransform:t=>t instanceof TypeError?r(d[2])(t,0,null,u,'Network failure.'):t});return R.pipeThrough(k)},t=>{const s=[];for(let o=0;o<this.$OzNetworkRequestStream5.length;o++)try{const h=this.$OzNetworkRequestStream5[o].onError(t,u);h&&s.push(h)}catch(t){return r(d[1])(t)}if(t instanceof TypeError){let o=r(d[1])(r(d[2])(t,0,null,u,'Network failure.'));for(let t=0;t<s.length;t++)o=o.pipeThrough(s[t]);return o}throw t}).catch(t=>'AbortError'===t.name?r(d[1])({type:t.name,status:t.code,url:u,message:t}):r(d[1])({type:'stream_processing',status:0,url:u,message:'Stream processing error. '+t}))}getLastRequestUrl(){return this.$OzNetworkRequestStream11}getLastResponse(){return this.$OzNetworkRequestStream12}retrievedFromCache(){return this.$OzNetworkRequestStream1}}},19136592,[19136599,19136600,19136601,19136521,19136602]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n,o,l=null,s,u=null,c,h="DISABLE_CACHE"){if(!fetch)throw new Error('fetch api is missing');const _=null!=l?l:r(d[0]),E=t.getBool('use_segment_request_cache')&&'ENABLE_CACHE'===h?c.get(n):null,f=u?u.getCacheValue(n):null,C=null!=E?E:f;let p,A=!1;return C?('ENABLE_CACHE'===h&&c.set(n,C),A=!0,p=C.then(t=>({body:r(d[1])(t.response),status:200,headers:null,ok:!0})).catch(l=>{if(t.getBool('retry_fetch_on_prefetch_error'))return _(n,o);throw new TypeError})):p=_(n,o,s),{promise:p,retrievedFromCache:A}}},19136599,[19136603,19136604]);
__d(function(g,r,i,a,m,e,d){'use strict';const o=window.fetch;m.exports=function(t,n,s){if(!o)throw new Error('fetch api is missing');let u=null;if('AbortController'in window&&s&&null!=s.networkTimeoutMs&&0!=s.networkTimeoutMs){const o=new AbortController;u=r(d[0])(()=>o.abort(),s.networkTimeoutMs),n.signal=o.signal}return o(t,n).then(o=>{r(d[1])(u);const t={status:o.status,headers:o.headers,ok:o.ok,body:void 0};return o.body?(t.body=r(d[2])(o.body),t):o.arrayBuffer().then(o=>(t.body=r(d[3])(o),t))})}},19136603,[19136576,19136575,19136605,19136604]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=(t=>{if(!r(d[0]).isPolyfilled)return t;const n=t.getReader();return new(r(d[0]))({async start(t){for(;;){const{done:s,value:o}=await n.read();if(s)break;t.enqueue(o)}t.close()}})})},19136605,[19136578]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n){return new(r(d[0]))({start(t){const s=new Uint8Array(n);t.enqueue(s),t.close()}})}},19136604,[19136578]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n){return new(r(d[0]))({pull:t=>{t.error(n)}})}},19136600,[19136578]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n,o,c,s){return new(r(d[0]))({type:'OZ_NETWORK',description:s,extra:{originalError:t,code:n.toString(),headers:o,url:c}})}},19136601,[19136532]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends(r(d[3])){constructor(t){super(),this.$OzTransformStream1=(t=>t);let{errorTransform:s}=t||{};void 0!==s&&null!==s||(s=this.$OzTransformStream1);const o=s||this.$OzTransformStream1;this.writable=new(r(d[0]))({start:t=>{this.$OzTransformStream2=t},write:t=>{this.emit('writableWrite',t);try{this.onDataWritten(t)}catch(t){this.$OzTransformStream3.error(new(r(d[1]))({type:'OZ_STREAM',description:`Error from write handler: ${this.constructor.name}`,extra:{code:'OZ_S-0',originalError:t}}))}this.$OzTransformStream3.enqueue(t)},close:()=>{this.emit('writableClose');try{this.onClose()}catch(t){this.$OzTransformStream3.error(new(r(d[1]))({type:'OZ_STREAM',description:`Error from close handler: ${this.constructor.name}`,extra:{code:'OZ_S-1',originalError:t}}))}this.$OzTransformStream3.close()},abort:t=>{const s=o(t);this.$OzTransformStream3.error(s)}}),this.readable=new(r(d[2]))({start:t=>{this.$OzTransformStream3=t},cancel:t=>{this.emit('readableCancel',t),this.$OzTransformStream2.error(t)}})}onDataWritten(t){}onClose(){}}},19136602,[19136595,19136532,19136578,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136595,[19136606]);
__d(function(g,r,i,a,m,e,d){'use strict';r(d[0]).WritableStream.isPolyfilled=!0,m.exports=r(d[1])()?r(d[0]).WritableStream:window.WritableStream},19136606,[19136587,19136583]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(){return new Error('Upstream has an inconsistent range')}const{startsImmediateAfter:s}=r(d[0]);class n{constructor(){this.$SkipLeadingBytes1=0}setBytesToSkip(t){this.$SkipLeadingBytes1=t}setBytesSkipped(t){this.$SkipLeadingBytes1-=t}getBytesToSkip(){return this.$SkipLeadingBytes1}hasMoreBytesToSkip(){return this.$SkipLeadingBytes1>0}}class u{constructor(s,u,l,S,h){this.$PausableRangeStream1=!1,this.$PausableRangeStream2=0,this.$PausableRangeStream3=0,this.$PausableRangeStream4=!1,this.$PausableRangeStream5=0,this.$PausableRangeStream6=new n,this.$PausableRangeStream7=!1,this.$PausableRangeStream8=!1,this.$PausableRangeStream9=!1,this.$PausableRangeStream10=s,this.$PausableRangeStream11=u,this.$PausableRangeStream12=l,this.$PausableRangeStream13=S;const{fixStreamingUndefinedEndByte:b,disableDeferredBufferArrayShift:P,enablePausableStreamResumeFromStartDangerously:R,fixPausePreReadableStream:$,throwErrorWhenAborted:o}=h||{};this.$PausableRangeStream14=!!b,this.$PausableRangeStream7=!!R,this.$PausableRangeStream8=!!$,this.$PausableRangeStream9=!!o,this.$PausableRangeStream15=new(r(d[1]))({disableArrayShift:!!P}),this.$PausableRangeStream16=new this.$PausableRangeStream10({start:t=>{this.$PausableRangeStream17=t},pull:s=>{if((this.$PausableRangeStream14&&null===this.$PausableRangeStream12.endByte&&this.$PausableRangeStream1||this.$PausableRangeStream2===this.$PausableRangeStream18())&&this.$PausableRangeStream15.isEmpty())return s.close(),r(d[2]).resolve();const n=()=>{const u=this.$PausableRangeStream6.hasMoreBytesToSkip()?this.$PausableRangeStream6.getBytesToSkip():void 0;return this.$PausableRangeStream15.consume(u).then(u=>{if(this.$PausableRangeStream6.hasMoreBytesToSkip())return this.$PausableRangeStream6.setBytesSkipped(u.length),n();this.$PausableRangeStream2+=u.length;const l=this.$PausableRangeStream18();null!==l&&this.$PausableRangeStream2>(l||0)&&r(d[3])(this.$PausableRangeStream17,t()),s.enqueue(u)}).catch(t=>{if('skip_buffered_bytes'===t)return this.$PausableRangeStream6.setBytesToSkip(this.$PausableRangeStream2),n();throw t})};return n()},cancel:t=>{this.$PausableRangeStream19&&this.$PausableRangeStream19.resolve('stream_cancelled'),r(d[3])(this.$PausableRangeStream20,t)}}),this.$PausableRangeStream21()}$PausableRangeStream18(){const{startByte:t,endByte:s}=this.$PausableRangeStream12;return null!=s?s-t+1:null}$PausableRangeStream21(){this.$PausableRangeStream22=new this.$PausableRangeStream11({start:t=>{this.$PausableRangeStream20=t},write:t=>{this.$PausableRangeStream15.produce(t),this.$PausableRangeStream3+=t.length},close:()=>{this.$PausableRangeStream1=!0;const{endByte:s,startByte:n}=this.$PausableRangeStream12;this.$PausableRangeStream14&&null===s&&this.$PausableRangeStream15.produce(new Uint8Array([])),null!==s&&this.$PausableRangeStream3!==(s||0)-n+1&&r(d[3])(this.$PausableRangeStream17,t())},abort:t=>{this.$PausableRangeStream19&&(this.$PausableRangeStream9?this.$PausableRangeStream19.reject(t):this.$PausableRangeStream19.resolve('stream_aborted')),r(d[3])(this.$PausableRangeStream17,t)}})}getStream(){return this.$PausableRangeStream16}startStream(){this.$PausableRangeStream4=!0;const t={startByte:this.$PausableRangeStream12.startByte,endByte:this.$PausableRangeStream12.endByte};this.$PausableRangeStream7?this.$PausableRangeStream3&&(this.$PausableRangeStream15.produce('skip_buffered_bytes'),this.$PausableRangeStream3=0):t.startByte+=this.$PausableRangeStream3;const s=this.$PausableRangeStream22;return this.$PausableRangeStream13.startStream(t).then(t=>(t.pipeTo(this.$PausableRangeStream8?s:this.$PausableRangeStream22).then(()=>{this.$PausableRangeStream19&&this.$PausableRangeStream19.resolve('stream_done')}).catch(t=>{this.$PausableRangeStream19&&!this.$PausableRangeStream19.isSettled()&&(this.$PausableRangeStream8&&t===u.STREAM_PAUSED?this.$PausableRangeStream19.resolve('stream_paused'):this.$PausableRangeStream19.reject(t))}),this.$PausableRangeStream19=new(r(d[4]))(r(d[2])),{statusPromise:this.$PausableRangeStream19.getPromise()}))}pauseStream(){r(d[3])(this.$PausableRangeStream20,u.STREAM_PAUSED),this.$PausableRangeStream19&&this.$PausableRangeStream19.resolve('stream_paused'),this.$PausableRangeStream21()}getByteRange(){return this.$PausableRangeStream12}getBytesStreamed(){return this.$PausableRangeStream2}tryConcatByteRange(t){return!(this.$PausableRangeStream4||!s(t,this.$PausableRangeStream12))&&(this.$PausableRangeStream12.endByte=t.endByte,!0)}}u.STREAM_PAUSED='streamPaused',m.exports=u},19136594,[19136607,19136608,19136531,19136609,19136571]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={startsAtSame:function(t,n){return t.startByte===n.startByte},startsImmediateAfter:function(t,n){return null!==n.endByte&&t.startByte===n.endByte+1},startsDuring:function(t,n){return!(t.startByte<n.startByte)&&(null==n.endByte||n.endByte>=t.startByte)},union:function(t,n){let y=t,B=n;if(B.startByte<y.startByte){const t=y;y=B,B=t}if(null==y.endByte)return{startByte:y.startByte,endByte:null};if(B.startByte>y.endByte+1)return null;const s=null==B.endByte||B.endByte>y.endByte?B.endByte:y.endByte;return{startByte:y.startByte,endByte:s}},disjoinAfter:function(t,n){return null==n.endByte?null:t.startByte>n.endByte?{startByte:t.startByte,endByte:t.endByte}:null!=t.endByte&&t.endByte<=n.endByte?null:{startByte:n.endByte+1,endByte:t.endByte}},getLength:function(t){return null==t.endByte?null:t.endByte-t.startByte+1}}},19136607,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(f={}){this.$DeferredBuffer1=[],this.$DeferredBuffer2=!1,this.$DeferredBuffer3=0;const{disableArrayShift:t}=f;this.$DeferredBuffer4=!!t}produce(f){this.$DeferredBuffer5(f)}signalProducerInterruption(){this.$DeferredBuffer5(new(r(d[0]))('producer interrupted'))}consume(f){if(this.$DeferredBuffer2)throw new Error('A buffer can only be consumed by one client at a time');this.$DeferredBuffer2=!0;let t=r(d[1]).resolve();return this.isEmpty()&&(this.$DeferredBuffer6=new(r(d[2]))(r(d[1])),t=this.$DeferredBuffer6.getPromise()),t.then(()=>{if(this.$DeferredBuffer4){if(void 0===this.$DeferredBuffer1[this.$DeferredBuffer3])throw new Error(`buffer has no value at position ${this.$DeferredBuffer3}`)}else if(0===this.$DeferredBuffer1.length)throw new Error('buffer length must not be 0');this.$DeferredBuffer6=null,this.$DeferredBuffer2=!1;const t=this.$DeferredBuffer4?this.$DeferredBuffer7(f):this.$DeferredBuffer8(f);if(t instanceof Uint8Array)return t;throw t})}$DeferredBuffer5(f){this.$DeferredBuffer1.push(f),this.$DeferredBuffer6&&this.$DeferredBuffer6.resolve()}$DeferredBuffer7(f){const t=this.$DeferredBuffer1[this.$DeferredBuffer3];if(void 0===t)return new Uint8Array([]);let s=t;if(!(s instanceof Uint8Array))return this.$DeferredBuffer1[this.$DeferredBuffer3]=void 0,this.$DeferredBuffer3++,s;if(void 0!==f&&s.length>f){const t=s.slice(f);s=s.slice(0,f),this.$DeferredBuffer1[this.$DeferredBuffer3]=t}else this.$DeferredBuffer1[this.$DeferredBuffer3]=void 0,this.$DeferredBuffer3++;return s}$DeferredBuffer8(f){if(0===this.$DeferredBuffer1.length)return new Uint8Array([]);let t=this.$DeferredBuffer1[0];if(!(t instanceof Uint8Array))return this.$DeferredBuffer1.shift(),t;if(void 0!==f&&t.length>f){const s=t.slice(f);t=t.slice(0,f),this.$DeferredBuffer1[0]=s}else this.$DeferredBuffer1.shift();return t}isEmpty(){return this.$DeferredBuffer4?void 0===this.$DeferredBuffer1[this.$DeferredBuffer3]:0===this.$DeferredBuffer1.length}}},19136608,[19136610,19136531,19136571]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends Error{}},19136610,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,c){try{t.error(c)}catch(c){}}},19136609,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const{OzMultiDestinationPerfLoggerProvider:t}=r(d[0]),{listenDOMEvent:s}=r(d[1]),O=150;m.exports=class{constructor(b,c=new t([])){this.$OzObservedPlaybackState1=new(r(d[2])),this.$OzObservedPlaybackState6=(()=>{this.$OzObservedPlaybackState3.getOperationLogger('pause').setState('paused').log()}),this.$OzObservedPlaybackState7=(()=>{this.$OzObservedPlaybackState5(),this.$OzObservedPlaybackState3.getOperationLogger('playing').setState('playing').log()}),this.$OzObservedPlaybackState5=(()=>{this.$OzObservedPlaybackState4=this.$OzObservedPlaybackState2.currentTime}),this.$OzObservedPlaybackState2=b,this.$OzObservedPlaybackState3=c,this.$OzObservedPlaybackState4=this.$OzObservedPlaybackState2.currentTime,this.$OzObservedPlaybackState1.addSubscriptions(s(this.$OzObservedPlaybackState2,'seeked',this.$OzObservedPlaybackState5),s(this.$OzObservedPlaybackState2,'seeking',this.$OzObservedPlaybackState5),s(this.$OzObservedPlaybackState2,'timeupdate',r(d[3])(this.$OzObservedPlaybackState5,O)),s(this.$OzObservedPlaybackState2,'pause',this.$OzObservedPlaybackState6),s(this.$OzObservedPlaybackState2,'playing',this.$OzObservedPlaybackState7))}isPlaying(){return!this.$OzObservedPlaybackState2.paused}getCurrentTime(){return this.$OzObservedPlaybackState4}forceUpdateCurrentTime(){this.$OzObservedPlaybackState5()}getDuration(){return this.$OzObservedPlaybackState2.duration}addEventListener(t,O){return s(this.$OzObservedPlaybackState2,t,O)}destroy(){this.$OzObservedPlaybackState1.release()}}},19136527,[19136518,19136560,19136522,19136611]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136611,[19136612]);
__d(function(g,r,i,a,m,e,d){const n=window.clearTimeout,t=window.setTimeout;m.exports=function(o,l){let u,c,s=0,w=null;return function(){const f=Array.from(arguments),p=Date.now();u=this,c=f;const y=()=>{o.apply(u,c),u=c=null,s=Date.now(),w=null};s+l<p?(n(w),y()):null==w&&(w=t(y,l-(p-s)))}}},19136612,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(s){this.setDimensions(s)}setDimensions(s){this.$OzPlayerDimensions1=s.width,this.$OzPlayerDimensions2=s.height}getDimensions(){return{width:this.$OzPlayerDimensions1,height:this.$OzPlayerDimensions2}}}},19136528,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends(r(d[2])){constructor(t,h){super(),this.$OzEndOfStreamWatcher1=new Map,this.$OzEndOfStreamWatcher2=new(r(d[0])),this.$OzEndOfStreamWatcher3=t,this.$OzEndOfStreamWatcher4=h}registerMediaStream(t){!this.$OzEndOfStreamWatcher1.has(t)||r(d[1])(0),this.$OzEndOfStreamWatcher1.set(t,!1)}notifyRepresentationSwitched(t){this.$OzEndOfStreamWatcher1.has(t)||r(d[1])(0),this.$OzEndOfStreamWatcher5()}notifyMediaStreamEnded(t){this.$OzEndOfStreamWatcher1.has(t)||r(d[1])(0),this.$OzEndOfStreamWatcher1.set(t,!0),this.$OzEndOfStreamWatcher5()}$OzEndOfStreamWatcher5(){const t=this.$OzEndOfStreamWatcher3.getMediaSource();(this.$OzEndOfStreamWatcher4.getBool('allow_queueing_end_of_stream_when_update')||'open'===t.readyState)&&this.$OzEndOfStreamWatcher6()&&(this.$OzEndOfStreamWatcher3.notifyEndOfStream(),this.emit('streamEnd'))}$OzEndOfStreamWatcher6(){if(0===this.$OzEndOfStreamWatcher1.size)return!1;for(const t of this.$OzEndOfStreamWatcher1.values())if(!t)return!1;return!0}destroy(){this.$OzEndOfStreamWatcher1.clear()}}},19136529,[19136522,19136521,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(n,t){this.$OzMediaSeekableRangeManager4=(()=>{const n=this.$OzMediaSeekableRangeManager5;if(!n)return;const t=n.getTimeRanges();if(!t.length)return;const s=t[t.length-1],M=this.$OzMediaSeekableRangeManager1.getMediaSource();this.$OzMediaSeekableRangeManager3.getBool('update_media_source_duration')&&(M.duration===1/0||M.duration<s.endTime||isNaN(M.duration))&&this.$OzMediaSeekableRangeManager1.updateDuration(s.endTime)}),this.$OzMediaSeekableRangeManager1=n,this.$OzMediaSeekableRangeManager2=new(r(d[0])),this.$OzMediaSeekableRangeManager3=t,this.$OzMediaSeekableRangeManager4()}setTimeRangeProvider(n){this.$OzMediaSeekableRangeManager2.release(),this.$OzMediaSeekableRangeManager2.engage(),this.$OzMediaSeekableRangeManager2.addSubscriptions(n.addUpdateListener(this.$OzMediaSeekableRangeManager4)),this.$OzMediaSeekableRangeManager5=n}listenToMediaStreamInitAppended(n){return n.addListener('initAppended',()=>{if(this.$OzMediaSeekableRangeManager3.getBool('update_duration_when_init_appended')){const n=this.$OzMediaSeekableRangeManager1.getMediaSource();(n.duration===1/0||isNaN(n.duration))&&this.$OzMediaSeekableRangeManager4()}})}destroy(){this.$OzMediaSeekableRangeManager2.release()}}},19136530,[19136522]);
__d(function(g,r,i,a,m,e,d){'use strict';const{getMpdLastSequenceNumber:t,getMpdLastTimeRange:p}=r(d[0]),{pumpString:s}=r(d[1]);m.exports=class extends(r(d[9])){constructor(s,h,M,o,U,n,O){super(),this.$OzMpdUpdater1=new(r(d[2])),this.$OzMpdUpdater2=new(r(d[3])),this.$OzMpdUpdater3=!1,this.$OzMpdUpdater15=(()=>{const s=this.$OzMpdUpdater6.getLocation();if(!s)return;if(this.$OzMpdUpdater10.getBool('live_disable_mpd_updates_when_paused')&&!this.$OzMpdUpdater7.isPlaying())return void this.setupUpdateLoop();const h=this.$OzMpdUpdater9.getOperationLogger('update_manifest').start();this.$OzMpdUpdater16(s).then(M=>{this.$OzMpdUpdater4=0;const o=Object.assign({},this.$OzMpdUpdater11,{mpdUrl:s}),U=new(r(d[4]))(this.$OzMpdUpdater10,o,this.$OzMpdUpdater5,this.$OzMpdUpdater9,this.$OzMpdUpdater12);U.onError(t=>{this.$OzMpdUpdater1.emitError(t),h.setError(t).log()});const n=U.parse(M),O=this.$OzMpdUpdater6.isStaticMpd();this.$OzMpdUpdater6.updateWith(n),n.isStaticMpd()&&!O&&this.emit('streamTransitionToStatic');const z=p(this.$OzMpdUpdater6),$=z&&0!=z.endTime?z.endTime:null;h.setLiveheadPosition($).setLiveheadSeqNum(t(this.$OzMpdUpdater6)).setManifestType(this.$OzMpdUpdater6.isStaticMpd()?'static':'dynamic').log(),this.$OzMpdUpdater13.notifyMpdUpdated(),this.setupUpdateLoop()}).catch(t=>{if(h.setError(t).log(),this.$OzMpdUpdater10.getBool('live_gracefully_handle_mpd_errors')){let p;t instanceof r(d[5])&&(p=t.getExtra().code||'');const s=['404','503'];this.$OzMpdUpdater10.getBool('live_gracefully_handle_no_network')&&s.push('0');const h=this.$OzMpdUpdater10.getNumber('live_max_try_attempts_on_404');let M=!1;if(p&&s.indexOf(p)>-1)switch(p){case'410':this.$OzMpdUpdater3=!0,M=!0;break;case'404':if(this.$OzMpdUpdater4++,this.$OzMpdUpdater4>=h)break;case'503':case'0':M=!0}if(M)return void this.setupUpdateLoop()}this.$OzMpdUpdater1.emitError(t)})});const z=h.getMinimumUpdatePeriod();this.$OzMpdUpdater4=0,this.$OzMpdUpdater5=M,this.$OzMpdUpdater6=h,this.$OzMpdUpdater7=o,this.$OzMpdUpdater8=z,this.$OzMpdUpdater9=U.cloneContext().setType('manifest'),this.$OzMpdUpdater10=s,this.$OzMpdUpdater11=n,this.$OzMpdUpdater12=O,this.$OzMpdUpdater13=new(r(d[6]))(this.$OzMpdUpdater6,this.$OzMpdUpdater10),this.$OzMpdUpdater2.addSubscriptions(this.$OzMpdUpdater13.addListener('streamResumedAt',t=>{this.emit('streamResumedAt',t)}),this.$OzMpdUpdater13.addListener('streamInterruptAt',t=>{this.emit('streamInterruptAt',t)}))}setupUpdateLoop(){let t=!this.$OzMpdUpdater3;t&&this.$OzMpdUpdater10.getBool('stop_manifest_update_when_static')&&(t=!this.$OzMpdUpdater6.isStaticMpd(),this.$OzMpdUpdater8=this.$OzMpdUpdater6.getMinimumUpdatePeriod()),t&&this.$OzMpdUpdater8&&this.$OzMpdUpdater6.getLocation()&&(this.$OzMpdUpdater14=r(d[7])(this.$OzMpdUpdater15,1e3*this.$OzMpdUpdater8))}onError(t){return this.$OzMpdUpdater1.onError(t)}$OzMpdUpdater16(t){const p=this.$OzMpdUpdater5.requestRawUrl(t,{credentials:'same-origin'},null,this.$OzMpdUpdater9).getStream().getReader();return s(p)}destroy(){this.$OzMpdUpdater14&&r(d[8])(this.$OzMpdUpdater14),this.$OzMpdUpdater2.release()}}},19136533,[19136613,19136520,19136523,19136522,19136554,19136532,19136614,19136576,19136575,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={getMpdLastTimeRange:function(t){const n=[];if(n.push(...t.getVideoRepresentations(),...t.getAudioRepresentations()),n.length){const t=n[0].getEndingSegment();if(t)return t.getTimeRange()}return null},getMpdLastSequenceNumber:function(t){const n=[];if(n.push(...t.getVideoRepresentations(),...t.getAudioRepresentations()),n.length){const t=n[0].getEndingSegment();if(t)return t.getSequenceNumber()}return null}}},19136613,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,s,n,p,$){this.$OzMpdParser1=new(r(d[0])),this.$OzMpdParser2=t,this.$OzMpdParser3=n,this.$OzMpdParser4=p,this.$OzMpdParser5=s,this.$OzMpdParser6=$}onError(t){return this.$OzMpdParser1.onError(t)}parse(t){let s=null;(s=(new(r(d[1]))).parse(t).MPD[0])||r(d[2])(0),s.Period.length>0||r(d[2])(0);const n=s.Period[0].AdaptationSet||[],p=this.$OzMpdParser7(s),$=this.$OzMpdParser8(s),P=this.$OzMpdParser9(n,'video'),M=this.$OzMpdParser10(P,r(d[3]),{manifestType:p,manifestIsTemplated:$});M.sort((t,s)=>t.getHeight()-s.getHeight());const h=this.$OzMpdParser9(n,'audio'),o=this.$OzMpdParser10(h,r(d[4]),{manifestType:p,manifestIsTemplated:$});o.sort((t,s)=>t.getBandwidth()-s.getBandwidth());const O=this.$OzMpdParser5.mpdUrl,z=new(r(d[5]))(s,M,o,O,this.$OzMpdParser11(s),this.$OzMpdParser5.customParsers||new Map,'static'===p);return this.$OzMpdParser6&&this.$OzMpdParser6.startEME(P,M,h,o),z}$OzMpdParser11(t){const s=t.$.minimumUpdatePeriod||'',n=/\d+/g.exec(s);if(n&&n.length){const t=n[0];return t?Number.parseInt(t,10):null}return null}$OzMpdParser7(t){return t.$.type||'static'}$OzMpdParser8(t){return'true'===t.$.FBIsLiveTemplated}$OzMpdParser9(t,s){return t.find(t=>{if(null!=t.$.mimeType)return-1!==t.$.mimeType.indexOf(s);const n=t.Representation;return n&&n.length&&-1!==n[0].$.mimeType.indexOf(s)})}$OzMpdParser10(t,s,n){return t?t.Representation.map(p=>{const $=new s(this.$OzMpdParser2,p,this.$OzMpdParser5,this.$OzMpdParser3,this.$OzMpdParser4,n,t.SegmentTemplate,t.$.mimeType,t.$.codecs);return $.onError(this.$OzMpdParser1.emitError),$.parse()}):[]}}},19136554,[19136523,19136615,19136521,19136616,19136617,19136618]);
__d(function(g,r,i,a,m,e,d){m.exports=class{constructor(){this.$OzXmlParser1=[],this.$OzXmlParser4=(({name:s})=>{const t={$:{}},l=this.$OzXmlParser8||this.$OzXmlParser9;l||r(d[0])(0),l.hasOwnProperty(s)||(l[s]=[]),l[s].push(t),this.$OzXmlParser1.push(l),this.$OzXmlParser8=t}),this.$OzXmlParser6=(()=>{const s=this.$OzXmlParser1.pop();this.$OzXmlParser8=s}),this.$OzXmlParser7=(s=>{if(!(s=s.trim()))return;const t=this.$OzXmlParser8;t||r(d[0])(0),!t._||r(d[0])(0),t._=s}),this.$OzXmlParser5=(({name:s,value:t})=>{const l=this.$OzXmlParser8;l||r(d[0])(0),l.$[s]=t});const s=this.$OzXmlParser2=r(d[1]).parser(!0);s.onerror=this.$OzXmlParser3,s.onopentagstart=this.$OzXmlParser4,s.onattribute=this.$OzXmlParser5,s.onclosetag=this.$OzXmlParser6,s.ontext=this.$OzXmlParser7}$OzXmlParser3(s){throw s}parse(s){const t={$:{}};this.$OzXmlParser9=t;try{this.$OzXmlParser2.write(s).close()}catch(s){throw s}return this.$OzXmlParser8=null,this.$OzXmlParser9=null,this.$OzXmlParser1=[],t}}},19136615,[19136521,19136619]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])},19136619,[19136620]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(){!(function(t){function s(n,c){if(!(this instanceof s))return new s(n,c);o(this),this.q=this.c='',this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=c||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?'toLowerCase':'toUpperCase',this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!n,this.noscript=!(!n&&!this.opt.noscript),this.state=X.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(y)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),p(this,'onready')}function n(s){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),o=0,c=0,u=v.length;c<u;c++){var h=s[v[c]].length;if(h>n)switch(v[c]){case'textNode':_(s);break;case'cdata':N(s,'oncdata',s.cdata),s.cdata='';break;case'script':N(s,'onscript',s.script),s.script='';break;default:f(s,'Max buffer length exceeded: '+v[c])}o=Math.max(o,h)}var T=t.MAX_BUFFER_LENGTH-o;s.bufferCheckPosition=T+s.position}function o(t){for(var s=0,n=v.length;s<n;s++)t[v[s]]=''}function c(t){_(t),''!==t.cdata&&(N(t,'oncdata',t.cdata),t.cdata=''),''!==t.script&&(N(t,'onscript',t.script),t.script='')}function u(t){return' '===t||'\n'===t||'\r'===t||'\t'===t}function h(t){return'"'===t||'\''===t}function T(t){return'>'===t||u(t)}function l(t,s){return t.test(s)}function E(t,s){return!l(t,s)}function p(t,s,n){t[s]&&t[s](n)}function N(t,s,n){t.textNode&&_(t),p(t,s,n)}function _(t){t.textNode=A(t.opt,t.textNode),t.textNode&&p(t,'ontext',t.textNode),t.textNode=''}function A(t,s){return t.trim&&(s=s.trim()),t.normalize&&(s=s.replace(/\s+/g,' ')),s}function f(t,s){return _(t),t.trackPosition&&(s+='\nLine: '+t.line+'\nColumn: '+t.column+'\nChar: '+t.c),s=new Error(s),t.error=s,p(t,'onerror',s),t}function I(t){return t.sawRoot&&!t.closedRoot&&D(t,'Unclosed root tag'),t.state!==X.BEGIN&&t.state!==X.BEGIN_WHITESPACE&&t.state!==X.TEXT&&f(t,'Unexpected end'),_(t),t.c='',t.closed=!0,p(t,'onend'),s.call(t,t.strict,t.opt),t}function D(t,n){if('object'!=typeof t||!(t instanceof s))throw new Error('bad call to strictFail');t.strict&&f(t,n)}function C(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var s=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=s.ns),t.attribList.length=0,N(t,'onopentagstart',n)}function b(t,s){var n=t.indexOf(':')<0?['',t]:t.split(':'),o=n[0],c=n[1];return s&&'xmlns'===t&&(o='xmlns',c=''),{prefix:o,local:c}}function O(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue='';else{if(t.opt.xmlns){var s=b(t.attribName,!0),n=s.prefix,o=s.local;if('xmlns'===n)if('xml'===o&&t.attribValue!==w)D(t,"xml: prefix must be bound to http://www.w3.org/XML/1998/namespace\nActual: "+t.attribValue);else if('xmlns'===o&&t.attribValue!==B)D(t,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+t.attribValue);else{var c=t.tag,u=t.tags[t.tags.length-1]||t;c.ns===u.ns&&(c.ns=Object.create(u.ns)),c.ns[o]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,N(t,'onattribute',{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=''}}function F(t,s){if(t.opt.xmlns){var n=t.tag,o=b(t.tagName);n.prefix=o.prefix,n.local=o.local,n.uri=n.ns[o.prefix]||'',n.prefix&&!n.uri&&(D(t,'Unbound namespace prefix: '+JSON.stringify(t.tagName)),n.uri=o.prefix);var c=t.tags[t.tags.length-1]||t;n.ns&&c.ns!==n.ns&&Object.keys(n.ns).forEach(function(s){N(t,'onopennamespace',{prefix:s,uri:n.ns[s]})});for(var u=0,h=t.attribList.length;u<h;u++){var T=t.attribList[u],l=T[0],E=T[1],p=b(l,!0),_=p.prefix,A=p.local,f=''===_?'':n.ns[_]||'',I={name:l,value:E,prefix:_,local:A,uri:f};_&&'xmlns'!==_&&!f&&(D(t,'Unbound namespace prefix: '+JSON.stringify(_)),I.uri=_),t.tag.attributes[l]=I,N(t,'onattribute',I)}t.attribList.length=0}t.tag.isSelfClosing=!!s,t.sawRoot=!0,t.tags.push(t.tag),N(t,'onopentag',t.tag),s||(t.noscript||'script'!==t.tagName.toLowerCase()?t.state=X.TEXT:t.state=X.SCRIPT,t.tag=null,t.tagName=''),t.attribName=t.attribValue='',t.attribList.length=0}function S(t){if(!t.tagName)return D(t,'Weird empty close tag.'),t.textNode+='</>',void(t.state=X.TEXT);if(t.script){if('script'!==t.tagName)return t.script+='</'+t.tagName+'>',t.tagName='',void(t.state=X.SCRIPT);N(t,'onscript',t.script),t.script=''}var s=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var o=n;s--;){if(t.tags[s].name===o)break;D(t,'Unexpected close tag')}if(s<0)return D(t,'Unmatched closing tag: '+t.tagName),t.textNode+='</'+t.tagName+'>',void(t.state=X.TEXT);t.tagName=n;for(var c=t.tags.length;c-- >s;){var u=t.tag=t.tags.pop();t.tagName=t.tag.name,N(t,'onclosetag',t.tagName);var h={};for(var T in u.ns)h[T]=u.ns[T];var l=t.tags[t.tags.length-1]||t;t.opt.xmlns&&u.ns!==l.ns&&Object.keys(u.ns).forEach(function(s){var n=u.ns[s];N(t,'onclosenamespace',{prefix:s,uri:n})})}0===s&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName='',t.attribList.length=0,t.state=X.TEXT}function R(t){var s,n=t.entity,o=n.toLowerCase(),c='';return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[o]?t.ENTITIES[o]:('#'===(n=o).charAt(0)&&('x'===n.charAt(1)?(n=n.slice(2),c=(s=parseInt(n,16)).toString(16)):(n=n.slice(1),c=(s=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,''),isNaN(s)||c.toLowerCase()!==n?(D(t,'Invalid character entity'),'&'+t.entity+';'):String.fromCodePoint(s))}function P(t,s){'<'===s?(t.state=X.OPEN_WAKA,t.startTagPosition=t.position):u(s)||(D(t,'Non-whitespace before first tag.'),t.textNode=s,t.state=X.TEXT)}function L(t,s){var n='';return s<t.length&&(n=t.charAt(s)),n}t.parser=function(t,n){return new s(t,n)},t.SAXParser=s,t.MAX_BUFFER_LENGTH=65536;var v=['comment','sgmlDecl','textNode','tagName','doctype','procInstName','procInstBody','entity','attribName','attribValue','cdata','script'];t.EVENTS=['text','processinginstruction','sgmldeclaration','doctype','comment','opentagstart','attribute','opentag','closetag','opencdata','cdata','closecdata','error','end','ready','script','opennamespace','closenamespace'],Object.create||(Object.create=function(t){function s(){}s.prototype=t;return new s}),Object.keys||(Object.keys=function(t){var s=[];for(var n in t)t.hasOwnProperty(n)&&s.push(n);return s}),s.prototype={end:function(){I(this)},write:function(t){if(this.error)throw this.error;if(this.closed)return f(this,'Cannot write after close. Assign an onready handler.');if(null===t)return I(this);'object'==typeof t&&(t=t.toString());for(var s=0,o='';o=L(t,s++),this.c=o,o;)switch(this.trackPosition&&(this.position++,'\n'===o?(this.line++,this.column=0):this.column++),this.state){case X.BEGIN:if(this.state=X.BEGIN_WHITESPACE,'\ufeff'===o)continue;P(this,o);continue;case X.BEGIN_WHITESPACE:P(this,o);continue;case X.TEXT:if(this.sawRoot&&!this.closedRoot){for(var c=s-1;o&&'<'!==o&&'&'!==o;)(o=L(t,s++))&&this.trackPosition&&(this.position++,'\n'===o?(this.line++,this.column=0):this.column++);this.textNode+=t.substring(c,s-1)}'<'!==o||this.sawRoot&&this.closedRoot&&!this.strict?(u(o)||this.sawRoot&&!this.closedRoot||D(this,'Text data outside of root node.'),'&'===o?this.state=X.TEXT_ENTITY:this.textNode+=o):(this.state=X.OPEN_WAKA,this.startTagPosition=this.position);continue;case X.SCRIPT:'<'===o?this.state=X.SCRIPT_ENDING:this.script+=o;continue;case X.SCRIPT_ENDING:'/'===o?this.state=X.CLOSE_TAG:(this.script+='<'+o,this.state=X.SCRIPT);continue;case X.OPEN_WAKA:if('!'===o)this.state=X.SGML_DECL,this.sgmlDecl='';else if(u(o));else if(l(M,o))this.state=X.OPEN_TAG,this.tagName=o;else if('/'===o)this.state=X.CLOSE_TAG,this.tagName='';else if('?'===o)this.state=X.PROC_INST,this.procInstName=this.procInstBody='';else{if(D(this,'Unencoded <'),this.startTagPosition+1<this.position){var p=this.position-this.startTagPosition;o=new Array(p).join(' ')+o}this.textNode+='<'+o,this.state=X.TEXT}continue;case X.SGML_DECL:(this.sgmlDecl+o).toUpperCase()===U?(N(this,'onopencdata'),this.state=X.CDATA,this.sgmlDecl='',this.cdata=''):this.sgmlDecl+o==='--'?(this.state=X.COMMENT,this.comment='',this.sgmlDecl=''):(this.sgmlDecl+o).toUpperCase()===x?(this.state=X.DOCTYPE,(this.doctype||this.sawRoot)&&D(this,'Inappropriately located doctype declaration'),this.doctype='',this.sgmlDecl=''):'>'===o?(N(this,'onsgmldeclaration',this.sgmlDecl),this.sgmlDecl='',this.state=X.TEXT):h(o)?(this.state=X.SGML_DECL_QUOTED,this.sgmlDecl+=o):this.sgmlDecl+=o;continue;case X.SGML_DECL_QUOTED:o===this.q&&(this.state=X.SGML_DECL,this.q=''),this.sgmlDecl+=o;continue;case X.DOCTYPE:'>'===o?(this.state=X.TEXT,N(this,'ondoctype',this.doctype),this.doctype=!0):(this.doctype+=o,'['===o?this.state=X.DOCTYPE_DTD:h(o)&&(this.state=X.DOCTYPE_QUOTED,this.q=o));continue;case X.DOCTYPE_QUOTED:this.doctype+=o,o===this.q&&(this.q='',this.state=X.DOCTYPE);continue;case X.DOCTYPE_DTD:this.doctype+=o,']'===o?this.state=X.DOCTYPE:h(o)&&(this.state=X.DOCTYPE_DTD_QUOTED,this.q=o);continue;case X.DOCTYPE_DTD_QUOTED:this.doctype+=o,o===this.q&&(this.state=X.DOCTYPE_DTD,this.q='');continue;case X.COMMENT:'-'===o?this.state=X.COMMENT_ENDING:this.comment+=o;continue;case X.COMMENT_ENDING:'-'===o?(this.state=X.COMMENT_ENDED,this.comment=A(this.opt,this.comment),this.comment&&N(this,'oncomment',this.comment),this.comment=''):(this.comment+='-'+o,this.state=X.COMMENT);continue;case X.COMMENT_ENDED:'>'!==o?(D(this,'Malformed comment'),this.comment+='--'+o,this.state=X.COMMENT):this.state=X.TEXT;continue;case X.CDATA:']'===o?this.state=X.CDATA_ENDING:this.cdata+=o;continue;case X.CDATA_ENDING:']'===o?this.state=X.CDATA_ENDING_2:(this.cdata+=']'+o,this.state=X.CDATA);continue;case X.CDATA_ENDING_2:'>'===o?(this.cdata&&N(this,'oncdata',this.cdata),N(this,'onclosecdata'),this.cdata='',this.state=X.TEXT):']'===o?this.cdata+=']':(this.cdata+=']]'+o,this.state=X.CDATA);continue;case X.PROC_INST:'?'===o?this.state=X.PROC_INST_ENDING:u(o)?this.state=X.PROC_INST_BODY:this.procInstName+=o;continue;case X.PROC_INST_BODY:if(!this.procInstBody&&u(o))continue;'?'===o?this.state=X.PROC_INST_ENDING:this.procInstBody+=o;continue;case X.PROC_INST_ENDING:'>'===o?(N(this,'onprocessinginstruction',{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody='',this.state=X.TEXT):(this.procInstBody+='?'+o,this.state=X.PROC_INST_BODY);continue;case X.OPEN_TAG:l(G,o)?this.tagName+=o:(C(this),'>'===o?F(this):'/'===o?this.state=X.OPEN_TAG_SLASH:(u(o)||D(this,'Invalid character in tag name'),this.state=X.ATTRIB));continue;case X.OPEN_TAG_SLASH:'>'===o?(F(this,!0),S(this)):(D(this,'Forward-slash in opening tag not followed by >'),this.state=X.ATTRIB);continue;case X.ATTRIB:if(u(o))continue;'>'===o?F(this):'/'===o?this.state=X.OPEN_TAG_SLASH:l(M,o)?(this.attribName=o,this.attribValue='',this.state=X.ATTRIB_NAME):D(this,'Invalid attribute name');continue;case X.ATTRIB_NAME:'='===o?this.state=X.ATTRIB_VALUE:'>'===o?(D(this,'Attribute without value'),this.attribValue=this.attribName,O(this),F(this)):u(o)?this.state=X.ATTRIB_NAME_SAW_WHITE:l(G,o)?this.attribName+=o:D(this,'Invalid attribute name');continue;case X.ATTRIB_NAME_SAW_WHITE:if('='===o)this.state=X.ATTRIB_VALUE;else{if(u(o))continue;D(this,'Attribute without value'),this.tag.attributes[this.attribName]='',this.attribValue='',N(this,'onattribute',{name:this.attribName,value:''}),this.attribName='','>'===o?F(this):l(M,o)?(this.attribName=o,this.state=X.ATTRIB_NAME):(D(this,'Invalid attribute name'),this.state=X.ATTRIB)}continue;case X.ATTRIB_VALUE:if(u(o))continue;h(o)?(this.q=o,this.state=X.ATTRIB_VALUE_QUOTED):(D(this,'Unquoted attribute value'),this.state=X.ATTRIB_VALUE_UNQUOTED,this.attribValue=o);continue;case X.ATTRIB_VALUE_QUOTED:if(o!==this.q){'&'===o?this.state=X.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=o;continue}O(this),this.q='',this.state=X.ATTRIB_VALUE_CLOSED;continue;case X.ATTRIB_VALUE_CLOSED:u(o)?this.state=X.ATTRIB:'>'===o?F(this):'/'===o?this.state=X.OPEN_TAG_SLASH:l(M,o)?(D(this,'No whitespace between attributes'),this.attribName=o,this.attribValue='',this.state=X.ATTRIB_NAME):D(this,'Invalid attribute name');continue;case X.ATTRIB_VALUE_UNQUOTED:if(!T(o)){'&'===o?this.state=X.ATTRIB_VALUE_ENTITY_U:this.attribValue+=o;continue}O(this),'>'===o?F(this):this.state=X.ATTRIB;continue;case X.CLOSE_TAG:if(this.tagName)'>'===o?S(this):l(G,o)?this.tagName+=o:this.script?(this.script+='</'+this.tagName,this.tagName='',this.state=X.SCRIPT):(u(o)||D(this,'Invalid tagname in closing tag'),this.state=X.CLOSE_TAG_SAW_WHITE);else{if(u(o))continue;E(M,o)?this.script?(this.script+='</'+o,this.state=X.SCRIPT):D(this,'Invalid tagname in closing tag.'):this.tagName=o}continue;case X.CLOSE_TAG_SAW_WHITE:if(u(o))continue;'>'===o?S(this):D(this,'Invalid characters in closing tag');continue;case X.TEXT_ENTITY:case X.ATTRIB_VALUE_ENTITY_Q:case X.ATTRIB_VALUE_ENTITY_U:var _,b;switch(this.state){case X.TEXT_ENTITY:_=X.TEXT,b='textNode';break;case X.ATTRIB_VALUE_ENTITY_Q:_=X.ATTRIB_VALUE_QUOTED,b='attribValue';break;case X.ATTRIB_VALUE_ENTITY_U:_=X.ATTRIB_VALUE_UNQUOTED,b='attribValue'}';'===o?(this[b]+=R(this),this.entity='',this.state=_):l(this.entity.length?Y:V,o)?this.entity+=o:(D(this,'Invalid character in entity name'),this[b]+='&'+this.entity+o,this.entity='',this.state=_);continue;default:throw new Error(this,'Unknown state: '+this.state)}return this.position>=this.bufferCheckPosition&&n(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){c(this)}};var U='[CDATA[',x='DOCTYPE',w='http://www.w3.org/XML/1998/namespace',B='http://www.w3.org/2000/xmlns/',y={xml:w,xmlns:B},M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,G=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,V=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,X=0;t.STATE={BEGIN:X++,BEGIN_WHITESPACE:X++,TEXT:X++,TEXT_ENTITY:X++,OPEN_WAKA:X++,SGML_DECL:X++,SGML_DECL_QUOTED:X++,DOCTYPE:X++,DOCTYPE_QUOTED:X++,DOCTYPE_DTD:X++,DOCTYPE_DTD_QUOTED:X++,COMMENT_STARTING:X++,COMMENT:X++,COMMENT_ENDING:X++,COMMENT_ENDED:X++,CDATA:X++,CDATA_ENDING:X++,CDATA_ENDING_2:X++,PROC_INST:X++,PROC_INST_BODY:X++,PROC_INST_ENDING:X++,OPEN_TAG:X++,OPEN_TAG_SLASH:X++,ATTRIB:X++,ATTRIB_NAME:X++,ATTRIB_NAME_SAW_WHITE:X++,ATTRIB_VALUE:X++,ATTRIB_VALUE_QUOTED:X++,ATTRIB_VALUE_CLOSED:X++,ATTRIB_VALUE_UNQUOTED:X++,ATTRIB_VALUE_ENTITY_Q:X++,ATTRIB_VALUE_ENTITY_U:X++,CLOSE_TAG:X++,CLOSE_TAG_SAW_WHITE:X++,SCRIPT:X++,SCRIPT_ENDING:X++},t.XML_ENTITIES={amp:'&',gt:'>',lt:'<',quot:'"',apos:"'"},t.ENTITIES={amp:'&',gt:'>',lt:'<',quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(s){var n=t.ENTITIES[s],o='number'==typeof n?String.fromCharCode(n):n;t.ENTITIES[s]=o});for(var q in t.STATE)t.STATE[t.STATE[q]]=q;X=t.STATE,String.fromCodePoint||(function(){var t=String.fromCharCode,s=Math.floor,n=function(){var n,o,c=[],u=-1,h=arguments.length;if(!h)return'';for(var T='';++u<h;){var l=Number(arguments[u]);if(!isFinite(l)||l<0||l>1114111||s(l)!==l)throw RangeError('Invalid code point: '+l);l<=65535?c.push(l):(n=55296+((l-=65536)>>10),o=l%1024+56320,c.push(n,o)),(u+1===h||c.length>16384)&&(T+=t.apply(null,c),c.length=0)}return T};Object.defineProperty?Object.defineProperty(String,'fromCodePoint',{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n})()})(n)}function s(){return c||(c=!0,t()),o.exports}var n={},o={exports:n},c=!1;m.exports=(function(t){switch(t){case void 0:return s()}})()},19136620,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends(r(d[1])){constructor(s,t,n,o,p,h,u,c,$){super(s,t,n,o,p,h,u,c,$),this.$OzVideoRepresentationParser1=t,this.$OzVideoRepresentationParser2=n}parse(){const s=Number.parseInt(this.$OzVideoRepresentationParser1.$.height,10),t=Number.parseInt(this.$OzVideoRepresentationParser1.$.width,10),n=this.$OzVideoRepresentationParser2.customRepresentationParsers;return new(r(d[0]))(this.$OzVideoRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),n,t,s)}}},19136616,[19136551,19136621]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends(r(d[0])){constructor(t,n,s,o,h,p,z,O,R,V){super(t,n,s,o,h,p,z,O),this.$OzVideoRepresentation1=null,this.$OzVideoRepresentation2=R,this.$OzVideoRepresentation3=V,this.$OzVideoRepresentation4=O,this.$OzVideoRepresentation5=t}getWidth(){return this.$OzVideoRepresentation2}getHeight(){return this.$OzVideoRepresentation3}getQualityLabel(){if(null!==this.$OzVideoRepresentation1&&void 0!==this.$OzVideoRepresentation1)return this.$OzVideoRepresentation1;const t=this.$OzVideoRepresentation4?this.$OzVideoRepresentation4.qualityLabel:null;return t&&(this.$OzVideoRepresentation1=t(this.$OzVideoRepresentation5)),null!=this.$OzVideoRepresentation1&&''!=this.$OzVideoRepresentation1||(this.$OzVideoRepresentation1=this.getHeight().toString()+'p'),this.$OzVideoRepresentation1||''}}},19136551,[19136622]);
__d(function(g,r,i,a,m,e,d){'use strict';class t{constructor(t,n,s,o,R,p,h,O){this.$OzRepresentation1=t,this.$OzRepresentation2=n,this.$OzRepresentation3=s,this.$OzRepresentation4=o,this.$OzRepresentation5=R,this.$OzRepresentation6=p,this.$OzRepresentation7=h,this.$OzRepresentation8=O}getID(){return this.$OzRepresentation2}getBandwidth(){return this.$OzRepresentation6}getMimeCodecs(){return this.$OzRepresentation3}getQualityLabel(){return this.$OzRepresentation2}getInitSegment(){return this.$OzRepresentation4}getCustomFieldFirstSegment(){return this.$OzRepresentation7}getCustomField(t){if(null==this.$OzRepresentation8||!this.$OzRepresentation8[t])throw new(r(d[0]))({type:'OZ_REPRESENTATION_PARSER',description:`Custom field ${t} is not specified by caller`,extra:{code:'OZ_RP-8'}});const n=this.$OzRepresentation8[t];try{return n(this.$OzRepresentation1)}catch(t){return null}}updateWith(n){n instanceof t||r(d[1])(0),this.$OzRepresentation5.updateWith(n.$OzRepresentation5)}getSegmentByTime(t){return this.$OzRepresentation5.getSegmentByTime(t)}getSegment(t){return this.$OzRepresentation5.getSegment(t)}getPredictedSegmentAfter(t){return this.$OzRepresentation5.getPredictedSegmentAfter(t)}canPredict(){return this.$OzRepresentation5.canPredict()}getSegmentAfter(t){return this.$OzRepresentation5.getSegmentAfter(t)}isEndingSegment(t){return this.$OzRepresentation5.isEndingSegment(t)}addUpdateListener(t){return this.$OzRepresentation5.addUpdateListener(t)}getTimeRanges(){return this.$OzRepresentation5.getTimeRanges()}blockTimeRange(t){this.$OzRepresentation5.blockTimeRange(t)}getEndingSegment(){return this.$OzRepresentation5.getEndingSegment()}}m.exports=t},19136622,[19136532,19136521]);
__d(function(g,r,i,a,m,e,d){'use strict';const{getMimeType:t}=r(d[0]);m.exports=class{constructor(t,s,n,o,p,$,R,h,P){this.$OzRepresentationParser1=new(r(d[1])),this.$OzRepresentationParser2=s,this.$OzRepresentationParser3=o,this.$OzRepresentationParser4=p,this.$OzRepresentationParser5=n,this.$OzRepresentationParser6=t,this.$OzRepresentationParser7=$,this.$OzRepresentationParser8=R,this.$OzRepresentationParser9=h,this.$OzRepresentationParser10=P}$OzRepresentationParser11(){if(this.$OzRepresentationParser12)return this.$OzRepresentationParser12;if(this.$OzRepresentationParser2.SegmentBase){const s=this.$OzRepresentationParser2.SegmentBase[0],n=this.$OzRepresentationParser2.BaseURL[0]._;this.$OzRepresentationParser12=new(r(d[2]))(this.$OzRepresentationParser6,s,n,r(d[3]).parse(this.$OzRepresentationParser2.$.mimeType),t(this.$OzRepresentationParser2.$.mimeType),this.$OzRepresentationParser3,this.$OzRepresentationParser4),this.$OzRepresentationParser12.onError(this.$OzRepresentationParser1.emitError)}else if(null!=this.$OzRepresentationParser2.SegmentTemplate)this.$OzRepresentationParser12=this.$OzRepresentationParser13(this.$OzRepresentationParser2.SegmentTemplate[0],{isShared:!1});else{if(!this.$OzRepresentationParser8)throw new(r(d[4]))({type:'OZ_REPRESENTATION_PARSER',description:'Unrecognized representation type',extra:{code:'OZ_RP-7'}});this.$OzRepresentationParser12=this.$OzRepresentationParser13(this.$OzRepresentationParser8[0],{isShared:!0})}return this.$OzRepresentationParser12}$OzRepresentationParser13(t,s){let n=t;if(s.isShared){const t={...n};t.$={...n.$},t.$.initialization=t.$.initialization.replace('$RepresentationID$',this.$OzRepresentationParser2.$.id),t.$.media=t.$.media.replace('$RepresentationID$',this.$OzRepresentationParser2.$.id),n=t}const o=this.$OzRepresentationParser5.mpdUrl,p=this.$OzRepresentationParser2.BaseURL&&this.$OzRepresentationParser2.BaseURL[0]?this.$OzRepresentationParser2.BaseURL[0]._:null,$=null!=p&&this.$OzRepresentationParser6.getBool('enable_quickdashv2')?p:o;if(null==$)throw new(r(d[4]))({type:'OZ_REPRESENTATION_PARSER',description:'Missing mpd url for template manifest',extra:{code:'OZ_RP-6'}});const R=this.$OzRepresentationParser5.customSegmentTimelineParser;return new(r(d[5]))(this.$OzRepresentationParser6,n,{baseUrl:$,isStaticMpd:'static'===this.$OzRepresentationParser7.manifestType,isTemplatedMpd:this.$OzRepresentationParser7.manifestIsTemplated},R)}onError(t){return this.$OzRepresentationParser1.onError(t)}parseInitSegment(){return this.$OzRepresentationParser11().parseInitializationSegment()}parseBandwidth(){return Number(this.$OzRepresentationParser2.$.bandwidth)}parseMimeCodecs(){var t,s,n,o;return`${null!==(t=null!==(s=this.$OzRepresentationParser2.$.mimeType)&&void 0!==s?s:this.$OzRepresentationParser9)&&void 0!==t?t:''}; codecs="${null!==(n=null!==(o=this.$OzRepresentationParser2.$.codecs)&&void 0!==o?o:this.$OzRepresentationParser10)&&void 0!==n?n:''}"`}parseSegmentsContainer(){return this.$OzRepresentationParser11().parseSegmentsContainer()}parseID(){return`${this.$OzRepresentationParser2.$.id}`}parseCustomFieldFirstSegment(){const t=this.$OzRepresentationParser5.customRepresentationParsers?this.$OzRepresentationParser5.customRepresentationParsers.firstSegmentParser:null;return t?t(this.$OzRepresentationParser2):null}parse(){return new(r(d[6]))(this.$OzRepresentationParser2,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$OzRepresentationParser5.customRepresentationParsers)}}},19136621,[19136623,19136523,19136624,19136625,19136532,19136626,19136622]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={getMimeType:function(t){return(t.split('/')[0]||'').trim()}}},19136623,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function s(s){const t=s.split('-');return{startByte:Number.parseInt(t[0],10),endByte:Number.parseInt(t[1],10)}}const{monitorPromiseAndLogOperation:t}=r(d[0]),{pumpAllData:n}=r(d[1]);m.exports=class{constructor(s,t,n,S,x,h,z){this.$OzSidxSegmentsParser1=new(r(d[2])),this.$OzSidxSegmentsParser2=[],this.$OzSidxSegmentsParser3=new(r(d[3])),this.$OzSidxSegmentsParser4=t,this.$OzSidxSegmentsParser5=n,this.$OzSidxSegmentsParser6=S,this.$OzSidxSegmentsParser7=x,this.$OzSidxSegmentsParser8=h,this.$OzSidxSegmentsParser9=z.cloneContext().setType('sidx'),this.$OzSidxSegmentsParser10=s}onError(s){return this.$OzSidxSegmentsParser1.onError(s)}parseInitializationSegment(){const t=s(this.$OzSidxSegmentsParser4.Initialization[0].$.range);return{getURI:()=>new(r(d[4]))(this.$OzSidxSegmentsParser5),getTimeRange:()=>({startTime:0,endTime:0}),getByteRange:()=>t,getSequenceNumber:()=>null}}parseSegmentsContainer(){const s=()=>{t(this.$OzSidxSegmentsParser11(),this.$OzSidxSegmentsParser9,'process_sidx').catch(this.$OzSidxSegmentsParser1.emitError)},n=this.$OzSidxSegmentsParser10.getBool('lazy_parse_sidx');return n||s(),new(r(d[5]))(()=>this.$OzSidxSegmentsParser2,this.$OzSidxSegmentsParser3,n?s:null)}$OzSidxSegmentsParser12(s,t,S="DISABLE_CACHE"){const x=new(r(d[6]))(new(r(d[4]))(s),t.startByte,t.endByte),h=this.$OzSidxSegmentsParser10.getBool('exclude_sidx_from_bandwidth_estimates')?`${this.$OzSidxSegmentsParser7};sidx`:this.$OzSidxSegmentsParser7,z=this.$OzSidxSegmentsParser8.request([x],[r(d[7])(h)],this.$OzSidxSegmentsParser9,S).getStream().getReader();return n(z)}$OzSidxSegmentsParser11(){const t=s(this.$OzSidxSegmentsParser4.$.indexRange),n=[this.$OzSidxSegmentsParser12(this.$OzSidxSegmentsParser5,t)];let S;if('webm'===this.$OzSidxSegmentsParser6){const t=s(this.$OzSidxSegmentsParser4.Initialization[0].$.range);n.push(this.$OzSidxSegmentsParser12(this.$OzSidxSegmentsParser5,t,'ENABLE_CACHE')),S=r(d[8]).all(n).then(s=>{const t=s[0],n=s[1];this.$OzSidxSegmentsParser2=r(d[9]).parse(this.$OzSidxSegmentsParser5,t,n)})}else S=n[0].then(s=>{this.$OzSidxSegmentsParser2=r(d[10]).parse(this.$OzSidxSegmentsParser5,t.startByte,s)});return S.then(()=>{this.$OzSidxSegmentsParser3.emit('segment_updated')})}}},19136624,[19136517,19136520,19136523,19136557,19136593,19136627,19136628,19136629,19136531,19136630,19136631]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,n,s=null){this.$OzSidxSegmentsContainer1=t,this.$OzSidxSegmentsContainer2=n,this.$OzSidxSegmentsContainer3=s}getSegmentByTime(t){const n=this.$OzSidxSegmentsContainer1();for(let s=0;s<n.length;s++){const S=n[s],o=S.getTimeRange();if(o.startTime<=t&&o.endTime>t)return S}return null}getSegmentAfter(t){const n=this.$OzSidxSegmentsContainer1(),s=n.findIndex(n=>n.getTimeRange().startTime===t.getTimeRange().startTime&&n.getTimeRange().endTime===t.getTimeRange().endTime);return s>=0&&s+1<n.length?n[s+1]:null}getPredictedSegmentAfter(t){return null}canPredict(){return!1}isEndingSegment(t){const n=this.$OzSidxSegmentsContainer1();if(!n||!n.length)return!1;const s=n[n.length-1].getTimeRange(),S=t.getTimeRange();return s.startTime===S.startTime&&s.endTime===S.endTime}getSegment(t){return this.$OzSidxSegmentsContainer1()[t]||null}updateWith(t){throw new Error('Not implemented: updatedWith')}addUpdateListener(t){return this.$OzSidxSegmentsContainer3&&(this.$OzSidxSegmentsContainer3(),this.$OzSidxSegmentsContainer3=null),this.$OzSidxSegmentsContainer2.addListener('segment_updated',t)}getTimeRanges(){const t=this.$OzSidxSegmentsContainer1();if(0===t.length)return[];{const n=t[0],s=t[t.length-1];return[{startTime:n.getTimeRange().startTime,endTime:s.getTimeRange().endTime}]}}blockTimeRange(){}getEndingSegment(){return null}}},19136627,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,n,s){this.$OzZeroTimeRangeSegment1=t,this.$OzZeroTimeRangeSegment2=n,this.$OzZeroTimeRangeSegment3=s}getURI(){return this.$OzZeroTimeRangeSegment1}getTimeRange(){return{startTime:0,endTime:0}}getByteRange(){return{startByte:this.$OzZeroTimeRangeSegment2,endByte:this.$OzZeroTimeRangeSegment3}}getSequenceNumber(){return null}}},19136628,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t){return(o,n,c)=>{const s=!o.getBool('estimate_video_bandwidth_only')||'video'===t;return n instanceof r(d[0])&&s?r(d[1]).pipeThroughReporter(o.getLegacyConfig(),n,c):n}}},19136629,[19136592,19136632]);
__d(function(g,r,i,a,m,e,d){'use strict';const{getBandwidthEstimate:t,getExponentiallyWeightedMovingAverage:n,getExponentiallyWeightedMovingAverageOfBandwidth:s,getStandardDeviationOfBandwidth:h}=r(d[0]),o=.9,_=5e5,w=2e4;m.exports=new class extends(r(d[5])){constructor(){super(),this.$OzBandwidthEstimator1=[],this.$OzBandwidthEstimator2=[],this.$OzBandwidthEstimator3=new(r(d[1]))(r(d[2]).getString('bandwidth_cache_key','bandwidthEstimate'),()=>this.getAdjustedBandwidth(r(d[2])))}getBandwidth(n){const s=t(this.$OzBandwidthEstimator1,n.getNumber('bandwidth_estimator_half_life',6),n.getNumber('bandwidth_estimator_outlier_exclusion_factor',2),n.getNumber('bandwidth_estimator_std_dev_penalty_factor',.1));return s>0?s:this.$OzBandwidthEstimator4(n)}getEstimatedTimeToFirstByteMs(t){return this.$OzBandwidthEstimator2.length>0?n(this.$OzBandwidthEstimator2.map(t=>({value:t,weight:1})),t.getNumber('time_to_first_byte_estimate_half_life_ms',500)):null}$OzBandwidthEstimator4(t){const n=this.$OzBandwidthEstimator3.getCachedBandwidth();return'number'==typeof n&&n>0?n:t.getNumber('default_bandwidth_estimate',_)}getStandardDeviationOfBandwidth(){return h(this.$OzBandwidthEstimator1)}getSampleCount(){return this.$OzBandwidthEstimator1.length}getAdjustedBandwidth(t){if(0===this.$OzBandwidthEstimator1.length)return this.$OzBandwidthEstimator4(t);const n=t.getNumber('bandwidth_estimator_variance_penalty_half_life',0)>0?this.$OzBandwidthEstimator5(t):this.$OzBandwidthEstimator6(t);return this.$OzBandwidthEstimator7(t,n)}$OzBandwidthEstimator7(t,n){const s=Math.max(0,r(d[3]).getQueue('video').getLength()-t.getNumber('bandwidth_penalty_additional_video_start',0)),h=t.getNumber('bandwidth_penalty_per_additional_video',0);return n*(1-Math.min(o,s*h))}$OzBandwidthEstimator5(t){const n=s(this.$OzBandwidthEstimator1,t.getNumber('bandwidth_estimator_half_life',6)),h=s(this.$OzBandwidthEstimator1,t.getNumber('bandwidth_estimator_variance_penalty_half_life',0)),o=h<n?t.getNumber('bandwidth_estimator_variance_penalty_down_factor',0):t.getNumber('bandwidth_estimator_variance_penalty_up_factor',0);return n-Math.abs(n-h)*o}$OzBandwidthEstimator6(t){return this.getBandwidth(t)}pipeThroughReporter(t,n,s){return{startStream:h=>{const o=new(r(d[4]))({stream:n,loggerProvider:s,byteCountPerSample:t.getNumber('byte_count_per_sample',w),minimumBytesToSampleOnClose:t.getNumber('minimum_bytes_to_sample_on_close',0),minimumSampleDuration:t.getNumber('minimum_bandwidth_sample_duration',0),maximumSampleBandwidth:t.getNumber('maximum_bandwidth_sample_bandwidth',999999999),usePerformanceEntryOnClose:t.getBool('use_performance_entry_on_stream_close',!1),useResponseTimeMs:t.getBool('bandwidth_use_response_time_adjustment',!1),responseTimeHandicapMs:t.getNumber('bandwidth_response_time_handicap',0),ignoreTimeToResponseStart:t.getBool('ignore_time_to_response_start',!1),ignoreOnStreamWriteSamples:t.getBool('bandwidth_ignore_on_stream_write_samples',!1)});return o.onBandwidthSample((n,s)=>{this.$OzBandwidthEstimator8(n,s),t.getBool('update_bandwidth_cache_on_sample',!1)&&this.$OzBandwidthEstimator3.updateCachedBandwidth()}),o.onTimeToFirstByteMsSample(this.$OzBandwidthEstimator9.bind(this)),n.startStream(h).then(s=>n.retrievedFromCache()&&t.getBool('exclude_prefetch_bandwidth_samples',!1)?s:s.pipeThrough(o.getTransformStream()))}}}$OzBandwidthEstimator8(t,n){this.$OzBandwidthEstimator1.push({bytes:t,timeInMs:n}),this.$OzBandwidthEstimator1.length>r(d[2]).getNumber('max_bandwidth_sample_count',15)&&this.$OzBandwidthEstimator1.shift(),this.emit('bandwidth_sampled')}$OzBandwidthEstimator9(t){this.$OzBandwidthEstimator2.push(t),this.$OzBandwidthEstimator2.length>r(d[2]).getNumber('max_bandwidth_sample_count',15)&&this.$OzBandwidthEstimator2.splice(0,1)}}},19136632,[19136633,19136634,19136635,19136636,19136637,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){let n=0;for(let o=0;o<t.length;o++)n+=8e3*t[o].bytes/t[o].timeInMs;return n/t.length}function n(n){const o=t(n);let h=0;for(let t=0;t<n.length;t++)h+=Math.pow(8e3*n[t].bytes/n[t].timeInMs-o,2);return Math.round(Math.sqrt(h/n.length))}function o(t,n){const o=Math.exp(Math.log(.5)/n);let h=0,s=0;for(let n=0;n<t.length;n++){const l=Math.pow(o,t[n].weight);h=t[n].value*(1-l)+h*l,s+=t[n].weight}return Math.round(h/(1-Math.pow(o,s)))}function h(t,n){return o(t.map(t=>({value:8e3*t.bytes/t.timeInMs,weight:t.timeInMs/1e3})),n)}function s(n,o){const h=t(n),s=[];for(let t=0;t<n.length;t++)Math.abs(h-8e3*n[t].bytes/n[t].timeInMs)<o&&s.push(n[t]);return s}m.exports={getBandwidthEstimate:function(t,o,l,u){const M=n(t);return h(s(t,M*l),o)-M*u},getExponentiallyWeightedMovingAverage:o,getExponentiallyWeightedMovingAverageOfBandwidth:h,getStandardDeviationOfBandwidth:n,getMeanBandwidth:t,getBandwidthSamplesWithinRangeOfMean:s}},19136633,[]);
__d(function(g,r,i,a,m,e,d){m.exports=class{constructor(t,h){this.$OzBandwidthCache1=t,this.$OzBandwidthCache2=h,r(d[0]).onUnload(()=>{this.updateCachedBandwidth()})}getCachedBandwidth(){const t=r(d[1]).get(this.$OzBandwidthCache1);if(null==t)return null;const h=Number(t);return isNaN(h)?null:h}updateCachedBandwidth(){r(d[1]).set(this.$OzBandwidthCache1,String(this.$OzBandwidthCache2()))}}},19136634,[19136638,19136639]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136638,[19136640]);
__d(function(g,r,i,a,m,e,d){'use strict';const n={onUnload:n=>{const o=window.onunload;window.onunload=(()=>{n(),null!=o&&'function'==typeof o&&o.call(window)})}};m.exports=n},19136640,[]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])},19136639,[19136641]);
__d(function(g,r,i,a,m,e,d){const t=g.localStorage,o={get:o=>t?t.getItem("_video_"+o):null,set(o,l){null!=t&&t.setItem("_video_"+o,l)}};m.exports=o},19136641,[]);
__d(function(g,r,i,a,m,e,d){'use strict';let t=null;const o={getBool:(o,l)=>t?t.getBool(o,l):l,getNumber:(o,l)=>t?t.getNumber(o,l):l,getString:(o,l)=>t?t.getString(o,l):l,setGlobalConfig:o=>{t=o}};m.exports=o},19136635,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=new Map,n=new Map,s=2,u=2,o=6e4;m.exports={getQueue:function(c){let _=t.get(c);if(!_){_=new(r(d[0]))(s,u);const w=new(r(d[1]))(_,{taskTimeout:o});t.set(c,_),n.set(c,w),w.start()}return _},OZ_QUEUE_MAX_PRIORITY:s}},19136636,[19136642,19136643]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(u,t=-1){this.$RoundRobinPriorityTaskQueue1=(()=>{}),this.$RoundRobinPriorityTaskQueue2=[],this.$RoundRobinPriorityTaskQueue3=new Map,this.$RoundRobinPriorityTaskQueue4=new Map,this.$RoundRobinPriorityTaskQueue5=u,this.$RoundRobinPriorityTaskQueue6=t}getHighestPriority(){return Math.max(...this.$RoundRobinPriorityTaskQueue2.map(u=>u.queue.length?u.priority:-1/0))}enqueue(u,t){t=this.$RoundRobinPriorityTaskQueue7(t);const o=this.$RoundRobinPriorityTaskQueue3.get(u),n=this.$RoundRobinPriorityTaskQueue8(u);if(o===t)return n;this.$RoundRobinPriorityTaskQueue3.has(u)&&this.remove(u);const s=this.$RoundRobinPriorityTaskQueue9(t);let R=this.$RoundRobinPriorityTaskQueue2[s];return R&&R.priority===t||(R={priority:t,queue:[]},this.$RoundRobinPriorityTaskQueue2.splice(s,0,R)),this.$RoundRobinPriorityTaskQueue3.set(u,t),R.queue.push(u),this.$RoundRobinPriorityTaskQueue1(u,t>=this.$RoundRobinPriorityTaskQueue5?'immediate':'normal'),n}updatePriority(u,t){this.$RoundRobinPriorityTaskQueue3.has(u)&&this.enqueue(u,t)}dequeue(){for(let u=0;u<this.$RoundRobinPriorityTaskQueue2.length;u++){const t=this.$RoundRobinPriorityTaskQueue2[u];if(t.queue.length){const u=t.queue.shift();return this.$RoundRobinPriorityTaskQueue4.delete(u),this.$RoundRobinPriorityTaskQueue3.delete(u),u}}return null}remove(u){this.$RoundRobinPriorityTaskQueue4.delete(u);const t=this.$RoundRobinPriorityTaskQueue3.get(u);if(void 0!==t){const o=this.$RoundRobinPriorityTaskQueue9(t),n=this.$RoundRobinPriorityTaskQueue2[o];if(n&&n.queue){const t=n.queue.findIndex(t=>t===u);t>-1&&n.queue.splice(t,1)}this.$RoundRobinPriorityTaskQueue3.delete(u)}}setOnTaskUpdated(u){this.$RoundRobinPriorityTaskQueue1=u}clearOnTaskUpdated(){this.setOnTaskUpdated(()=>{})}getLength(){return this.$RoundRobinPriorityTaskQueue3.size}test_isEmpty(){return 0===this.$RoundRobinPriorityTaskQueue3.size&&0===this.$RoundRobinPriorityTaskQueue4.size&&this.$RoundRobinPriorityTaskQueue2.every(u=>0===u.queue.length)}$RoundRobinPriorityTaskQueue8(u){let t=this.$RoundRobinPriorityTaskQueue4.get(u);if(!t){const o=new(r(d[0]))(r(d[1]));t=o.getPromise(),this.$RoundRobinPriorityTaskQueue4.set(u,t);const n=u.run;u.run=(()=>n.call(u).then(t=>(this.remove(u),o.resolve(t),t)).catch(t=>{throw this.remove(u),o.reject(t),t}))}return t}$RoundRobinPriorityTaskQueue9(u){u=this.$RoundRobinPriorityTaskQueue7(u);let t;for(t=0;t<this.$RoundRobinPriorityTaskQueue2.length;t++)if(u>=this.$RoundRobinPriorityTaskQueue2[t].priority)return t;return t}$RoundRobinPriorityTaskQueue7(u){return this.$RoundRobinPriorityTaskQueue6>=0&&(u=Number.parseFloat(u.toFixed(this.$RoundRobinPriorityTaskQueue6))),u}}},19136642,[19136571,19136531]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,s){this.$SequentialTaskScheduler1=0,this.$SequentialTaskScheduler2=t;const{taskTimeout:u}=s||{};this.$SequentialTaskScheduler3=u||0}start(){this.$SequentialTaskScheduler2.setOnTaskUpdated(this.$SequentialTaskScheduler4.bind(this));const t=this.$SequentialTaskScheduler2.dequeue();t&&this.$SequentialTaskScheduler5(t,'immediate')}destroy(){this.$SequentialTaskScheduler6&&this.$SequentialTaskScheduler6.cancel(),this.$SequentialTaskScheduler2.clearOnTaskUpdated()}$SequentialTaskScheduler4(t,s){this.$SequentialTaskScheduler5(t,s)&&this.$SequentialTaskScheduler2.remove(t)}$SequentialTaskScheduler5(t,s){if(this.$SequentialTaskScheduler6&&'immediate'!==s)return!1;this.$SequentialTaskScheduler6&&this.$SequentialTaskScheduler6.cancel();let u=t.run().catch(t=>{});return this.$SequentialTaskScheduler3>0&&(u=r(d[0]).race([u,new(r(d[0]))((t,s)=>{r(d[1])(t,this.$SequentialTaskScheduler3)})])),this.$SequentialTaskScheduler1++,this.$SequentialTaskScheduler6=t,u=u.then(()=>{if(this.$SequentialTaskScheduler1--,this.$SequentialTaskScheduler6===t&&(this.$SequentialTaskScheduler6=null),0===this.$SequentialTaskScheduler1){const t=this.$SequentialTaskScheduler2.dequeue();t&&this.$SequentialTaskScheduler5(t,'immediate')}}),!0}}},19136643,[19136531,19136576]);
__d(function(g,r,i,a,m,e,d){'use strict';const{getResponseTimeMs:t}=r(d[0]),{getLatestResourceTimingEntry:s}=r(d[1]);m.exports=class{constructor(t){this.$OzNetworkRequestStreamBandwidthReporter1=Date.now(),this.$OzNetworkRequestStreamBandwidthReporter2=0,this.$OzNetworkRequestStreamBandwidthReporter3=0,this.$OzNetworkRequestStreamBandwidthReporter4=(()=>{}),this.$OzNetworkRequestStreamBandwidthReporter5=(()=>{}),this.$OzNetworkRequestStreamBandwidthReporter6=new(r(d[2]));const{stream:s,loggerProvider:o,byteCountPerSample:w,minimumBytesToSampleOnClose:R,minimumSampleDuration:h,maximumSampleBandwidth:n,usePerformanceEntryOnClose:p,useResponseTimeMs:u,responseTimeHandicapMs:S,ignoreTimeToResponseStart:B,ignoreOnStreamWriteSamples:O}=t;this.$OzNetworkRequestStreamBandwidthReporter7=s,this.$OzNetworkRequestStreamBandwidthReporter8=o,this.$OzNetworkRequestStreamBandwidthReporter9=w,this.$OzNetworkRequestStreamBandwidthReporter10=R,this.$OzNetworkRequestStreamBandwidthReporter11=h,this.$OzNetworkRequestStreamBandwidthReporter12=n,this.$OzNetworkRequestStreamBandwidthReporter13=p,this.$OzNetworkRequestStreamBandwidthReporter14=u,this.$OzNetworkRequestStreamBandwidthReporter15=S,this.$OzNetworkRequestStreamBandwidthReporter16=B,this.$OzNetworkRequestStreamBandwidthReporter17=O,this.$OzNetworkRequestStreamBandwidthReporter6.addListener('writableWrite',this.$OzNetworkRequestStreamBandwidthReporter18.bind(this)),this.$OzNetworkRequestStreamBandwidthReporter6.addListener('writableClose',this.$OzNetworkRequestStreamBandwidthReporter19.bind(this))}getTransformStream(){return this.$OzNetworkRequestStreamBandwidthReporter6}onBandwidthSample(t){this.$OzNetworkRequestStreamBandwidthReporter4=t}onTimeToFirstByteMsSample(t){this.$OzNetworkRequestStreamBandwidthReporter5=t}$OzNetworkRequestStreamBandwidthReporter20(t,s,o){if(this.$OzNetworkRequestStreamBandwidthReporter8){const o=Date.now();this.$OzNetworkRequestStreamBandwidthReporter8&&this.$OzNetworkRequestStreamBandwidthReporter8.getOperationLogger('bandwidth_sampled').setLength(t).setClientTimeEnd(o).setClientTimeBegin(o-s).log()}this.$OzNetworkRequestStreamBandwidthReporter4(t,s-o)}$OzNetworkRequestStreamBandwidthReporter18(t){void 0!=t.length&&(this.$OzNetworkRequestStreamBandwidthReporter3+=t.length),this.$OzNetworkRequestStreamBandwidthReporter17||this.$OzNetworkRequestStreamBandwidthReporter21()}$OzNetworkRequestStreamBandwidthReporter19(){let o=Date.now()-this.$OzNetworkRequestStreamBandwidthReporter1;const w=this.$OzNetworkRequestStreamBandwidthReporter7.getLastRequestUrl(),R=null!=w?s(w):null;if(R&&this.$OzNetworkRequestStreamBandwidthReporter5(R.responseStart-R.requestStart),this.$OzNetworkRequestStreamBandwidthReporter10>0&&o>0&&0===this.$OzNetworkRequestStreamBandwidthReporter2&&this.$OzNetworkRequestStreamBandwidthReporter3>=this.$OzNetworkRequestStreamBandwidthReporter10){if(this.$OzNetworkRequestStreamBandwidthReporter13&&R&&R.responseEnd&&R.startTime){const t=this.$OzNetworkRequestStreamBandwidthReporter16?R.responseEnd-R.responseStart:R.responseEnd-R.startTime;o=t>0?t:o}const s=this.$OzNetworkRequestStreamBandwidthReporter7.getLastResponse(),w=this.$OzNetworkRequestStreamBandwidthReporter14?t(null===s||void 0===s?void 0:s.headers)||0:0;this.$OzNetworkRequestStreamBandwidthReporter22(o,w)||this.$OzNetworkRequestStreamBandwidthReporter20(this.$OzNetworkRequestStreamBandwidthReporter3,o,Math.max(w-this.$OzNetworkRequestStreamBandwidthReporter15,0))}}$OzNetworkRequestStreamBandwidthReporter22(t,s){if(t-s<=0)return!0;const o=8*this.$OzNetworkRequestStreamBandwidthReporter3/(t/1e3);return t<this.$OzNetworkRequestStreamBandwidthReporter11&&o>this.$OzNetworkRequestStreamBandwidthReporter12}$OzNetworkRequestStreamBandwidthReporter21(){const t=Date.now(),s=t-this.$OzNetworkRequestStreamBandwidthReporter1;this.$OzNetworkRequestStreamBandwidthReporter9>0&&this.$OzNetworkRequestStreamBandwidthReporter3>=this.$OzNetworkRequestStreamBandwidthReporter2+this.$OzNetworkRequestStreamBandwidthReporter9&&!this.$OzNetworkRequestStreamBandwidthReporter22(s,0)&&(this.$OzNetworkRequestStreamBandwidthReporter20(this.$OzNetworkRequestStreamBandwidthReporter3-this.$OzNetworkRequestStreamBandwidthReporter2,s,0),this.$OzNetworkRequestStreamBandwidthReporter1=t,this.$OzNetworkRequestStreamBandwidthReporter2=this.$OzNetworkRequestStreamBandwidthReporter3)}}},19136637,[19136644,19136596,19136602]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136644,[19136645]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={getResponseTimeMs:s=>null}},19136645,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n){if(!t&&!n)return!0;if(!t||!n)return!1;if(t.length!=n.length)return!1;for(let s=0;s<t.length;++s)if(t[s]!=n[s])return!1;return!0}function n(t){const n=t.createParser();let s=1e6,l=null;for(;n.hasMoreData();){const t=n.parseElement();t.id==h?s=t.getUint():t.id==c&&(l=t.getFloat())}if(null==l)return null;const o=s/1e9;return{timecodeScale:o,duration:l*o}}function s(t,n,s,o,u){const E=[],b=t.createParser();let f=-1,h=-1;for(;b.hasMoreData();){const t=b.parseElement();if(t.id!=w)continue;const o=l(t);if(!o)continue;const c=s*o.unscaledTime,$=n+o.relativeOffset;f>=0&&(h>=0||r(d[1])(0),E.push(new(r(d[2]))(u,f,c,h,$-1))),f=c,h=$}return f>=0&&(h>=0||r(d[1])(0),E.push(new(r(d[2]))(u,f,o,h,null))),E}function l(t){const n=t.createParser(),s=n.parseElement();if(s.id!=P)return null;const l=s.getUint(),o=n.parseElement();if(o.id!=y)return null;const u=o.createParser();let E=0;for(;u.hasMoreData();){const t=u.parseElement();if(t.id==U){E=t.getUint();break}}return{unscaledTime:l,relativeOffset:E}}function o(t){const s=t.createParser();let l=null;for(;s.hasMoreData();){const t=s.parseElement();if(t.id==f){l=t;break}}return l?n(l):null}function u(t){const n=new A(t);if(n.parseElement().id!=E)return null;const s=n.parseElement();if(s.id!=b)return null;const l=s.getOffset(),u=o(s);return u?{segmentOffset:l,timecodeScale:u.timecodeScale,duration:u.duration}:null}const E=440786851,b=408125543,f=357149030,h=2807729,c=17545,$=475249515,w=187,P=179,y=183,U=241,p=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];class D{constructor(t,n){this.id=t,this.$EbmlElement1=n}getOffset(){return this.$EbmlElement1.byteOffset}createParser(){return new A(this.$EbmlElement1)}getUint(){if(this.$EbmlElement1.byteLength>8)throw new RangeError('EbmlElement: Unsigned integer has too many bytes.');if(8==this.$EbmlElement1.byteLength&&224&this.$EbmlElement1.getUint8(0))throw new RangeError('EbmlParser: Unsigned integer must be at most 53 bits.');let t=0;for(let n=0;n<this.$EbmlElement1.byteLength;n++){t=256*t+this.$EbmlElement1.getUint8(n)}return t}getFloat(){if(4==this.$EbmlElement1.byteLength)return this.$EbmlElement1.getFloat32(0);if(8==this.$EbmlElement1.byteLength)return this.$EbmlElement1.getFloat64(0);throw new RangeError('EbmlElement: floating point numbers must be 4 or 8 bytes.')}}class A{constructor(t){this.$EbmlParser1=t,this.$EbmlParser2=new(r(d[0]))(this.$EbmlParser1)}hasMoreData(){return this.$EbmlParser2.hasMoreData()}parseElement(){const t=this.$EbmlParser3(),n=this.$EbmlParser4();let s;s=A.$EbmlParser5(n)?this.$EbmlParser1.byteLength-this.$EbmlParser2.getCursor():A.$EbmlParser6(n);const l=this.$EbmlParser2.getCursor()+s<=this.$EbmlParser1.byteLength?s:this.$EbmlParser1.byteLength-this.$EbmlParser2.getCursor(),o=new DataView(this.$EbmlParser1.buffer,this.$EbmlParser1.byteOffset+this.$EbmlParser2.getCursor(),l);return this.$EbmlParser2.skip(l),new D(t,o)}$EbmlParser3(){const t=this.$EbmlParser4();if(t.length>7)throw new RangeError('EbmlParser: EBML ID must be at most 7 bytes.');let n=0;for(let s=0;s<t.length;s++)n=256*n+t[s];return n}$EbmlParser4(){const t=this.$EbmlParser2.readUint8();let n;for(n=1;n<=8;n++){if(t&1<<8-n)break}if(n>8)throw new RangeError('EbmlParser: Variable sized integer must fit within 8 bytes.');const s=new Uint8Array(n);s[0]=t;for(let t=1;t<n;t++)s[t]=this.$EbmlParser2.readUint8();return s}static $EbmlParser6(t){if(8==t.length&&224&t[1])throw new RangeError('EbmlParser: Variable sized integer value must be at most 53 bits.');const n=1<<8-t.length;let s=t[0]&n-1;for(let n=1;n<t.length;n++)s=256*s+t[n];return s}static $EbmlParser5(n){for(let s=0;s<p.length;s++)if(t(n,p[s]))return!0;return!1}}m.exports={parse:function(t,n,l){const o=new DataView(l.buffer),E=new DataView(n.buffer),b=u(o);if(!b)return[];const f=new A(E).parseElement();return f.id!=$?[]:s(f,b.segmentOffset,b.timecodeScale,b.duration,new(r(d[3]))(t))}}},19136630,[19136646,19136521,19136647,19136593]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136646,[19136648]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t){this.$OzDataViewReader1=0,this.$OzDataViewReader2=t}skip(t){const s=this.$OzDataViewReader1;return this.$OzDataViewReader1+=t,s}readUint8(){return this.$OzDataViewReader2.getUint8(this.skip(1))}readUint16(){return this.$OzDataViewReader2.getUint16(this.skip(2))}readUint32(){return this.$OzDataViewReader2.getUint32(this.skip(4))}readUint64(){const t=this.$OzDataViewReader2.getUint32(this.skip(4)),s=this.$OzDataViewReader2.getUint32(this.skip(4));if(t>2097151)throw new RangeError('Overflow reading 64-bit value.');return Math.pow(2,32)*t+s}getCursor(){return this.$OzDataViewReader1}hasMoreData(){return this.$OzDataViewReader2.byteLength-this.getCursor()>0}}},19136648,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,n,s,S,h){this.$OzDataSegment1=t,this.$OzDataSegment2=n,this.$OzDataSegment3=s,this.$OzDataSegment4=S,this.$OzDataSegment5=h}getURI(){return this.$OzDataSegment1}getTimeRange(){return{startTime:this.$OzDataSegment2,endTime:this.$OzDataSegment3}}getByteRange(){return{startByte:this.$OzDataSegment4,endByte:this.$OzDataSegment5}}getSequenceNumber(){return null}}},19136647,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const t={parse:function(t,n,s){const o=new(r(d[0]))(new DataView(s.buffer));let c=o.readUint32();if(1936286840!==o.readUint32())throw new Error('Invalid box type, expected "sidx".');1==c&&(c=o.readUint64());const U=o.readUint8();o.skip(3),o.skip(4);var l=o.readUint32();if(!l)throw new Error('Invalid timescale.');let p,u;0==U?(p=o.readUint32(),u=o.readUint32()):(p=o.readUint64(),u=o.readUint64()),o.skip(2);const w=o.readUint16();let f=p,h=n+c+u,x=0;const y=[];for(let n=0;n<w;n++){let s=o.readUint32();const c=(2147483648&s)>>>31,U=2147483647&s,p=o.readUint32();if(s=o.readUint32(),1==c)throw new Error('Heirarchical SIDXs are not supported.');const u=f/l,w=(f+p)/l;0===n&&(x=u);const I=h,b=I+U-1;y.push({getURI:()=>new(r(d[1]))(t),getTimeRange:()=>({startTime:u-x,endTime:w-x}),getByteRange:()=>({startByte:I,endByte:b}),getSequenceNumber:()=>null}),f+=p,h+=U}return y}};m.exports=t},19136631,[19136646,19136593]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={parse:function(t){return(t.split('/')[1]||'').trim()}}},19136625,[]);
__d(function(g,r,i,a,m,e,d){'use strict';class t{constructor(t,n=null){this.$OzInitSegment1=t,this.$OzInitSegment2=n}getTimeRange(){return{startTime:0,endTime:0}}getByteRange(){return this.$OzInitSegment2}getURI(){return this.$OzInitSegment1}getSequenceNumber(){return null}}m.exports=class{constructor(t,n,s,l){this.$OzSegmentTemplateParser1=s,this.$OzSegmentTemplateParser2=n,this.$OzSegmentTemplateParser3=t,this.$OzSegmentTemplateParser4=l||new(r(d[0]))}parseInitializationSegment(){const n=r(d[1]).joinUrlPaths(this.$OzSegmentTemplateParser1.baseUrl,this.$OzSegmentTemplateParser2.$.initialization);return new t(new(r(d[2]))(n))}parseSegmentsContainer(){return this.$OzSegmentTemplateParser4.parseSegmentsContainer(this.$OzSegmentTemplateParser3,this.$OzSegmentTemplateParser1,this.$OzSegmentTemplateParser2)}}},19136626,[19136649,19136650,19136593]);
__d(function(g,r,i,a,m,e,d){'use strict';class t{static parseSegments(t,s){let n=[];return s.SegmentTimeline[0].S&&(n=s.SegmentTimeline[0].S.map(t=>({t:Number.parseInt(t.$.t,10),d:Number.parseInt(t.$.d,10),r:Number.parseInt(t.$.r||'0',10)}))),n}parseSegmentsContainer(s,n,p){return new(r(d[0]))(s,r(d[1]).joinUrlPaths(n.baseUrl,p.$.media),Number.parseInt(p.$.timescale,10),t.parseSegments(s,p),n.isStaticMpd)}}m.exports=t},19136649,[19136651,19136650]);
__d(function(g,r,i,a,m,e,d){'use strict';const{equalTo:t,greaterThan:n,greaterThanOrEqual:s,lessThanOrEqual:S}=r(d[0]),o=1e-4;class l{constructor(t,n,s,S,o=!1){this.$SegmentTemplateSegmentsContainer1=new(r(d[1])),this.$SegmentTemplateSegmentsContainer2=null,this.$SegmentTemplateSegmentsContainer3=t,this.$SegmentTemplateSegmentsContainer4=n,this.$SegmentTemplateSegmentsContainer5=s,this.$SegmentTemplateSegmentsContainer6=S,this.$SegmentTemplateSegmentsContainer7=this.$SegmentTemplateSegmentsContainer8(this.$SegmentTemplateSegmentsContainer6),this.$SegmentTemplateSegmentsContainer9=o,this.$SegmentTemplateSegmentsContainer10=this.$SegmentTemplateSegmentsContainer3.getNumber('live_numerical_error_epsilon')}getSegmentByTime(t){const s=(this.$SegmentTemplateSegmentsContainer3.getBool('live_query_time_in_range')?this.$SegmentTemplateSegmentsContainer11(t):t)*this.$SegmentTemplateSegmentsContainer5;let o=null;for(let t=this.$SegmentTemplateSegmentsContainer6.length-1;t>=0;t--){const n=this.$SegmentTemplateSegmentsContainer6[t];if(S(n.t+n.d*(n.r+1),s,this.$SegmentTemplateSegmentsContainer10))break;o=n}if(null===o)return null;if(this.$SegmentTemplateSegmentsContainer3.getBool('live_no_segment_when_playhead_is_before_first_segment')&&n(o.t,s,this.$SegmentTemplateSegmentsContainer10))return null;const l=Math.max(0,Math.floor((s-o.t+this.$SegmentTemplateSegmentsContainer10)/o.d));return this.$SegmentTemplateSegmentsContainer12(o,l)}getSegment(t){let n=0,s=t;for(;s>=0&&n<this.$SegmentTemplateSegmentsContainer6.length;){const t=this.$SegmentTemplateSegmentsContainer6[n],{r:S}=t,o=S+1;if(!(s>=o))break;s-=o,n++}const S=this.$SegmentTemplateSegmentsContainer6[n];return S?this.$SegmentTemplateSegmentsContainer12(S,s):null}getSegmentAfter(t){const n=t.getTimeRange().endTime;return this.getSegmentByTime(n)}getPredictedSegmentAfter(t){return null}canPredict(){return!1}isEndingSegment(t){if(!this.$SegmentTemplateSegmentsContainer6||!this.$SegmentTemplateSegmentsContainer6.length||!this.$SegmentTemplateSegmentsContainer9)return!1;const n=this.$SegmentTemplateSegmentsContainer6[this.$SegmentTemplateSegmentsContainer6.length-1],s=n.r,S=this.$SegmentTemplateSegmentsContainer12(n,s);return Math.abs(S.getTimeRange().startTime-t.getTimeRange().startTime)+Math.abs(S.getTimeRange().endTime-t.getTimeRange().endTime)<o}updateWith(t){t instanceof l||r(d[2])(0),this.$SegmentTemplateSegmentsContainer9=t.$SegmentTemplateSegmentsContainer9,this.$SegmentTemplateSegmentsContainer13(t.$SegmentTemplateSegmentsContainer6),this.$SegmentTemplateSegmentsContainer14(t.$SegmentTemplateSegmentsContainer6),this.$SegmentTemplateSegmentsContainer1.emit('segment_updated')}getTimeRanges(){return this.$SegmentTemplateSegmentsContainer2?this.$SegmentTemplateSegmentsContainer15(this.$SegmentTemplateSegmentsContainer7,this.$SegmentTemplateSegmentsContainer2):this.$SegmentTemplateSegmentsContainer7}blockTimeRange(t){this.$SegmentTemplateSegmentsContainer2=t}$SegmentTemplateSegmentsContainer15(t,n){return(new(r(d[3]))).diffSortedRanges(t.map(t=>({rangeStart:t.startTime,rangeEnd:t.endTime})),{rangeStart:n.startTime,rangeEnd:n.endTime}).map(t=>({startTime:t.rangeStart,endTime:null===t.rangeEnd||void 0===t.rangeEnd?1/0:t.rangeEnd}))}addUpdateListener(t){return this.$SegmentTemplateSegmentsContainer1.addListener('segment_updated',t)}$SegmentTemplateSegmentsContainer11(t){let n=t;if(-1===(new(r(d[3]))).findCurrentRangeIndex(t,this.getTimeRanges().map(t=>({rangeStart:t.startTime,rangeEnd:t.endTime})))){const s=(new(r(d[3]))).findNextRangeIndex(t,this.getTimeRanges().map(t=>({rangeStart:t.startTime,rangeEnd:t.endTime})));-1!==s&&(n=this.getTimeRanges()[s].startTime)}return n}$SegmentTemplateSegmentsContainer16(t,n){if(t.d!==n.d)return!1;const S=t.t+t.d*t.r,o=n.t+n.d*n.r;return!s(t.t,o,this.$SegmentTemplateSegmentsContainer10)&&!s(n.t,S,this.$SegmentTemplateSegmentsContainer10)&&Number.isInteger((t.t-n.t)/t.d)}$SegmentTemplateSegmentsContainer13(s){if(this.$SegmentTemplateSegmentsContainer3.getBool('copy_new_manifest'))return void this.$SegmentTemplateSegmentsContainer6.splice(0,this.$SegmentTemplateSegmentsContainer6.length,...s);if(this.$SegmentTemplateSegmentsContainer3.getBool('use_loose_manifest_updates')){this.$SegmentTemplateSegmentsContainer6.splice(this.$SegmentTemplateSegmentsContainer6.length,0,...s),this.$SegmentTemplateSegmentsContainer6.sort((t,n)=>t.t<n.t?-1:t.t>n.t?1:t.d===n.d?t.r-n.r:0);const t=[];for(let n=0,s=n+1;s<this.$SegmentTemplateSegmentsContainer6.length;){const S=this.$SegmentTemplateSegmentsContainer6[n],o=this.$SegmentTemplateSegmentsContainer6[s];if(S.t!==o.t)t.push(this.$SegmentTemplateSegmentsContainer6[n]),n=s,s++;else{if(S.d>o.d)throw new(r(d[4]))({type:'OZ_REPRESENTATION_PARSER',description:'Previous segment group duration greater than new.',extra:{code:'OZ_RP-1'}});S.d=o.d,S.r=Math.max(S.r,o.r),s++}}return this.$SegmentTemplateSegmentsContainer6.length>0&&t.push(this.$SegmentTemplateSegmentsContainer6[this.$SegmentTemplateSegmentsContainer6.length-1]),void this.$SegmentTemplateSegmentsContainer6.splice(0,this.$SegmentTemplateSegmentsContainer6.length,...t)}let S=this.$SegmentTemplateSegmentsContainer6.length-1,o=s.length-1;const l=S,T=o,p=JSON.stringify(this.$SegmentTemplateSegmentsContainer6),h=this.$SegmentTemplateSegmentsContainer3.getBool('fix_templated_manifest_r_field_check');for(;S>=0&&o>=0;){const $=this.$SegmentTemplateSegmentsContainer6[S],C=s[o];if(t($.t,C.t,this.$SegmentTemplateSegmentsContainer10)){let t=!1;if(h){const n=S===l||o===T,s=n&&(S!==l&&C.r>$.r||o!==T&&$.r>C.r);t=!n&&$.r!==C.r||s}else t=!(S===l&&o===T)&&$.r!==C.r;if(t)throw new(r(d[4]))({type:'OZ_REPRESENTATION_PARSER',description:`Segment group "R" field mismatch. Old groups: ${p}\n            , new groups: ${JSON.stringify(s)}`,extra:{code:'OZ_RP-2'}});if(this.$SegmentTemplateSegmentsContainer3.getBool('throw_on_non_zero_r_d_mismatch')&&$.r>0&&$.d!==C.d)throw new(r(d[4]))({type:'OZ_REPRESENTATION_PARSER',description:'Duration mismatch between non-zero repeat tag and new.',extra:{code:'OZ_RP-3'}});if($.r=Math.max($.r,C.r),this.$SegmentTemplateSegmentsContainer3.getBool('fix_template_duration_artifact_in_manifest')){if($.d>C.d)throw new(r(d[4]))({type:'OZ_REPRESENTATION_PARSER',description:'Previous segment group duration greater than new.',extra:{code:'OZ_RP-4'}});$.d=C.d}S--,o--}else if(n(C.t,$.t,this.$SegmentTemplateSegmentsContainer10))this.$SegmentTemplateSegmentsContainer6.splice(S+1,0,C),o--;else{if(this.$SegmentTemplateSegmentsContainer16($,C))throw new(r(d[4]))({type:'OZ_REPRESENTATION_PARSER',description:'Segment group misalinged',extra:{code:'OZ_RP-5'}});S--}}o>=0&&this.$SegmentTemplateSegmentsContainer6.unshift(...s.slice(0,o+1))}$SegmentTemplateSegmentsContainer14(t){const n=this.$SegmentTemplateSegmentsContainer8(t);let s=(new(r(d[3]))).mergeSortedRanges(this.$SegmentTemplateSegmentsContainer7.map(t=>({rangeStart:t.startTime,rangeEnd:t.endTime})).concat(n.map(t=>({rangeStart:t.startTime,rangeEnd:t.endTime}))));this.$SegmentTemplateSegmentsContainer7=s.map(t=>({startTime:t.rangeStart,endTime:null===t.rangeEnd||void 0===t.rangeEnd?1/0:t.rangeEnd}))}$SegmentTemplateSegmentsContainer8(t){return(new(r(d[3]))).mergeSortedRanges(this.$SegmentTemplateSegmentsContainer6.map(t=>{return{rangeStart:this.$SegmentTemplateSegmentsContainer12(t,0).getTimeRange().startTime,rangeEnd:this.$SegmentTemplateSegmentsContainer12(t,t.r).getTimeRange().endTime}})).map(t=>{let{rangeStart:n,rangeEnd:s}=t;return s=null===s||void 0===s?1/0:s,{startTime:n,endTime:s}})}$SegmentTemplateSegmentsContainer12(t,n=0){const{t:s,d:S}=t,o=s+S*n,l=this.$SegmentTemplateSegmentsContainer3.getBool('use_sc_timebased_segments'),T=this.$SegmentTemplateSegmentsContainer3.getBool('use_scf_timebased_segments'),p=this.$SegmentTemplateSegmentsContainer3.getBool('touch_cb_key');return{getURI:()=>{const t=this.$SegmentTemplateSegmentsContainer4.replace('$Time$',o.toString()),n=new(r(d[5]))(t);l&&n.addQueryData('_nc_sc',1),T&&n.addQueryData('_nc_scf',1);const s=n.getQueryData().cb;return p&&null!=s&&n.addQueryData('cb',s+'_oz'),n},getTimeRange:()=>({startTime:o/this.$SegmentTemplateSegmentsContainer5,endTime:(o+S)/this.$SegmentTemplateSegmentsContainer5}),getByteRange:()=>null,getSequenceNumber:()=>null}}getSegmentGroups(){return this.$SegmentTemplateSegmentsContainer6}getEndingSegment(){if(0==this.$SegmentTemplateSegmentsContainer6.length)return null;const t=this.$SegmentTemplateSegmentsContainer6[this.$SegmentTemplateSegmentsContainer6.length-1],n=t.r;return this.$SegmentTemplateSegmentsContainer12(t,n)}}m.exports=l},19136651,[19136652,19136557,19136521,19136653,19136532,19136593]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n,t,u=o){return Math.abs(t-n)<=u}function t(t,u,s=o){return t>u&&!n(t,u,s)}function u(t,u,s=o){return t<u&&!n(t,u,s)}const o=1e-5;m.exports={lessThan:u,greaterThan:t,equalTo:n,lessThanOrEqual:function(t,s,c=o){return u(t,s,c)||n(t,s,c)},greaterThanOrEqual:function(u,s,c=o){return t(u,s,c)||n(u,s,c)}}},19136652,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n,t){const u=t.rangeEnd;return null!==u&&void 0!==u&&(Math.abs(n.rangeStart-u)>s&&n.rangeStart>u)}function t(n,t){const u=n.rangeEnd,l=t.rangeEnd;return null===u||void 0===u||null!==l&&void 0!==l&&(Math.abs(u-l)>s&&u>l)}function u(n,t){const u=t.rangeEnd;return null!==u&&void 0!==u&&(Math.abs(n-u)>s&&n>u)}function l(n,t){return n>t-s}const s=.01;m.exports=class{mergeSortedRanges(u){if(!u.length)return[];const l=[];let s=u[0];l.push(s);for(let o=1;o<u.length;o++){const f=u[o];t(f,s)&&(n(f,s)?(s={rangeStart:f.rangeStart,rangeEnd:f.rangeEnd},l.push(s)):s.rangeEnd=f.rangeEnd)}return l}diffSortedRanges(n,t){return n.reduceRight((n,s)=>(u(s.rangeStart,t)||u(t.rangeStart,s)?n.push(s):(null==t.rangeEnd||null!=s.rangeEnd&&!u(s.rangeEnd,t)||n.push({rangeStart:t.rangeEnd,rangeEnd:s.rangeEnd}),l(t.rangeStart,s.rangeStart)&&n.push({rangeStart:s.rangeStart,rangeEnd:t.rangeStart})),n),[]).filter(n=>null==n.rangeEnd||n.rangeStart<n.rangeEnd).reverse()}findCurrentRangeIndex(n,t){for(let s=0;s<t.length;s++){const o=t[s],{rangeStart:f}=o;if(l(n,f)&&!u(n,o))return s}return-1}findNextRangeIndex(n,t){for(let u=0;u<t.length;u++){const s=t[u],{rangeStart:o}=s;if(!l(n,o))return u}return-1}findDiffCoveredByRanges(n,t,u){return n>=t?0:u.reduceRight((u,l)=>{const{rangeStart:s,rangeEnd:o}=l;return t<s||null!=o&&n>o?u:null==o||t<=o?Math.min(t-s,t-n)+u:n>=s?Math.min(o-n,t-n)+u:o-s+u},0)}}},19136653,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t){const s=t.lastIndexOf('/');return s>t.lastIndexOf('://')+2&&(t=t.substring(0,s+1)),t}function s(s){return(s=t(s)).endsWith('/')?t(s.substring(0,s.length-1)):s}function n(n,l){let h=t(n);for(;l.length;)if(l.startsWith('./'))l=l.substring(2);else if(l.startsWith('../'))l=l.substring(3),(h=s(h)).endsWith('/')&&(h=h.substring(0,h.length-1));else if(l.startsWith('..'))l=l.substring(2),h=s(h);else{if(!l.startsWith('.'))break;l=l.substring(1)}return l&&l.length&&(h.endsWith('/')||(h+='/'),h+=l),h}const l={joinRelativeUrlPaths(...t){if(!t||!t.length)return'';if(1===t.length)return t[0];let s=t.shift();for(;t.length>0;)s=n(s,t.shift());return s},joinUrlPaths(t,s){return this._isAbsoluteUrl(s)?s:this.joinRelativeUrlPaths(t,s)},_isAbsoluteUrl:t=>/^https?:\/\//i.test(t)};m.exports=l},19136650,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends(r(d[1])){constructor(s,t,n,o,p,h,u,c,P){super(s,t,n,o,p,h,u,c,P),this.$OzAudioRepresentationParser1=t,this.$OzAudioRepresentationParser2=n}parse(){const s=this.$OzAudioRepresentationParser2.customRepresentationParsers;return new(r(d[0]))(this.$OzAudioRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),s)}}},19136617,[19136654,19136621]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends(r(d[0])){constructor(t,s,n,o,u,p,c,h){super(t,s,n,o,u,p,c,h),this.$OzAudioRepresentation1=t,this.$OzAudioRepresentation2=s,this.$OzAudioRepresentation3=p}getBitrateKbps(){return(this.$OzAudioRepresentation3/1024).toFixed(1)+'Kbps'}getQualityLabel(){return this.$OzAudioRepresentation2}}},19136654,[19136622]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends(r(d[0])){constructor(t,s,p,n,h,o,M){super(),this.$Mpd1=t,this.$Mpd2=h,this.$Mpd3=s,this.$Mpd4=p,this.$Mpd5=n,this.$Mpd6=o,this.$Mpd7=M}getLocation(){return this.$Mpd5}getMinimumUpdatePeriod(){return this.$Mpd2}getVideoRepresentations(){return this.$Mpd3}getAudioRepresentations(){return this.$Mpd4}getCustomField(t){const s=this.$Mpd6.get(t);if(!s)throw new Error('Custom parser not specified for field '+t);try{return s(this.$Mpd1)}catch(t){return null}}isStaticMpd(){return this.$Mpd7}updateWith(t){this.$Mpd1=t.$Mpd1,this.$Mpd8(this.$Mpd3,t.getVideoRepresentations()),this.$Mpd8(this.$Mpd4,t.getAudioRepresentations()),this.$Mpd7=t.isStaticMpd(),this.$Mpd2=t.getMinimumUpdatePeriod(),this.emit('updated')}blockTimeRange(t){this.$Mpd3.forEach(s=>s.blockTimeRange(t)),this.$Mpd4.forEach(s=>s.blockTimeRange(t))}unblockTimeRange(){this.blockTimeRange({startTime:0,endTime:0})}$Mpd8(t,s){for(let p=0;p<s.length;p++){const n=s[p];let h=!1;for(let s=0;s<t.length;s++){const p=t[s];if(n.getID()===p.getID()){p.updateWith(n),h=!0;break}}h||t.push(n)}}}},19136618,[19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';const{getMpdLastTimeRange:t}=r(d[0]);m.exports=class extends(r(d[1])){constructor(t,h){super(),this.$OzStreamInterruptChecker1=0,this.$OzStreamInterruptChecker2=null,this.$OzStreamInterruptChecker3=!1,this.$OzStreamInterruptChecker4=t,this.$OzStreamInterruptChecker5=h}notifyMpdUpdated(){const h=t(this.$OzStreamInterruptChecker4),s=h?h.endTime:null;null!==s&&s===this.$OzStreamInterruptChecker2?this.$OzStreamInterruptChecker1++:(this.$OzStreamInterruptChecker1=0,this.$OzStreamInterruptChecker3&&null!==this.$OzStreamInterruptChecker2&&void 0!==this.$OzStreamInterruptChecker2&&null!==h&&void 0!==h&&this.emit('streamResumedAt',h.startTime),this.$OzStreamInterruptChecker3=!1);const n=this.$OzStreamInterruptChecker5.getNumber('stream_interrupt_check_mpd_stale_count_threshold');!this.$OzStreamInterruptChecker3&&n>0&&this.$OzStreamInterruptChecker1>=n&&null!==s&&void 0!==s&&(this.emit('streamInterruptAt',s),this.$OzStreamInterruptChecker3=!0),this.$OzStreamInterruptChecker2=s}}},19136614,[19136613,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';const{listenDOMEvent:t}=r(d[0]),{computeSeekAhead:n}=r(d[1]),{isInGap:h,isNearGap:s}=r(d[2]);m.exports=class extends(r(d[6])){constructor(n){super(),this.$OzPlayheadManager1=new(r(d[3])),this.$OzPlayheadManager2=new(r(d[3])),this.$OzPlayheadManager3=new Set,this.$OzPlayheadManager4=new Set,this.$OzPlayheadManager5=(t=>{this.$OzPlayheadManager6.currentTime=t}),this.$OzPlayheadManager7=!1;const{video:h,mpd:s,playheadCatchup:l,playbackState:y,config:P,perfLoggerProvider:M,seekHandler:O,initialPlaybackPosition:z}=n;this.$OzPlayheadManager6=h,this.$OzPlayheadManager8=P,this.$OzPlayheadManager9=y,this.$OzPlayheadManager10=s,this.$OzPlayheadManager11=l,this.$OzPlayheadManager12=M,O&&(this.$OzPlayheadManager5=O),this.$OzPlayheadManager13=z,this.$OzPlayheadManager1.addSubscriptions(t(this.$OzPlayheadManager6,'durationchange',()=>{this.$OzPlayheadManager14(),this.$OzPlayheadManager15('durationchange'),this.$OzPlayheadManager16('durationchange')}),t(this.$OzPlayheadManager6,'pause',this.$OzPlayheadManager15.bind(this,'pause')),t(this.$OzPlayheadManager6,'play',this.$OzPlayheadManager15.bind(this,'play')),t(this.$OzPlayheadManager6,'playing',this.$OzPlayheadManager15.bind(this,'playing')),t(this.$OzPlayheadManager6,'waiting',()=>{this.$OzPlayheadManager15.bind(this,'waiting'),this.$OzPlayheadManager16('waiting')}))}observeSourceBufferState(t,n){!this.$OzPlayheadManager3.has(t)||r(d[4])(0),this.$OzPlayheadManager3.add(t),this.$OzPlayheadManager1.addSubscriptions(t.addEventListener('buffer_updated',()=>this.$OzPlayheadManager17(t,n)))}$OzPlayheadManager17(t,h){const s=[];if(this.$OzPlayheadManager8.getBool('check_buffer_range_once_for_playhead_update')&&this.$OzPlayheadManager4.has(t))return;this.$OzPlayheadManager3.forEach(t=>{const n=t.getBufferedRanges();n.length&&s.push(n[0])}),s.length>0&&this.$OzPlayheadManager4.add(t);const l=this.$OzPlayheadManager8.getBool('seek_ahead_use_native_current_time')?this.$OzPlayheadManager6.currentTime:this.$OzPlayheadManager9.getCurrentTime(),y=n(l,s),P=this.$OzPlayheadManager8.getNumber('timeline_offset_threshold');y>0&&(0===P||y<P)&&this.$OzPlayheadManager18(this.$OzPlayheadManager6.currentTime+y,'first_available_buffer','source_buffer',h)}setTimeRangeProvider(t){this.$OzPlayheadManager2.release(),this.$OzPlayheadManager2.engage(),this.$OzPlayheadManager2.addSubscriptions(t.addUpdateListener(this.$OzPlayheadManager15.bind(this,'time_range_updated'))),this.$OzPlayheadManager19=t,this.$OzPlayheadManager15('time_range_set')}$OzPlayheadManager14(){const t=this.$OzPlayheadManager6.duration;if(0!==this.$OzPlayheadManager13&&!this.$OzPlayheadManager7&&!isNaN(t)&&t!==1/0){const n=this.$OzPlayheadManager13>0?this.$OzPlayheadManager13:t+this.$OzPlayheadManager13;this.$OzPlayheadManager7=!0,this.$OzPlayheadManager18(n,'initial_playback_position',''),this.emit('initialPlaybackPositionSet',n)}}$OzPlayheadManager15(t,n=null){const l=this.$OzPlayheadManager11;if(l&&l.isEnabled(this.$OzPlayheadManager6,this.$OzPlayheadManager10)){const h=l.computeNewPlayheadPosition(this.$OzPlayheadManager6,this.$OzPlayheadManager10);if('number'==typeof h)return void this.$OzPlayheadManager18(h,'live_catch_up_strategy',t,n)}const y=this.$OzPlayheadManager8.getNumber('auto_seek_playhead_slack');if(0===y)return;const P=this.$OzPlayheadManager19;if(!P)return;const M=this.$OzPlayheadManager9.getCurrentTime(),O=P.getTimeRanges().map(t=>({rangeStart:t.startTime,rangeEnd:t.endTime})),z=(new(r(d[5]))).findNextRangeIndex(M,O);if((s(M,P.getTimeRanges())||h(M,P.getTimeRanges()))&&-1!==z){const h=O[z];this.$OzPlayheadManager18(h.rangeStart+y,'jump_over_timeline_gap',t,n)}}$OzPlayheadManager16(t){if(!this.$OzPlayheadManager8.getBool('skip_videobuffer_gaps'))return;const n=this.$OzPlayheadManager8.getNumber('auto_seek_playhead_slack');if(0===n)return;const l=this.$OzPlayheadManager9.getCurrentTime(),y=[];for(let t=0;t<this.$OzPlayheadManager6.buffered.length;t++)y.push({startTime:this.$OzPlayheadManager6.buffered.start(t),endTime:this.$OzPlayheadManager6.buffered.end(t)});const P=y.map(t=>({rangeStart:t.startTime,rangeEnd:t.endTime})),M=(new(r(d[5]))).findNextRangeIndex(l,P);if(!s(l,y)&&!h(l,y)||-1===M);else{const h=P[M];this.$OzPlayheadManager18(h.rangeStart+n,'jump_over_buffer_gap',t,null)}}destroy(){this.$OzPlayheadManager1.release(),this.$OzPlayheadManager2.release(),this.$OzPlayheadManager3.clear()}$OzPlayheadManager18(t,n,h,s){const l=t-this.$OzPlayheadManager6.currentTime,y=this.$OzPlayheadManager8.getNumber('seek_ahead_epsilon');y>0&&l<=y||(this.$OzPlayheadManager12.getOperationLogger('playhead_adjustment').setLength(Math.round(1e3*l)).setReason(n).setInitiator(h).setType(s).log(),this.$OzPlayheadManager5(t))}}},19136534,[19136560,19136655,19136656,19136522,19136521,19136653,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=.05;m.exports={computeSeekAhead:function(n,c){const o=Math.max(...c.map(t=>t.startTime));return o-n>0?o-n+t:0}}},19136655,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const n=1.5;m.exports={isNearGap:function(t,s){const u=s.map(n=>({rangeStart:n.startTime,rangeEnd:n.endTime})),c=(new(r(d[0]))).findCurrentRangeIndex(t,u);if(-1!==c){const u=s[c];return r(d[1]).lessThanOrEqual(t,u.endTime)&&u.endTime-t<n}return!1},isInGap:function(n,t){const s=t.map(n=>({rangeStart:n.startTime,rangeEnd:n.endTime}));return-1===(new(r(d[0]))).findCurrentRangeIndex(n,s)}}},19136656,[19136653,19136652]);
__d(function(g,r,i,a,m,e,d){'use strict';const{listenDOMEvent:h}=r(d[0]);m.exports=class{constructor(t,s){this.$OzPlayheadNudger1=new(r(d[1])),this.$OzPlayheadNudger2=null,this.$OzPlayheadNudger3=s,this.$OzPlayheadNudger4=t,this.$OzPlayheadNudger1.addSubscriptions(h(this.$OzPlayheadNudger3,'timeupdate',this.$OzPlayheadNudger5.bind(this)),h(this.$OzPlayheadNudger3,'playing',this.$OzPlayheadNudger6.bind(this)),h(this.$OzPlayheadNudger3,'pause',this.$OzPlayheadNudger7.bind(this)))}$OzPlayheadNudger5(){const h=this.$OzPlayheadNudger4.getNumber('playhead_nudge_slack');if(0===h)return;const t=this.$OzPlayheadNudger2;null==t||this.$OzPlayheadNudger3.paused||4!==this.$OzPlayheadNudger3.readyState||(this.$OzPlayheadNudger3.currentTime===t&&(this.$OzPlayheadNudger3.currentTime+=h),this.$OzPlayheadNudger2=null)}$OzPlayheadNudger6(){this.$OzPlayheadNudger2=this.$OzPlayheadNudger3.currentTime}$OzPlayheadNudger7(){this.$OzPlayheadNudger2=null}destroy(){this.$OzPlayheadNudger1.release()}}},19136535,[19136560,19136522]);
__d(function(g,r,i,a,m,e,d){'use strict';const{getBufferAheadFromCurrentTime:n}=r(d[0]);m.exports=class{constructor(n,t,l,s){this.$OzPlaybackTimeRangeManager1=null,this.$OzPlaybackTimeRangeManager2=0,this.$OzPlaybackTimeRangeManager3=0,this.$OzPlaybackTimeRangeManager4=!0,this.$OzPlaybackTimeRangeManager5=0,this.$OzPlaybackTimeRangeManager6=0,this.$OzPlaybackTimeRangeManager7=n,this.$OzPlaybackTimeRangeManager8=t,this.$OzPlaybackTimeRangeManager5=l,this.$OzPlaybackTimeRangeManager6=s}setTimelineBlockingEnabled(n){this.$OzPlaybackTimeRangeManager4=n,this.$OzPlaybackTimeRangeManager4||this.$OzPlaybackTimeRangeManager8.unblockTimeRange()}setTimeRangeProvider(n){null!=this.$OzPlaybackTimeRangeManager1&&this.$OzPlaybackTimeRangeManager1.remove(),this.$OzPlaybackTimeRangeManager1=n.addUpdateListener(()=>{const t=n.getTimeRanges();let l=0;0!==t.length&&(l=t[t.length-1].endTime),this.$OzPlaybackTimeRangeManager9(l)})}$OzPlaybackTimeRangeManager9(t){if(this.$OzPlaybackTimeRangeManager4&&this.$OzPlaybackTimeRangeManager2!==t&&(this.$OzPlaybackTimeRangeManager2=t,!(this.$OzPlaybackTimeRangeManager7.currentTime<=this.$OzPlaybackTimeRangeManager3)&&0!==this.$OzPlaybackTimeRangeManager6&&0!==this.$OzPlaybackTimeRangeManager5&&this.$OzPlaybackTimeRangeManager7.duration-this.$OzPlaybackTimeRangeManager7.currentTime>this.$OzPlaybackTimeRangeManager5)){const t=[];for(let n=0;n<this.$OzPlaybackTimeRangeManager7.buffered.length;n++)t.push({startTime:this.$OzPlaybackTimeRangeManager7.buffered.start(n),endTime:this.$OzPlaybackTimeRangeManager7.buffered.end(n)});const l=n(this.$OzPlaybackTimeRangeManager7.currentTime,t);this.$OzPlaybackTimeRangeManager3=this.$OzPlaybackTimeRangeManager7.currentTime+Math.min(l,this.$OzPlaybackTimeRangeManager6);const s={startTime:this.$OzPlaybackTimeRangeManager3,endTime:this.$OzPlaybackTimeRangeManager7.duration-this.$OzPlaybackTimeRangeManager6};this.$OzPlaybackTimeRangeManager8.blockTimeRange(s)}}destroy(){null!=this.$OzPlaybackTimeRangeManager1&&(this.$OzPlaybackTimeRangeManager1.remove(),this.$OzPlaybackTimeRangeManager1=null)}}},19136536,[19136657]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n,u){const o=t.currentTime;let c=0;for(let n=0;n<t.buffered.length;n++){const f=t.buffered.start(n),u=t.buffered.end(n);if(f<=o&&u>=o){c=u;break}}return(!u.getBool('reach_end_only_when_video_ended',!1)||t.ended)&&(Math.abs(c-n)<=f||Math.abs(o-n)<=f)}function n(t,n){let f=null;for(const u of n)u.startTime<=t&&u.endTime>t&&(f=u);return f?f.endTime-t:0}const f=.2;m.exports={getBufferAheadFromCurrentTime:n,getBufferAheadFromPlaybackStates:function(t,f){const u=t?t.getSourceBufferState():null;return u?n(f.getCurrentTime(),u.getBufferedRanges()):0},hasEnoughBuffer:function(n,f,u,o){if(t(n,u,o))return!0;const c=n.currentTime;let s=0;for(let t=0;t<n.buffered.length;t++){const f=n.buffered.start(t),u=n.buffered.end(t);if(f<=c&&u>=c){s=u;break}}return s-c>f},hasBufferedToOrReachedEnd:t,BUFFER_OVERFLOW_THRESHOLD:1,BUFFER_UNDERFLOW_THRESHOLD:.1,BUFFER_FUDGE_FACTOR:f}},19136657,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const{excludeLargeRepresentations:t,getReasonToPreventEvaluation:n}=r(d[0]),{getBufferAheadFromPlaybackStates:s}=r(d[1]),{applyVideoPlaybackRestrictions:b}=r(d[2]);m.exports=class{constructor(t,n,s,b,h,M,A,z){this.$OzAbrManager1=0,this.$OzAbrManager2=Date.now(),this.$OzAbrManager3=!1,this.$OzAbrManager4=null,this.$OzAbrManager5=t,this.$OzAbrManager6=n,this.$OzAbrManager7=this.$OzAbrManager8(n,s),this.$OzAbrManager9=b,this.$OzAbrManager10=h,this.$OzAbrManager11=M,this.$OzAbrManager12=A,this.$OzAbrManager13=new(r(d[3]))(t,s),this.$OzAbrManager14=z}setSourceBuffer(t){this.$OzAbrManager15=t}$OzAbrManager8(t,n){const s=this.$OzAbrManager5.getNumber('abr_restrict_from_index'),b=this.$OzAbrManager5.getNumber('abr_restrict_to_index');if(0===b&&0===s)return n;const h=n.findIndex(n=>t.getID()===n.getID());return-1===h?n:n.filter((t,n)=>n-h>=s&&n-h<=b)}$OzAbrManager16(n){let s=t(this.$OzAbrManager5,n,this.$OzAbrManager14(),this.$OzAbrManager12);return s=b(this.$OzAbrManager9,this.$OzAbrManager14(),s)}getBestRepresentation(t=null){const b=s(this.$OzAbrManager15,this.$OzAbrManager10),h=n(this.$OzAbrManager5,this.$OzAbrManager3,b,r(d[4]).getSampleCount(),this.$OzAbrManager1,this.$OzAbrManager2);if(null!==h&&void 0!==h)return this.$OzAbrManager4=h,this.$OzAbrManager6;const M=Date.now();this.$OzAbrManager1=M;const A=r(d[4]).getAdjustedBandwidth(this.$OzAbrManager5.getLegacyConfig()),z=this.$OzAbrManager16(this.$OzAbrManager7);let O=null;O=this.$OzAbrManager5.getBool('abr_use_download_time')&&null!=t?this.$OzAbrManager17(z,A,t)||this.$OzAbrManager18(z,A,b,t):this.$OzAbrManager18(z,A,b,t);const $=this.$OzAbrManager5.getBool('fix_abr_default_representation')?z[0]:this.$OzAbrManager7[0];return O=O||$,this.$OzAbrManager19(b,O)?(this.$OzAbrManager4='high_buffer',this.$OzAbrManager6):(this.$OzAbrManager6!==O&&(this.$OzAbrManager3=!0,this.$OzAbrManager2=M,this.$OzAbrManager6=O),this.$OzAbrManager4='bandwidth',O)}$OzAbrManager18(t,n,s,b=null){let h=null;for(let M=0;M<t.length;M++)r(d[5]).getPlaybackConfidence(t[M],n,s,this.$OzAbrManager5.getNumber('low_buffer_bandwidth_target_threshold'),this.$OzAbrManager5.getNumber('low_buffer_bandwidth_target_increase_factor'),b,r(d[4]).getEstimatedTimeToFirstByteMs(this.$OzAbrManager5.getLegacyConfig()),this.$OzAbrManager5.getNumber('download_time_buffer_delta_penalty_factor'))>this.$OzAbrManager5.getNumber('abr_confidence_threshold')&&(!h||h.getBandwidth()<t[M].getBandwidth())&&(h=t[M]);return h}$OzAbrManager17(t,n,s){for(let b=t.length-1;b>=0;b--){const h=r(d[5]).getEstimatedDownloadTimeBufferDeltaMs(t[b],n,s,r(d[4]).getEstimatedTimeToFirstByteMs(this.$OzAbrManager5.getLegacyConfig())||0);if(null!=h&&h+this.$OzAbrManager5.getNumber('minimum_download_additional_buffer_ms')<0)return t[b]}return null}$OzAbrManager19(t,n){const s=this.$OzAbrManager5.getNumber('abr_prevent_down_switch_buffer_threshold');return s>0&&t>=s&&this.$OzAbrManager6.getBandwidth()>n.getBandwidth()}getStreamSegmentsCountStrategy(){return this.$OzAbrManager13}getLastEvaluationReason(){return this.$OzAbrManager4}}},19136537,[19136658,19136657,19136519,19136659,19136632,19136660]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={excludeLargeRepresentations:(t,n,_,s)=>{const l=t.getNumber('resolution_constraint_factor');if(0===l)return n;const o=n.filter(t=>t.getWidth()<=_.width*s*l||t.getHeight()<=_.height*s*l);return o.length?o:[n[0]]},getReasonToPreventEvaluation:(t,n,_,s,l,o)=>{const u=n?t.getNumber('min_switch_interval'):t.getNumber('initial_switch_interval'),h=s>=t.getNumber('abr_min_bandwidth_samples'),b=t.getNumber('abr_eval_buffer_threshold'),c=!b||_>=b;let v=null;return l+t.getNumber('min_eval_interval')>Date.now()?v='min_eval_interval':o+u>Date.now()?v='min_switch_interval':h?c||(v='buffer_threshold_not_satisfied'):v='min_bandwidth_samples',v}}},19136658,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,n){this.$OzBandwidthBoundaryStreamSegmentsCountStrategy1=t,this.$OzBandwidthBoundaryStreamSegmentsCountStrategy2=n,this.$OzBandwidthBoundaryStreamSegmentsCountStrategy3=new(r(d[0]))(t)}isActive(t){return!0}getSegmentsCount(t,n,o){const s=r(d[1]).getBandwidth(this.$OzBandwidthBoundaryStreamSegmentsCountStrategy1.getLegacyConfig()),u=r(d[1]).getStandardDeviationOfBandwidth(),S=this.$OzBandwidthBoundaryStreamSegmentsCountStrategy1.getNumber('bandwidth_boundary_standard_deviation_factor'),h=this.$OzBandwidthBoundaryStreamSegmentsCountStrategy2.some(t=>{const n=t.getBandwidth();return Math.abs(n-s)<u*S})?this.$OzBandwidthBoundaryStreamSegmentsCountStrategy4(t,n,o):this.$OzBandwidthBoundaryStreamSegmentsCountStrategy3.getSegmentsCount(t,n,o),y=this.$OzBandwidthBoundaryStreamSegmentsCountStrategy5(n,s);return Math.min(h,y)}$OzBandwidthBoundaryStreamSegmentsCountStrategy4(t,n,o){const s=this.$OzBandwidthBoundaryStreamSegmentsCountStrategy1.getNumber('seconds_to_stream_near_bandwidth_boundary');let u=this.$OzBandwidthBoundaryStreamSegmentsCountStrategy1.getNumber('segments_to_stream_near_bandwidth_boundary');return s>0&&(u=r(d[2])(n,o,s,u)),u}$OzBandwidthBoundaryStreamSegmentsCountStrategy5(t,n){let o=1/0;const s=t.getByteRange();if(s){const t=s.endByte;if(null!==t&&void 0!==t){const u=this.$OzBandwidthBoundaryStreamSegmentsCountStrategy1.getNumber('per_stream_duration_target'),S=t-s.startByte;u>1e-5&&0!==S&&(o=Math.ceil(u*n/(8*S)))}}return o}}},19136659,[19136547,19136632,19136661]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t){this.$OzStaticStreamSegmentsStrategy1=t}isActive(){return!0}getSegmentsCount(t,s,n){const S=this.$OzStaticStreamSegmentsStrategy1.getNumber('seconds_to_stream');let c=this.$OzStaticStreamSegmentsStrategy1.getNumber('segments_to_stream');return S>0&&(c=r(d[0])(s,n,S,c)),c}}},19136547,[19136661]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(t,n,s,f){let o=0;const u=t.getTimeRange().startTime;let T=t,c=T.getTimeRange().startTime;for(;null!==T&&c<s+u;){const t=c;if(o++,!(T=n.getSegmentAfter(T)))break;if((c=T.getTimeRange().startTime)<=t)return f}return Math.max(o,1)}},19136661,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n,o,c){const s=t.getBandwidth(),u=t.getSegment(0);if(u){const t=u.getTimeRange(),l=(t.endTime-t.startTime)*o;return l*s/n*1e3+c-1e3*l}}const n=.8;m.exports={getPlaybackConfidence:function(o,c,s,u,l,f,T,h){const w=1+(1-Math.min(1,s/u))*l,B=o.getBandwidth()*w;if(B>c)return n*(c/B);let D=0;if(null!=f&&null!=T&&h>0){const n=t(o,c,f,T);null!=n&&n>0&&(D=n/1e3*h)}return 1-.19999999999999996*B/c-D},getEstimatedDownloadTimeBufferDeltaMs:t}},19136660,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const{getMimeType:t}=r(d[0]),{getRangeForTime:s}=r(d[1]),n=1e3,S=.2;m.exports=class extends(r(d[17])){constructor(s,n,S,h,O,M,$,z,o,l,u,c,f,p){super(),this.$OzMediaStream1=0,this.$OzMediaStream2=[0,1,1,2,3,5,8,13,21,34],this.$OzMediaStream3=null,this.$OzMediaStream4=!1,this.$OzMediaStream5=null,this.$OzMediaStream6=new(r(d[2])),this.$OzMediaStream7=[],this.$OzMediaStream8=0,this.$OzMediaStream9=!0,this.$OzMediaStream10=!1,this.$OzMediaStream11=null,this.$OzMediaStream12=new(r(d[3])),this.$OzMediaStream13=s,this.$OzMediaStream14=n,this.$OzMediaStream14.then(t=>{this.$OzMediaStream15=t,this.$OzMediaStream5&&this.$OzMediaStream5.setSourceBuffer(t),this.$OzMediaStream16.setSourceBufferState(t.getSourceBufferState()),this.$OzMediaStream17()}),this.$OzMediaStream18=S,this.$OzMediaStream19=h,this.$OzMediaStream20=O,this.$OzMediaStream21=M,this.$OzMediaStream21.registerMediaStream(this),this.$OzMediaStream22=$,this.$OzMediaStream16=z,this.$OzMediaStream23=o,this.$OzMediaStream5=l,this.$OzMediaStream24=f.cloneContext(),this.$OzMediaStream25=new(r(d[4]))((t,s)=>t.id===s.id),this.$OzMediaStream6.addSubscriptions(this.$OzMediaStream20.addEventListener('seeking',()=>{this.$OzMediaStream13.getBool('fix_seek_performance')?this.$OzMediaStream26():(this.$OzMediaStream27=null,this.$OzMediaStream10=!1,this.$OzMediaStream28&&this.$OzMediaStream28.resolve())})),this.$OzMediaStream29=t(c.getMimeCodecs()),this.$OzMediaStream30=new(r(d[5]))(this.$OzMediaStream29,this.$OzMediaStream16,this.$OzMediaStream24,this.$OzMediaStream13),this.$OzMediaStream31=new(r(d[6]))(this),u===c.getID()?this.$OzMediaStream32=c:this.$OzMediaStream33(c)}start(){this.$OzMediaStream31.start()}getCurrentRepresentation(){return this.$OzMediaStream32}switchRepresentation(t){this.$OzMediaStream33(t,'user')}onError(t){return this.$OzMediaStream12.onError(t)}updateRunTimeConfigs(t){const{videoStreamDataHandler:s}=t;void 0!==s&&(this.$OzMediaStream34=s)}$OzMediaStream33(t,s="internal"){(()=>!this.$OzMediaStream13.getBool('clear_buffer_when_switch_representation_initiator_is_user')||'user'===s)()&&(this.$OzMediaStream27=null);const n=this.$OzMediaStream24.cloneContext().setType(`${this.$OzMediaStream29};init`),S=this.$OzMediaStream19.request([t.getInitSegment()],[r(d[7])(this.$OzMediaStream29)],n,'ENABLE_CACHE'),h=n.getOperationLogger('stream_switch').setPreviousRepresentationID(this.$OzMediaStream32?this.$OzMediaStream32.getID():null).setRepresentationID(t.getID()).setReason(this.$OzMediaStream5&&this.$OzMediaStream5.getLastEvaluationReason()).start();this.$OzMediaStream32=t,this.emit('switchRepresentation',s,t),this.$OzMediaStream35(S.getStream(),()=>{h.log(),this.emit('initAppended'),this.$OzMediaStream21.notifyRepresentationSwitched(this)},t=>{h.setError(t).log(),this.$OzMediaStream13.getBool('fallback_on_append_error')&&t instanceof r(d[8])&&'OZ_NETWORK'!==t.getType()&&this.$OzMediaStream12.emitError(t)},n.cloneContext(),0)}getLoopInterval(){return this.$OzMediaStream8}execute(){const t=this.$OzMediaStream36();if(t){const s=this.$OzMediaStream28=new(r(d[9]))(r(d[10]));return t.then(()=>s.resolve()).catch(t=>s.reject(t)),s.getPromise()}return null}$OzMediaStream37(t=null){if(this.$OzMediaStream5&&this.$OzMediaStream9&&(this.$OzMediaStream13.getBool('enable_abr_for_first_request')||this.$OzMediaStream4||this.$OzMediaStream18>0)){const s=this.$OzMediaStream5.getBestRepresentation(t);if(this.$OzMediaStream32!==s)return s}return null}$OzMediaStream38(t){const s=this.$OzMediaStream15?this.$OzMediaStream15.getSourceBufferState():null,n=this.$OzMediaStream18>0?this.$OzMediaStream32.getSegment(this.$OzMediaStream18-1):null;let S=null;if(t&&(S=this.$OzMediaStream32.getCustomFieldFirstSegment()),S||(S=r(d[11]).getSegment(this.$OzMediaStream32,this.$OzMediaStream20,this.$OzMediaStream22.computeBufferTarget(),s,this.$OzMediaStream32,this.$OzMediaStream27||n,this.$OzMediaStream13,this.$OzMediaStream11)),this.$OzMediaStream32.canPredict()){const t=this.$OzMediaStream39&&this.$OzMediaStream39.getSequenceNumber()||0,s=S&&S.getSequenceNumber()||0;if(S&&this.$OzMediaStream39&&t>=s){const s=r(d[11]).getEndingSequenceNumber(this.$OzMediaStream32);return this.$OzMediaStream13.getBool('pdash_continue_interrupt_from_error')&&(s||0)>=t?this.$OzMediaStream39:null}}return S}$OzMediaStream40(){return!this.$OzMediaStream4&&0===this.$OzMediaStream18}$OzMediaStream41(t,s){let n=[];if(s)n=[t];else{const s=this.$OzMediaStream23.computeMin(this.$OzMediaStream20,t,this.$OzMediaStream32),S=this.$OzMediaStream37(s);if(S){this.$OzMediaStream33(S);const t=this.$OzMediaStream38(!1);if(t)return this.$OzMediaStream41(t,!1)}n=r(d[12]).getStreamingSegments(this.$OzMediaStream13,s,this.$OzMediaStream32,this.$OzMediaStream20,t),n=r(d[13]).getStreamableSegmentsRange(n)}return n}$OzMediaStream42(){return new(r(d[10]))((t,s)=>{const n=this.getCurrentRepresentation().addUpdateListener(()=>{t(),this.$OzMediaStream43=null,n.remove()});this.$OzMediaStream43=n})}$OzMediaStream44(t,s){return new(r(d[10]))((s,n)=>{const S=this.$OzMediaStream38(t);s(null==S?[]:this.$OzMediaStream41(S,t))})}$OzMediaStream36(){const t=this.$OzMediaStream15?this.$OzMediaStream15.getSourceBufferState():null;if(this.$OzMediaStream32.canPredict()&&this.$OzMediaStream39&&this.$OzMediaStream32.isEndingSegment(this.$OzMediaStream39))return void this.endStream();if(this.$OzMediaStream32.canPredict()&&this.$OzMediaStream27&&this.$OzMediaStream32.isEndingSegment(this.$OzMediaStream27))return void this.endStream();const s=this.$OzMediaStream40(),S=this.$OzMediaStream38(s);if(this.$OzMediaStream10&&this.$OzMediaStream13.getBool('no_new_loop_body_promise_when_stream_ongoing'))return this.$OzMediaStream8=n,null;if(this.$OzMediaStream18>0&&this.$OzMediaStream13.getBool('maybe_end_stream_if_prepended_segments')&&!this.$OzMediaStream45()&&this.endStreamIfBufferedToEndTime(),!S||this.$OzMediaStream10)return this.$OzMediaStream8=n,this.$OzMediaStream10||this.$OzMediaStream30.finishTaskIfNoOngoingStream(),this.$OzMediaStream42();this.$OzMediaStream8=0;const h=this.$OzMediaStream41(S,s);this.$OzMediaStream4=!0;const O=h[h.length-1]||null;O&&!this.$OzMediaStream13.getBool('clear_prepended_segments_count_on_append')&&(this.$OzMediaStream18=0);let M=!1;O&&(M=this.$OzMediaStream32.isEndingSegment(O));const $=this.$OzMediaStream32,z=()=>$.isEndingSegment(O);0!==h.length||r(d[14])(0);const o=h[0],l=o.getTimeRange().startTime,u=O.getTimeRange().endTime,c=this.$OzMediaStream24.cloneContext();c.setRepresentationID(this.$OzMediaStream32.getID()).setSegmentStartTime(l).setSegmentEndTime(u);let f,p;const _=this.$OzMediaStream13.getBool('disable_audio_scheduler')&&-1!==this.$OzMediaStream29.indexOf('audio');!this.$OzMediaStream13.getBool('use_scheduler')||_||s?f=this.$OzMediaStream19.request(h,[r(d[7])(this.$OzMediaStream29)],c):this.$OzMediaStream13.getBool('use_deferred_streaming_task')?p=this.$OzMediaStream30.startStreamDeferred({segmentsPromise:this.$OzMediaStream44(s,h),networkManager:this.$OzMediaStream19,sourceBufferState:t,playbackState:this.$OzMediaStream20,segmentsLoggerProvider:c}):f=this.$OzMediaStream30.startStream({streamableSegments:h,networkManager:this.$OzMediaStream19,sourceBufferState:t,playbackState:this.$OzMediaStream20,segmentsLoggerProvider:c}),this.$OzMediaStream3=f,this.$OzMediaStream10=!0;const T=this.$OzMediaStream46(o,O,h.length),B={startTime:l,endTime:u,tag:{id:this.$OzMediaStream32.getID()}},E=c.getOperationLogger('queued_append');E.start().setReason(this.$OzMediaStream5&&this.$OzMediaStream5.getLastEvaluationReason());const b=t=>{this.$OzMediaStream35(t,t=>{E.setAppendedBufferMs(Math.round(1e3*t)).log(),h.forEach(t=>{this.emit('SegmentAppended',this.$OzMediaStream47(t))}),z()&&this.endStream(),this.$OzMediaStream13.getBool('clear_prepended_segments_count_on_append')&&(this.$OzMediaStream18=0)},t=>{E.setError(t).log(),this.$OzMediaStream13.getBool('fallback_on_append_error')&&t instanceof r(d[8])&&'OZ_NETWORK'!==t.getType()&&this.$OzMediaStream12.emitError(t)},c,T,B)};let R;return p||f||r(d[14])(0),p?(p.genStream().then(t=>b(t)).catch(t=>this.$OzMediaStream12.emitError(t)),R=p.getStatusChangePromise()):f&&(b(f.getStream()),R=f.getStatusChangePromise()),R.then(t=>(this.$OzMediaStream48(t,O),this.$OzMediaStream49(null))).then(()=>{this.$OzMediaStream1=0}).catch(t=>this.$OzMediaStream50(t,null,O))}handleError(t){return 0}$OzMediaStream48(t,s){'cancelled'!==t&&(this.$OzMediaStream27=s)}$OzMediaStream49(t){this.$OzMediaStream10=!1,t&&t.finish()}$OzMediaStream50(t,s,n){this.$OzMediaStream10=!1;let S,h;if(t instanceof r(d[8])?(S=t.getExtra().code||'',h=t):(S=t.status?t.status.toString():'0',h=new(r(d[8]))({type:'OZ_NETWORK',description:t.message,extra:{originalError:t,code:S,url:t.url}})),JSON.parse(this.$OzMediaStream13.getString('network_end_broadcasts_json')).includes(S))return this.$OzMediaStream39=n,this.endStream(),r(d[10]).resolve();if(JSON.parse(this.$OzMediaStream13.getString('network_skip_json')).includes(S))return s&&s.finish(),this.$OzMediaStream27=n,this.$OzMediaStream30.finishTaskIfNoOngoingStream(),new(r(d[10]))((t,s)=>{r(d[15])(t,0)});const O=this.$OzMediaStream13.getBool('back_off_pdash_504_retry')?this.$OzMediaStream2[this.$OzMediaStream1++]:0,M=JSON.parse(this.$OzMediaStream13.getString('network_reload_mpd_json'));if(this.$OzMediaStream13.getBool('back_off_pdash_504_retry')&&null==O)return this.$OzMediaStream51(t,h);if(null!=O&&M.includes(S)&&(s&&s.finish(),this.$OzMediaStream27=null,this.$OzMediaStream39=n,this.$OzMediaStream30.finishTaskIfNoOngoingStream(),null!=this.$OzMediaStream15))return this.$OzMediaStream15.cancelOperationAndCleanQueue().then(()=>new(r(d[10]))((t,s)=>{r(d[15])(t,1e3*O)}));const $=JSON.parse(this.$OzMediaStream13.getString('network_retry_intervals_json'))[S];return $?(s&&s.finish(),this.$OzMediaStream30.finishTaskIfNoOngoingStream(),new(r(d[10]))((t,s)=>{r(d[15])(t,$)})):this.$OzMediaStream51(t,h)}$OzMediaStream51(t,s){return this.$OzMediaStream12.emitError(s),this.$OzMediaStream1=0,t instanceof r(d[8])&&'OZ_NETWORK'===t.getType()&&this.$OzMediaStream15?this.$OzMediaStream15.cancelOperationAndCleanQueue():r(d[10]).resolve()}$OzMediaStream35(t,s,n,S,h,O=null){this.$OzMediaStream7.push({stream:t,dataAppendedCallback:s,dataAppendedErrorCallback:n,loggerProvider:S,appendTarget:h,timeRange:O}),this.$OzMediaStream15&&this.$OzMediaStream17()}$OzMediaStream17(){this.$OzMediaStream7.forEach(t=>{const{stream:s,dataAppendedCallback:n,dataAppendedErrorCallback:S,loggerProvider:h,appendTarget:O,timeRange:M}=t,$=null==this.$OzMediaStream34?s:s.pipeThrough(new(r(d[16]))(this.$OzMediaStream34.bind(this,this.$OzMediaStream32)));this.$OzMediaStream15&&this.$OzMediaStream15.queueData($,h,O).then(t=>{n(t.appendedSec),M&&this.$OzMediaStream32.canPredict()&&t.startTime_UNSAFE&&t.endTime_UNSAFE?this.$OzMediaStream25.add(t.startTime_UNSAFE,t.endTime_UNSAFE,M.tag):M&&this.$OzMediaStream25.add(M.startTime,M.endTime,M.tag)}).catch(t=>{S(t)})}),this.$OzMediaStream7=[]}$OzMediaStream46(t,s,n){let S=0;const h=this.$OzMediaStream13.getNumber('appends_per_segment');if(h>0){const O=t.getByteRange(),M=s.getByteRange();O&&M&&null!=M.endByte&&(S=Math.ceil((M.endByte-O.startByte+1)/(n*h)))}return 0===S&&(S=this.$OzMediaStream13.getNumber('append_byte_target_without_range')),S}getIsAdaptationEnabled(){return this.$OzMediaStream9}enableAdaptation(){this.$OzMediaStream9=!0}disableAdaptation(){this.$OzMediaStream9=!1}cleanup(){this.$OzMediaStream14.then(t=>{t.destroy()}),this.$OzMediaStream30.destroy(),this.$OzMediaStream6.release(),this.$OzMediaStream6.engage(),this.$OzMediaStream43&&this.$OzMediaStream43.remove(),this.$OzMediaStream31.stop()}getRepresentationIDAtTime(t){let s=this.$OzMediaStream25.get(t);if(!s){const n=this.$OzMediaStream32.getTimeRanges(),S=n[n.length-1];S&&t>=S.endTime&&t<=this.$OzMediaStream20.getDuration()+.001&&(s=this.$OzMediaStream25.get(S.endTime-.001))}return s?s.id:null}endStream(){this.$OzMediaStream21.notifyMediaStreamEnded(this),this.$OzMediaStream52()}endStreamIfBufferedToEndTime(){const t=this.$OzMediaStream32.getTimeRanges();if(t.length>0){const s=t[t.length-1].endTime;if(this.$OzMediaStream15){const t=this.$OzMediaStream15.getSourceBufferState().getBufferedRanges();t.length>0&&Math.abs(t[t.length-1].endTime-s)<S&&this.endStream()}}}$OzMediaStream47(t){return{type:this.$OzMediaStream29.charAt(0),segment:t,sourceBuffer:this.$OzMediaStream15?this.$OzMediaStream15.getDebug().SourceBuffer:null}}$OzMediaStream26(){this.$OzMediaStream27=null,this.$OzMediaStream10=!1,this.$OzMediaStream3&&this.$OzMediaStream3.cancel(),0!==this.$OzMediaStream8&&this.$OzMediaStream28&&this.$OzMediaStream28.resolve()}$OzMediaStream52(){if(this.$OzMediaStream15){const t=this.$OzMediaStream15.getSourceBufferState().getBufferedRanges();t.length>0&&(this.$OzMediaStream11=t[t.length-1].endTime)}}$OzMediaStream45(){return null!==this.$OzMediaStream11}getDebug(){return{SourceBufferManager:this.$OzMediaStream15,MediaStreamAbrManager:this.$OzMediaStream5}}}},19136538,[19136623,19136662,19136522,19136523,19136663,19136664,19136665,19136629,19136532,19136571,19136531,19136666,19136667,19136526,19136521,19136576,19136668,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';const t={getRangeForTime(t,n){const l=n.filter(n=>n.startTime<=t&&n.endTime>=t);return null!=l&&l.length>0?l[0]:null}};m.exports=t},19136662,[]);
__d(function(g,r,i,a,m,e,d){m.exports=class{constructor(T){this.$OzTaggedTimeRanges1=[],this.$OzTaggedTimeRanges2=0,this.$OzTaggedTimeRanges3=0,this.$OzTaggedTimeRanges4=T||((T,t)=>T===t)}add(T,t,s){if(!(t<T)&&t!==T)if(0!==this.$OzTaggedTimeRanges1.length){for(var n=0,h=0,z=0;z<this.$OzTaggedTimeRanges1.length;z++){if(T===this.$OzTaggedTimeRanges1[z].startTime&&t===this.$OzTaggedTimeRanges1[z].endTime){n=z,h=z+1;break}if(T>=this.$OzTaggedTimeRanges1[z].startTime&&(n=z+1),t<=this.$OzTaggedTimeRanges1[z].endTime&&(h=z),t<this.$OzTaggedTimeRanges1[z].startTime)break}this.$OzTaggedTimeRanges1.splice(n,h-n,{startTime:T,endTime:t,tag:s}),this.$OzTaggedTimeRanges5(n)}else this.$OzTaggedTimeRanges1.push({startTime:T,endTime:t,tag:s})}$OzTaggedTimeRanges5(T){var t=this.$OzTaggedTimeRanges1[T],s=null;0!==T&&(s=this.$OzTaggedTimeRanges1[T-1]),null!==s&&(this.$OzTaggedTimeRanges4(s.tag,t.tag)?s.endTime>=t.startTime&&(this.$OzTaggedTimeRanges1.splice(T-1,2,{startTime:s.startTime,endTime:Math.max(t.endTime,s.endTime),tag:t.tag}),T--):(s.endTime>t.startTime&&s.startTime===t.startTime?(this.$OzTaggedTimeRanges1.splice(T-1,1),T--):s.endTime>t.startTime&&this.$OzTaggedTimeRanges1.splice(T-1,1,{startTime:s.startTime,endTime:t.startTime,tag:s.tag}),s.endTime>t.endTime&&this.$OzTaggedTimeRanges1.splice(T+1,0,{startTime:t.endTime,endTime:s.endTime,tag:s.tag})));var n=null;T!==this.$OzTaggedTimeRanges1.length-1&&(n=this.$OzTaggedTimeRanges1[T+1]),n&&(this.$OzTaggedTimeRanges4(n.tag,t.tag)?n.startTime<=t.endTime&&this.$OzTaggedTimeRanges1.splice(T,2,{startTime:t.startTime,endTime:Math.max(n.endTime,t.endTime),tag:t.tag}):n.startTime<=t.endTime&&(n.endTime<t.endTime?(this.$OzTaggedTimeRanges1.splice(T,1,{startTime:t.startTime,endTime:n.startTime,tag:t.tag}),this.$OzTaggedTimeRanges1.push({startTime:n.endTime,endTime:t.endTime,tag:t.tag})):this.$OzTaggedTimeRanges1.splice(T+1,1,{startTime:t.endTime,endTime:n.endTime,tag:n.tag})))}get(T){for(var t=null,s=T>=this.$OzTaggedTimeRanges3?this.$OzTaggedTimeRanges2:0;s<this.$OzTaggedTimeRanges1.length;s++)if(this.$OzTaggedTimeRanges1[s].startTime<=T&&T<this.$OzTaggedTimeRanges1[s].endTime){t=s;break}return this.$OzTaggedTimeRanges2=null===t?0:t,this.$OzTaggedTimeRanges3=T,null===t?null:this.$OzTaggedTimeRanges1[t].tag}getLength(){return this.$OzTaggedTimeRanges1.length}}},19136663,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,n,s,S){this.$OzStreamingTaskStateManager1=new(r(d[0])),this.$OzStreamingTaskStateManager2=0,this.$OzStreamingTaskStateManager3=!1,this.$OzStreamingTaskStateManager4=t,this.$OzStreamingTaskStateManager5=n,this.$OzStreamingTaskStateManager6=r(d[1]).getQueue(this.$OzStreamingTaskStateManager4),this.$OzStreamingTaskStateManager7=s,this.$OzStreamingTaskStateManager8=S,this.$OzStreamingTaskStateManager1.addSubscriptions(this.$OzStreamingTaskStateManager5.addListener('state_changed',(t,n)=>{this.$OzStreamingTaskStateManager9(t,n),this.$OzStreamingTaskStateManager10&&this.$OzStreamingTaskStateManager6.updatePriority(this.$OzStreamingTaskStateManager10,this.$OzStreamingTaskStateManager2)}))}startStream(t){const{streamableSegments:n,networkManager:s,segmentsLoggerProvider:S}=t,h=this.$OzStreamingTaskStateManager11(S),O=this.$OzStreamingTaskStateManager12(),{pausableStream:k,loggingPayloads:M}=s.createPausableStream(n,O,S);this.$OzStreamingTaskStateManager3=!0;const T=h.addStream(k,S,M);return{getStream:T.getStream,cancel:T.cancel,getStatusChangePromise:this.$OzStreamingTaskStateManager13(T.getStatusChangePromise)}}$OzStreamingTaskStateManager12(){const t=[];return t.push(r(d[2])(this.$OzStreamingTaskStateManager4)),t}startStreamDeferred(t){const{segmentsPromise:n,networkManager:s,segmentsLoggerProvider:S}=t,h=this.$OzStreamingTaskStateManager11(S),O=this.$OzStreamingTaskStateManager12(),k=new(r(d[3]))((t,h)=>{n.then(n=>{n.length>0?t(s.createPausableStream(n,O,S)):t(null)}).catch(t=>h(t))});this.$OzStreamingTaskStateManager3=!0;const M=h.addStreamDeferred(k,S);return{genStream:M.genStream,cancel:M.cancel,getStatusChangePromise:this.$OzStreamingTaskStateManager13(M.getStatusChangePromise)}}$OzStreamingTaskStateManager11(t){let n=this.$OzStreamingTaskStateManager10;return this.$OzStreamingTaskStateManager9(this.$OzStreamingTaskStateManager5.compute(),'start_stream'),!n||n.isCancelled()?(n=this.$OzStreamingTaskStateManager10=new(r(d[4]))(this.$OzStreamingTaskStateManager8,this.$OzStreamingTaskStateManager7),this.$OzStreamingTaskStateManager6.enqueue(n,this.$OzStreamingTaskStateManager2).catch(()=>{})):this.$OzStreamingTaskStateManager6.updatePriority(n,this.$OzStreamingTaskStateManager2),n}$OzStreamingTaskStateManager13(t){return()=>t().then(t=>(this.$OzStreamingTaskStateManager14(),t)).catch(t=>(this.$OzStreamingTaskStateManager14(),Promise.reject(t)))}finishTaskIfNoOngoingStream(){this.$OzStreamingTaskStateManager3||this.$OzStreamingTaskStateManager15()}destroy(){this.$OzStreamingTaskStateManager1.release();const t=this.$OzStreamingTaskStateManager10;this.$OzStreamingTaskStateManager10=null,t&&this.$OzStreamingTaskStateManager6.remove(t)}$OzStreamingTaskStateManager14(){this.$OzStreamingTaskStateManager3=!1,this.$OzStreamingTaskStateManager9(this.$OzStreamingTaskStateManager5.compute(),'end_stream'),this.$OzStreamingTaskStateManager2<r(d[1]).OZ_QUEUE_MAX_PRIORITY&&this.$OzStreamingTaskStateManager15()}$OzStreamingTaskStateManager15(){this.$OzStreamingTaskStateManager10&&(this.$OzStreamingTaskStateManager10.finish(),this.$OzStreamingTaskStateManager10=null)}$OzStreamingTaskStateManager9(t,n){t!==this.$OzStreamingTaskStateManager2&&(this.$OzStreamingTaskStateManager2=t,this.$OzStreamingTaskStateManager7&&this.$OzStreamingTaskStateManager7.getOperationLogger('priority_changed').setPriorityFloat(this.$OzStreamingTaskStateManager2).setInitiator(n).log())}}},19136664,[19136522,19136636,19136629,19136531,19136669]);
__d(function(g,r,i,a,m,e,d){'use strict';const{monitorPromiseAndLogOperation:t}=r(d[0]),{setFetchStreamLoggingAttributes:s}=r(d[1]);m.exports=class{constructor(t,s){this.$OzStreamingTask1=new(r(d[2]))(r(d[3])),this.$OzStreamingTask2=!1,this.$OzStreamingTask3=this.$OzStreamingTask4=new(r(d[2]))(r(d[3])),this.$OzStreamingTask5=r(d[4])(),this.$OzStreamingTask6=s,this.$OzStreamingTask7=t}run(){const s=this.$OzStreamingTask1.getPromise(),n=this.$OzStreamingTask6;if(n){const o=r(d[4])()-this.$OzStreamingTask5;t(s,n,'streaming_task',()=>{},t=>{t.setTimeToRequestSent(Math.floor(o))}).catch(()=>{})}return this.$OzStreamingTask4.resolve(),s}cancel(){this.$OzStreamingTask1.getPromise().catch(()=>{}),this.$OzStreamingTask1.reject(new(r(d[5]))({type:'OZ_STREAMING_TASK',description:'task cancelled',extra:{code:'OZ_ST-1'}})),this.$OzStreamingTask2=!0}finish(){this.$OzStreamingTask1.resolve()}isCancelled(){return this.$OzStreamingTask2}addStream(t,s,n){const o=new(r(d[2]))(r(d[3]));return this.$OzStreamingTask8({pausableStreamPromise:Promise.resolve({pausableStream:t,loggingPayloads:n}),changeStatusDeferred:o,createStreamDeferred:new(r(d[2]))(r(d[3])),loggerProviderWithStreamContext:s,loggingPayloads:n}),{getStream:()=>t.getStream(),cancel:()=>t.pauseStream(),getStatusChangePromise:()=>o.getPromise()}}addStreamDeferred(t,s){const n=new(r(d[2]))(r(d[3])),o=new(r(d[2]))(r(d[3]));this.$OzStreamingTask8({pausableStreamPromise:t,changeStatusDeferred:n,createStreamDeferred:o,loggerProviderWithStreamContext:s});const S=()=>o.getPromise();return{genStream:S,cancel:()=>{S().then(t=>t.pauseStream())},getStatusChangePromise:()=>n.getPromise()}}$OzStreamingTask8(n){const{pausableStreamPromise:o,changeStatusDeferred:S,createStreamDeferred:h,loggerProviderWithStreamContext:c}=n;let{loggingPayloads:l}=n;const T=this.$OzStreamingTask3.getPromise(),u=r(d[4])(),O=this.$OzStreamingTask3=new(r(d[2]))(r(d[3]));T.then(()=>o).then(n=>{if(n){const{pausableStream:o}=n;n.loggingPayloads&&(l=n.loggingPayloads),h.resolve(o.getStream()),this.$OzStreamingTask9=o;const S=r(d[4])(),T=this.$OzStreamingTask10(o.startStream());return c&&t(T,c,'fetch_stream',()=>{},t=>{l&&s(t,l.getRequestUrl(),l.isPrefetch(),l.segments,S-u,o.getBytesStreamed(),l.getResponse())}),T}return null}).then(t=>{this.$OzStreamingTask9=null,O.resolve(),S.resolve(t||'cancelled')}).catch(t=>{this.$OzStreamingTask9=null,this.$OzStreamingTask1.reject(t),S.reject(t)})}$OzStreamingTask10(t){return t.then(({statusPromise:t})=>t.then(t=>'stream_done'===t?'done':'error'))}}},19136669,[19136517,19136589,19136571,19136531,19136670,19136532]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},19136670,[19136671]);
__d(function(g,r,i,a,m,e,d){'use strict';null!=performance.now||r(d[0])(0);m.exports=(()=>performance.now())},19136671,[9699436]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t){this.$OzMediaStreamLoopDriver1=null,this.$OzMediaStreamLoopDriver2=!1,this.$OzMediaStreamLoopDriver4=(()=>{if(this.$OzMediaStreamLoopDriver5(),this.$OzMediaStreamLoopDriver2)return;const t=this.$OzMediaStreamLoopDriver3.execute(),o=this.$OzMediaStreamLoopDriver3.getLoopInterval();o&&(this.$OzMediaStreamLoopDriver1=r(d[0])(()=>{this.$OzMediaStreamLoopDriver4()},o)),t&&t.then(this.$OzMediaStreamLoopDriver4).catch(t=>{this.$OzMediaStreamLoopDriver5();const o=this.$OzMediaStreamLoopDriver3.handleError(t);o?this.$OzMediaStreamLoopDriver1=r(d[0])(this.$OzMediaStreamLoopDriver4,o):this.$OzMediaStreamLoopDriver2=!0})}),this.$OzMediaStreamLoopDriver3=t}start(){if(this.$OzMediaStreamLoopDriver2)throw new Error('restart is not implemented');this.$OzMediaStreamLoopDriver4()}stop(){this.$OzMediaStreamLoopDriver5(),this.$OzMediaStreamLoopDriver2=!0}$OzMediaStreamLoopDriver5(){this.$OzMediaStreamLoopDriver1&&(r(d[1])(this.$OzMediaStreamLoopDriver1),this.$OzMediaStreamLoopDriver1=null)}}},19136665,[19136576,19136575]);
__d(function(g,r,i,a,m,e,d){'use strict';const{getRangeForTime:t}=r(d[0]),n={getEndingSequenceNumber(t){const n=t.getEndingSegment();return null!=n&&null!=n.getSequenceNumber()?n.getSequenceNumber()||0:0},getSegment:(n,u,s,l,o,T,_,c)=>{const f=n.getPredictedSegmentAfter(T);if(f&&u.isPlaying())return f;const S=u.getCurrentTime(),R=l?t(S,l.getBufferedRanges()):null,b=T?T.getTimeRange().endTime:0;if(_.getBool('use_stream_end_time_in_segment_locator')&&R&&R.endTime===c)return null;let p=u.getCurrentTime()||0;b?p=b:R&&(p=R.endTime);let B=p-u.getCurrentTime();if(_.getBool('compute_buffer_ahead_with_timeline_gaps')){const t=o.getTimeRanges();B=(new(r(d[1]))).findDiffCoveredByRanges(u.getCurrentTime(),p,t.map(t=>({rangeStart:t.startTime,rangeEnd:t.endTime})))}if(B>s)return null;const C=n.getSegment(0);0===_.getNumber('auto_seek_playhead_slack')&&C&&C.getTimeRange().startTime>p&&(p=C.getTimeRange().startTime);return n.getSegmentByTime(p)}};m.exports=n},19136666,[19136662,19136653]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports={getStreamingSegments:function(t,s,n,o,_){const u=t.getNumber('segments_to_stream_under_playhead_threshold'),h=t.getNumber('low_segment_stream_playhead_threshold');u>0&&o.getCurrentTime()<h&&(s=u);const c=[];c.push(_);for(let t=1;t<s;t++){const t=n.getSegmentAfter(_);if(!t)break;_=t,c.push(_)}return c}}},19136667,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends(r(d[1])){constructor(t){super(),this.$OzReadableStreamDataReader1=new ArrayBuffer(0),this.$OzReadableStreamDataReader2=t}onDataWritten(t){this.$OzReadableStreamDataReader1=r(d[0])(this.$OzReadableStreamDataReader1,t.buffer)}onClose(){this.$OzReadableStreamDataReader2(this.$OzReadableStreamDataReader1)}}},19136668,[19136569,19136602]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,n,s,h,c){this.$OzHandleUserRepresentationSwitch1=null,this.$OzHandleUserRepresentationSwitch2=new(r(d[0])),this.$OzHandleUserRepresentationSwitch3=t,this.$OzHandleUserRepresentationSwitch4=n,this.$OzHandleUserRepresentationSwitch5=s,this.$OzHandleUserRepresentationSwitch6=h,c.then(t=>{this.$OzHandleUserRepresentationSwitch1=t}),this.$OzHandleUserRepresentationSwitch2.addSubscriptions(h.addListener('switchRepresentation',this.$OzHandleUserRepresentationSwitch7.bind(this)))}cleanup(){this.$OzHandleUserRepresentationSwitch2.release(),this.$OzHandleUserRepresentationSwitch2.engage()}$OzHandleUserRepresentationSwitch7(t,n){if('user'!==t)return;const s=this.$OzHandleUserRepresentationSwitch6.getRepresentationIDAtTime(this.$OzHandleUserRepresentationSwitch4.getCurrentTime());let h;if(this.$OzHandleUserRepresentationSwitch1){for(let t=0;t<this.$OzHandleUserRepresentationSwitch5.length;t++)this.$OzHandleUserRepresentationSwitch5[t].getID()===s&&(h=this.$OzHandleUserRepresentationSwitch5[t]);h&&n&&h.getBandwidth()<n.getBandwidth()&&h.getSegmentByTime(this.$OzHandleUserRepresentationSwitch4.getCurrentTime())&&this.$OzHandleUserRepresentationSwitch1&&this.$OzHandleUserRepresentationSwitch1.clearRange(this.$OzHandleUserRepresentationSwitch4.getCurrentTime(),this.$OzHandleUserRepresentationSwitch4.getDuration())}}}},19136539,[19136522]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t){this.$OzBufferTargetCalculator1=0,this.$OzBufferTargetCalculator2=t}computeBufferTarget(){for(const t of this.$OzBufferTargetCalculator2)if(t.isActive()){const f=t.getBufferTarget();return this.$OzBufferTargetCalculator1=f,f}return this.$OzBufferTargetCalculator1}}},19136540,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,u){this.$OzStartupBufferTargetStrategy1=t,this.$OzStartupBufferTargetStrategy2=u}isActive(){return this.$OzStartupBufferTargetStrategy1.isPlaying()&&(this.$OzStartupBufferTargetStrategy3=!0),!this.$OzStartupBufferTargetStrategy3}getBufferTarget(){return this.$OzStartupBufferTargetStrategy2.getNumber('pre_start_buffer_ahead_target')}}},19136541,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t){this.$OzBufferAheadTargetStrategy1=t}isActive(){return!0}getBufferTarget(){return this.$OzBufferAheadTargetStrategy1.getNumber('buffer_ahead_target')}}},19136542,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const{listenDOMEvent:t}=r(d[0]),n=1;m.exports=class extends(r(d[2])){constructor(n){super(),this.$OzPlayheadAtInterruptionDetector1=null,this.$OzPlayheadAtInterruptionDetector2=new(r(d[1])),this.$OzPlayheadAtInterruptionDetector3=n,this.$OzPlayheadAtInterruptionDetector2.addSubscriptions(t(this.$OzPlayheadAtInterruptionDetector3,'waiting',this.$OzPlayheadAtInterruptionDetector4.bind(this)))}notifyStreamInterrupted(t){this.$OzPlayheadAtInterruptionDetector1=t,this.$OzPlayheadAtInterruptionDetector4()}notifyStreamResumed(){this.$OzPlayheadAtInterruptionDetector1=null}$OzPlayheadAtInterruptionDetector4(){if(null!=this.$OzPlayheadAtInterruptionDetector1){const t=this.$OzPlayheadAtInterruptionDetector1||0;Math.abs(this.$OzPlayheadAtInterruptionDetector3.currentTime-t)<n&&this.emit('playheadAtInterruption',t)}}destroy(){this.$OzPlayheadAtInterruptionDetector2.release()}}},19136543,[19136560,19136522,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends(r(d[1])){constructor(t){super(),this.$OzPlayingStatePriorityStrategy1=new(r(d[0])),this.$OzPlayingStatePriorityStrategy3=(()=>{this.emit('state_changed')}),this.$OzPlayingStatePriorityStrategy2=t,this.$OzPlayingStatePriorityStrategy1.addSubscriptions(this.$OzPlayingStatePriorityStrategy2.addEventListener('playing',this.$OzPlayingStatePriorityStrategy3),this.$OzPlayingStatePriorityStrategy2.addEventListener('play',this.$OzPlayingStatePriorityStrategy3),this.$OzPlayingStatePriorityStrategy2.addEventListener('pause',this.$OzPlayingStatePriorityStrategy3))}isActive(){return!0}getName(){return'playing_state'}setSourceBufferState(t){}getPriority(){return this.$OzPlayingStatePriorityStrategy2.isPlaying()?1:0}destroy(){this.$OzPlayingStatePriorityStrategy1.release()}}},19136544,[19136522,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';const{getBufferAheadFromCurrentTime:t}=r(d[0]),s=6,f=1e3;m.exports=class extends(r(d[3])){constructor(t){super(),this.$OzBufferAheadPriorityStrategy1=new(r(d[1])),this.$OzBufferAheadPriorityStrategy3=(()=>{this.emit('state_changed')}),this.$OzBufferAheadPriorityStrategy2=t,this.$OzBufferAheadPriorityStrategy1.addSubscriptions(this.$OzBufferAheadPriorityStrategy2.addEventListener('progress',r(d[2])(this.$OzBufferAheadPriorityStrategy3,f)),this.$OzBufferAheadPriorityStrategy2.addEventListener('timeupdate',r(d[2])(this.$OzBufferAheadPriorityStrategy3,f)))}getName(){return'buffer_ahead'}setSourceBufferState(t){this.$OzBufferAheadPriorityStrategy4||this.$OzBufferAheadPriorityStrategy1.addSubscriptions(t.addEventListener('buffer_updated',r(d[2])(this.$OzBufferAheadPriorityStrategy3,f)))}isActive(){return!0}getPriority(){const f=this.$OzBufferAheadPriorityStrategy4;if(!f)return 1;const u=this.$OzBufferAheadPriorityStrategy2.getCurrentTime(),h=f.getBufferedRanges();return t(u,h)>=s?0:1}destroy(){this.$OzBufferAheadPriorityStrategy1.release()}}},19136545,[19136657,19136522,19136611,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class extends(r(d[1])){constructor(t){super(),this.$OzPriorityCalculator1=new(r(d[0])),this.$OzPriorityCalculator2=t,this.$OzPriorityCalculator1.addSubscriptions(...this.$OzPriorityCalculator2.map(t=>t.addListener('state_changed',s=>{this.emit('state_changed',this.compute(),t.getName())})))}setSourceBufferState(t){this.$OzPriorityCalculator2.forEach(s=>s.setSourceBufferState(t)),this.emit('state_changed',this.compute(),'source_buffer')}compute(){return this.$OzPriorityCalculator2.reduce((t,s)=>t+(s.isActive()?s.getPriority():0),0)}destroy(){this.$OzPriorityCalculator1.release()}}},19136546,[19136522,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,n){this.$OzBufferTargetBoundedStreamSegmentsCountStrategy1=t,this.$OzBufferTargetBoundedStreamSegmentsCountStrategy2=n}isActive(t){return!t.isPlaying()}getSegmentsCount(t,n,u){const s=t.getCurrentTime(),o=this.$OzBufferTargetBoundedStreamSegmentsCountStrategy1.computeBufferTarget();let f=1,S=n,T=n.getTimeRange().startTime;for(;null!==S&&T<o+s&&(S=u.getSegmentAfter(S));)T=S.getTimeRange().startTime,f++;return f}}},19136548,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,s){this.$OzPausedStreamSegmentsCountStrategy1=t,this.$OzPausedStreamSegmentsCountStrategy2=s}isActive(){return!this.$OzPausedStreamSegmentsCountStrategy1.isPlaying()}getSegmentsCount(t,s,n){return this.$OzPausedStreamSegmentsCountStrategy2.getNumber('paused_stream_segments_count')}}},19136549,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=1;m.exports=class{constructor(t){this.$OzStreamSegmentsCountCalculator1=t}computeMin(n,o,s){let u=Number.MAX_VALUE;for(const t of this.$OzStreamSegmentsCountCalculator1)t.isActive(n)&&(u=Math.min(u,t.getSegmentsCount(n,o,s)));return u===Number.MAX_VALUE?t:Math.max(u,t)}}},19136550,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const t=new(r(d[0]));m.exports=function(n,u=null){return n.find(n=>{const c=n.getInitSegment(),s=c&&c.getByteRange();return!!(c&&s&&u)&&u.hasCacheValue(t.createRequestParam(c.getURI(),s).uri.toString())})||null}},19136552,[19136590]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t,n){this.$OzAudioIBRManager1=t,this.$OzAudioIBRManager2=n}getInitialAudioRepresentation(t){const n=r(d[0]).getAdjustedBandwidth(this.$OzAudioIBRManager1.getLegacyConfig()),o=t.slice(0);o.sort((t,n)=>t.getBandwidth()-n.getBandwidth());const s=n*this.$OzAudioIBRManager1.getNumber('live_audio_ibr_bandwidth_percentage');for(let t=o.length-1;t>=0;t--)if(o[t].getBandwidth()<=s)return this.$OzAudioIBRManager2.getOperationLogger('audio_ibr_success').setRepresentationID(o[t].getID()).setReason(n.toString()).log(),o[t];return this.$OzAudioIBRManager2.getOperationLogger('audio_ibr_no_op').setReason(n.toString()).log(),null}}},19136553,[19136632]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=class{constructor(t){this.$OzLiveheadDeltaCatchupStrategy1=t}isEnabled(t,n){return(!this.$OzLiveheadDeltaCatchupStrategy1.getBool('live_catch_up_only_when_paused')||t.paused)&&'number'==typeof n.getMinimumUpdatePeriod()}computeNewPlayheadPosition(t,n){const l=t.currentTime,u=n.getVideoRepresentations()[0];if(!u)return null;const h=u.getTimeRanges();if(0===h.length)return null;const s=h[h.length-1].endTime;return s-l>this.$OzLiveheadDeltaCatchupStrategy1.getNumber('live_catch_up_fall_behind_threshold')?s-this.$OzLiveheadDeltaCatchupStrategy1.getNumber('live_catch_up_live_head_delta'):null}}},19136555,[]);
__d(function(g,r,i,a,m,e,d){'use strict';const{listenDOMEvent:t}=r(d[0]),{BUFFER_UNDERFLOW_THRESHOLD:f,hasEnoughBuffer:n}=r(d[1]),{OzVideoBufferingState:s,OzVideoPausedState:u,OzVideoPlayingState:o}=r(d[2]),c=150;m.exports=class extends(r(d[6])){constructor(h,O,B){super(),this.$OzBufferingDetector1=new(r(d[3])),this.$OzBufferingDetector7=(t=>{this.$OzBufferingDetector9(t)}),this.$OzBufferingDetector8=(t=>{const f=this.$OzBufferingDetector9(t)instanceof s;return!!this.$OzBufferingDetector3.getBool('suppress_playing_event_while_buffering',!1)&&f}),this.$OzBufferingDetector2=h,this.$OzBufferingDetector3=O,this.$OzBufferingDetector4=B,this.$OzBufferingDetector2.paused?this.$OzBufferingDetector5=new u(this.$OzBufferingDetector3):this.$OzBufferingDetector5=n(this.$OzBufferingDetector2,this.$OzBufferingDetector3.getNumber('in_play_buffer_underflow_target',f),this.$OzBufferingDetector4(),this.$OzBufferingDetector3)?new o(this.$OzBufferingDetector3):new s(this.$OzBufferingDetector3,null),this.$OzBufferingDetector6=new(r(d[4]))(this.$OzBufferingDetector2),this.$OzBufferingDetector1.addSubscriptions(t(this.$OzBufferingDetector2,'pause',this.$OzBufferingDetector7),t(this.$OzBufferingDetector2,'play',this.$OzBufferingDetector7),this.$OzBufferingDetector6.capture('playing',this.$OzBufferingDetector8),t(this.$OzBufferingDetector2,'progress',r(d[5])(this.$OzBufferingDetector7,c)),t(this.$OzBufferingDetector2,'timeupdate',r(d[5])(this.$OzBufferingDetector7,c)),t(this.$OzBufferingDetector2,'seeked',this.$OzBufferingDetector7),t(this.$OzBufferingDetector2,'seeking',this.$OzBufferingDetector7),t(this.$OzBufferingDetector2,'waiting',this.$OzBufferingDetector7))}$OzBufferingDetector9(t){const f=this.$OzBufferingDetector5.handleEvent(t,this.$OzBufferingDetector2,this.$OzBufferingDetector4()),n=this.$OzBufferingDetector5;this.$OzBufferingDetector5=f;const u=f instanceof s,c=n instanceof s;if(f===n)return f;if(u){const t=n instanceof o?'in_play':'start/unpause';this.emit('enter_buffering',t)}else c&&this.emit('leave_buffering');return f instanceof o&&this.$OzBufferingDetector6.dispatchIfSuppressed('playing'),f}destroy(){this.$OzBufferingDetector1.release()}}},19136556,[19136560,19136657,19136672,19136522,19136673,19136611,19136557]);
__d(function(g,r,i,a,m,e,d){'use strict';const{BUFFER_OVERFLOW_THRESHOLD:t,BUFFER_UNDERFLOW_THRESHOLD:n,hasEnoughBuffer:s}=r(d[0]);class u{constructor(t,n){this.$OzVideoBufferingState1=t,this.$OzVideoBufferingState2=n}handleEvent(n,u,h){if('pause'===n.type||u.paused)return new o(this.$OzVideoBufferingState1);const O=this.$OzVideoBufferingState2 instanceof f?this.$OzVideoBufferingState1.getNumber('in_play_buffer_overflow_target',t):this.$OzVideoBufferingState1.getNumber('start_buffer_underflow_target',t);return s(u,O,h,this.$OzVideoBufferingState1)?new f(this.$OzVideoBufferingState1):this}}class o{constructor(t){this.$OzVideoPausedState1=t}handleEvent(t,o,h){if('play'===t.type||'playing'===t.type||!o.paused){const t=this.$OzVideoPausedState1.getNumber('start_buffer_underflow_target',n);return s(o,t,h,this.$OzVideoPausedState1)?new f(this.$OzVideoPausedState1):new u(this.$OzVideoPausedState1,this)}return this}}class f{constructor(t){this.$OzVideoPlayingState1=t}handleEvent(t,f,h){if('pause'===t.type||f.paused)return new o(this.$OzVideoPlayingState1);const O=this.$OzVideoPlayingState1.getNumber('in_play_buffer_underflow_target',n);return this.$OzVideoPlayingState1.getBool('buffer_when_waiting',!1)&&'waiting'===t.type||!s(f,O,h,this.$OzVideoPlayingState1)?new u(this.$OzVideoPlayingState1,this):this}}m.exports={OzVideoBufferingState:u,OzVideoPausedState:o,OzVideoPlayingState:f}},19136672,[19136657]);
__d(function(g,r,i,a,m,e,d){'use strict';const{captureDOMEvent:t,suppressDOMEvent:s}=r(d[0]);m.exports=class{constructor(t){this.$OzDomEventCapturer1=new Map,this.$OzDomEventCapturer2=t}capture(s,n){const p=this.$OzDomEventCapturer2.parentNode;return p?t(p,s,t=>{t.target===this.$OzDomEventCapturer2&&n(t)&&this.$OzDomEventCapturer3(t)}):{remove:()=>{}}}dispatchIfSuppressed(t){const s=this.$OzDomEventCapturer1.get(t);s&&this.$OzDomEventCapturer2.dispatchEvent(s),this.$OzDomEventCapturer1.delete(t)}$OzDomEventCapturer3(t){s(t),this.$OzDomEventCapturer1.set(t.type,t)}}},19136673,[19136560]);